var Ls=Object.defineProperty,Us=Object.defineProperties;var Gs=Object.getOwnPropertyDescriptors;var lt=Object.getOwnPropertySymbols;var Vs=Object.prototype.hasOwnProperty,Ys=Object.prototype.propertyIsEnumerable;var Ge=(e,s,r)=>s in e?Ls(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,N=(e,s)=>{for(var r in s||(s={}))Vs.call(s,r)&&Ge(e,r,s[r]);if(lt)for(var r of lt(s))Ys.call(s,r)&&Ge(e,r,s[r]);return e},J=(e,s)=>Us(e,Gs(s));var mt=(e,s,r)=>(Ge(e,typeof s!="symbol"?s+"":s,r),r);import{d as C,c as Fs,a as dt,I as ut,A as pt,W as qs,s as Ks,b as Hs,g as zs,e as k,f as g,r as M,h as o,i as t,w as S,j as R,k as _,o as a,p as be,l as js,t as u,m as Qs,n as me,C as Ws,q as Js,u as ee,v as X,x as Xs,y as Ve,z as $e,B as de,D as Zs,E as gt,F as ht,R as _t,G as ft,H as er,J as tr,K as sr,L as rr,M as _e,N as Z,O as ue,P as ir,Q,S as oe,T as te,U as A,V as nr,X as or,Y as P,Z as ar,_ as yt,$ as Ne,a0 as pe,a1 as cr,a2 as vt,a3 as fe,a4 as re,a5 as F,a6 as ie,a7 as Ye,a8 as lr,a9 as bt,aa as $t,ab as mr,ac as St,ad as dr,ae as ur,af as pr,ag as gr,ah as hr,ai as _r,aj as fr,ak as yr}from"./chunk-vendor-metrics.2.5.2.js";var z;(function(e){e.SET_DARK_MODE="SET_DARK_MODE",e.SET_COMPARE_MODE_TYPE="SET_COMPARE_MODE_TYPE",e.SET_DATE_RANGE="SET_DATE_RANGE",e.SET_SLUG_BUTTON_DATE="SET_SLUG_BUTTON_DATE",e.SET_ADVANCED_PLAN="SET_ADVANCED_PLAN",e.SET_ACCOUNT="SET_ACCOUNT",e.SET_FIRST_SYNC="SET_FIRST_SYNC",e.SET_LAST_SYNC="SET_LAST_SYNC",e.SET_START_SYNC="SET_START_SYNC",e.SET_PLAN_MODAL_OPENED="SET_PLAN_MODAL_OPENED",e.SET_SHOP_ID="SET_SHOP_ID",e.SET_PLAN="SET_PLAN",e.SET_TODAY_ACCESSIBLE="SET_TODAY_ACCESSIBLE",e.RETRIEVE_TOKEN="RETRIEVE_TOKEN",e.TOGGLE_FULLSCREEN="TOGGLE_FULLSCREEN",e.SET_ERROR_ON_KPI="SET_ERROR_ON_KPI",e.SET_MODULES_IS_ENABLED="SET_MODULES_IS_ENABLED",e.REQUEST_SYNCHRONISATION="REQUEST_SYNCHRONISATION",e.REQUEST_FULL_SYNCHRONISATION="REQUEST_FULL_SYNCHRONISATION"})(z||(z={}));var B;(function(e){e.SET_DARK_MODE="SET_DARK_MODE",e.SET_COMPARE_MODE_TYPE="SET_COMPARE_MODE_TYPE",e.SET_DATE_RANGE="SET_DATE_RANGE",e.SET_SLUG_BUTTON_DATE="SET_SLUG_BUTTON_DATE",e.SET_ACCOUNT="SET_ACCOUNT",e.SET_FIRST_SYNC="SET_FIRST_SYNC",e.SET_LAST_SYNC="SET_LAST_SYNC",e.SET_START_SYNC="SET_START_SYNC",e.SET_PLAN_MODAL_OPENED="SET_PLAN_MODAL_OPENED",e.SET_SHOP_ID="SET_SHOP_ID",e.SET_PLAN="SET_PLAN",e.SET_TOKEN="SET_TOKEN",e.TOGGLE_FULLSCREEN="TOGGLE_FULLSCREEN",e.SET_TODAY_ACCESSIBLE="SET_TODAY_ACCESSIBLE",e.SET_ERROR_ON_KPI="SET_ERROR_ON_KPI"})(B||(B={}));const vr={[z.SET_TODAY_ACCESSIBLE]({commit:e},s){e(B.SET_TODAY_ACCESSIBLE,s)},[z.SET_DARK_MODE]({commit:e},s){e(B.SET_DARK_MODE,s)},[z.SET_DATE_RANGE]({commit:e},s){e(B.SET_DATE_RANGE,s)},[z.SET_SLUG_BUTTON_DATE]({commit:e},s){e(B.SET_SLUG_BUTTON_DATE,s)},[z.SET_PLAN]({commit:e},s){e(B.SET_PLAN,s)},[z.SET_ACCOUNT]({commit:e},s){const r={plan:s.plan,first_sync_asked_at:s.first_sync_asked_at,last_sync_at:s.last_sync_at,shopID:s.shop_id,shop_url:s.shop_url,start_sync_at:s.start_sync_at,email_account:s.email_account};e(B.SET_ACCOUNT,r)},[z.SET_FIRST_SYNC]({commit:e},s){e(B.SET_FIRST_SYNC,s)},[z.SET_LAST_SYNC]({commit:e},s){e(B.SET_LAST_SYNC,s)},[z.SET_START_SYNC]({commit:e},s){e(B.SET_START_SYNC,s)},[z.SET_PLAN_MODAL_OPENED]({commit:e},s){e(B.SET_PLAN_MODAL_OPENED,s)},[z.SET_SHOP_ID]({commit:e},s){e(B.SET_SHOP_ID,s)},[z.TOGGLE_FULLSCREEN]({commit:e},s){e(B.TOGGLE_FULLSCREEN,s)},async[z.RETRIEVE_TOKEN]({commit:e},s){try{const i=await(await fetch(`${s}&action=GetOrRefreshToken`)).json();e(B.SET_TOKEN,i)}catch(r){console.error(r)}},[z.SET_COMPARE_MODE_TYPE]({commit:e},s){e(B.SET_COMPARE_MODE_TYPE,s)},[z.SET_ERROR_ON_KPI]({commit:e},s){e(B.SET_ERROR_ON_KPI,s)},async[z.REQUEST_SYNCHRONISATION]({rootState:e},s,r=!1){return fetch(`https://eventbus-sync.psessentials.net/sync/trigger${r?"-full":""}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${e.main.psAccountToken}`}}).catch(i=>{throw i})},async[z.REQUEST_FULL_SYNCHRONISATION]({dispatch:e}){e(z.REQUEST_SYNCHRONISATION,!0)}};var x;(function(e){e.GET_DARK_MODE="GET_DARK_MODE",e.GET_VARIABLES_QUERY="GET_VARIABLES_QUERY",e.GET_OPTIONS_QUERY="GET_OPTIONS_QUERY",e.GET_SLUG_BUTTON_DATE="GET_SLUG_BUTTON_DATE",e.GET_CURRENT_DATE_RANGE="GET_CURRENT_DATE_RANGE",e.GET_IS_ADVANCED="GET_IS_ADVANCED",e.GET_PREVIOUS_DATE_RANGE="GET_PREVIOUS_DATE_RANGE",e.GET_PLAN_MODAL_OPENED="GET_PLAN_MODAL_OPENED",e.GET_SYNC_STATUS="GET_SYNC_STATUS",e.PRODUCT_TOUR_DONE="PRODUCT_TOUR_DONE",e.IS_FIRST_SYNC="IS_FIRST_SYNC",e.IS_FIRST_ACCESS="IS_FIRST_ACCESS",e.HAS_GOOGLE_ACCOUNT="HAS_GOOGLE_ACCOUNT",e.TODAY_IS_ACCESSIBLE="TODAY_IS_ACCESSIBLE",e.GET_ERROR_ON_KPI="GET_ERROR_ON_KPI",e.GET_USER_EMAIL="GET_USER_EMAIL",e.PSX_IS_CONNECTED="PSX_IS_CONNECTED",e.GA_IS_CONNECTED="GA_IS_CONNECTED",e.IS_LEGACY_STATS_PAGE="IS_LEGACY_STATS_PAGE",e.GET_COMPARE_MODE_TYPE="GET_COMPARE_MODE_TYPE",e.IS_COMPARE_MODE_ENABLED="IS_COMPARE_MODE_ENABLED",e.PREVIOUS_PERIOD_IS_AVAILABLE="PREVIOUS_PERIOD_IS_AVAILABLE",e.LAST_YEAR_IS_AVAILABLE="LAST_YEAR_IS_AVAILABLE",e.IS_GA4_VERSION="IS_GA4_VERSION"})(x||(x={}));const br={[x.GET_DARK_MODE](e){return e.darkMode},[x.GET_VARIABLES_QUERY](e){return{inputData:{TimeDimension:{dateRange:e.dateRange},ShopId:e.accounts.shopID,compareMode:e.compareMode,compareModeType:e.compareModeType}}},[x.GET_OPTIONS_QUERY](e){return{fetchPolicy:"cache-and-network",clientId:e.accounts.plan!=="metrics-free"&&e.accounts.plan!==""&&e.accounts.last_sync_at!==-1&&e.slugButtonDate!=="today"?"paidClient":"default"}},[x.GET_SLUG_BUTTON_DATE](e){return e.slugButtonDate},[x.GET_SYNC_STATUS](e){return e.syncStatus},[x.GET_IS_ADVANCED](e){return e.accounts.plan!=="metrics-free"&&e.accounts.plan!==""},[x.GET_PLAN_MODAL_OPENED](e){return e.planModalOpened},[x.GET_COMPARE_MODE_TYPE](e){return e.compareModeType},[x.PREVIOUS_PERIOD_IS_AVAILABLE](e){return e.dateRangeTooLarge.previousPeriod===!1},[x.LAST_YEAR_IS_AVAILABLE](e){return e.dateRangeTooLarge.lastYear===!1},[x.IS_COMPARE_MODE_ENABLED](e){return e.compareMode},[x.GET_CURRENT_DATE_RANGE](e){return{startDate:C(e.dateRange.startDate).format("YYYY-MM-DD"),endDate:C(e.dateRange.endDate).format("YYYY-MM-DD")}},[x.GET_PREVIOUS_DATE_RANGE](e){const s=C(e.dateRange.startDate),i=C(e.dateRange.endDate).diff(s,"day"),c=s.subtract(1,"day");return{startDate:c.subtract(i,"day").format("YYYY-MM-DD"),endDate:c.format("YYYY-MM-DD")}},[x.PRODUCT_TOUR_DONE](e){return e.productTourAdvancedDone?"metrics-advanced":e.productTourFreeDone?"metrics-free":null},[x.GET_SYNC_STATUS](e){return e.syncStatus},[x.IS_FIRST_ACCESS](e){return e.accounts.first_sync_asked_at!==-1&&e.accounts.start_sync_at===-1&&e.accounts.last_sync_at===-1},[x.IS_FIRST_SYNC](e){return e.accounts.first_sync_asked_at!==-1&&e.accounts.start_sync_at!==-1&&e.accounts.last_sync_at===-1},[x.HAS_GOOGLE_ACCOUNT](e){return e.googleAccount&&e.googleAccount.selected},[x.TODAY_IS_ACCESSIBLE](e){return e.todayIsAccessible},[x.GET_ERROR_ON_KPI](e){return e.errorOnKpi},[x.GET_USER_EMAIL](e){return e.user.email},[x.PSX_IS_CONNECTED](e){return e.user.emailIsValidated&&e.user.email!==""},[x.GA_IS_CONNECTED](e){return e.user.gaIsOnboarded},[x.IS_LEGACY_STATS_PAGE](e){return e.isLegacyStatsPage},[x.IS_GA4_VERSION](e){var s;return((s=e.googleAccount)==null?void 0:s.type_source)==="GA4"}};var he;(function(e){e.NONE="NONE",e.PREVIOUS_PERIOD="PREVIOUS_PERIOD",e.LAST_YEAR="LAST_YEAR"})(he||(he={}));const $r={[B.SET_DARK_MODE](e,s){e.darkMode=s},[B.SET_COMPARE_MODE_TYPE](e,s){e.compareModeType=s},[B.SET_DATE_RANGE](e,s){const r=C(s.endDate).diff(s.startDate,"days"),i=C().diff(s.endDate,"days"),c=C().diff(s.startDate,"month");e.main.app!=="dashboard"&&(e.dateRangeTooLarge.previousPeriod=!1,e.dateRangeTooLarge.lastYear=!1),e.accounts.plan==="metrics-advanced"?(c>=12&&(e.dateRangeTooLarge.lastYear=!0),i+r*2>=730&&(e.dateRangeTooLarge.lastYear=!0,e.dateRangeTooLarge.previousPeriod=!0)):(e.dateRangeTooLarge.lastYear=!0,i+r*2>=91&&(e.dateRangeTooLarge.previousPeriod=!0)),e.dateRangeTooLarge.lastYear&&e.compareModeType===he.LAST_YEAR&&(e.compareModeType=he.PREVIOUS_PERIOD),e.compareMode=!e.dateRangeTooLarge.previousPeriod,e.dateRange=s},[B.SET_SLUG_BUTTON_DATE](e,s){e.slugButtonDate=s},[B.SET_ACCOUNT](e,s){e.accounts=Object.assign(e.accounts,s),s.first_sync_asked_at!==-1&&(e.syncStatus="scheduled"),s.last_sync_at!==-1&&(e.syncStatus="done"),s.start_sync_at!==-1&&(e.syncStatus="syncing")},[B.SET_PLAN](e,s){e.accounts.plan=s.plan},[B.SET_FIRST_SYNC](e,s){e.accounts.first_sync_asked_at=s,e.syncStatus="scheduled"},[B.SET_LAST_SYNC](e,s){e.accounts.last_sync_at=s,e.accounts.next_sync_at=C().add(1,"day").startOf("day").add(1,"hours").valueOf(),e.syncStatus="done"},[B.SET_START_SYNC](e,s){e.accounts.start_sync_at=s,e.syncStatus="syncing"},[B.SET_PLAN_MODAL_OPENED](e,s){e.planModalOpened=s},[B.SET_SHOP_ID](e,s){e.accounts.shopID=s},[B.SET_TOKEN](e,s){sessionStorage.setItem("metricsToken",s.token)},[B.TOGGLE_FULLSCREEN](e,s){e.fullscreen=s},[B.SET_TODAY_ACCESSIBLE](e,s){e.todayIsAccessible=s},[B.SET_ERROR_ON_KPI](e,s){e.errorOnKpi=s}},Sr={main:{},darkMode:!1,fullscreen:!1,todayIsAccessible:!1,isoCode:"en",dateRangeTooLarge:{previousPeriod:!1,lastYear:!1},dateRange:{startDate:C().subtract(7,"day").format("YYYY-MM-DD"),endDate:C().subtract(1,"day").format("YYYY-MM-DD")},compareMode:!0,compareModeType:he.PREVIOUS_PERIOD,slugButtonDate:"7d",syncStatus:"scheduled",accounts:{shopID:"",url_shop:"",plan:"",first_sync_asked_at:1,start_sync_at:1,next_sync_at:1,last_sync_at:1},planModalOpened:!1,links:{},errorOnKpi:!1},{storePsMetrics:Se,contextPsAccounts:Et}=window;var As;Object.assign((As=Se==null?void 0:Se.context)==null?void 0:As.user,Et?Et.user:{});const ne=Object.assign(Se?Se.context:{},N({},Sr));ne.shop.shopUuid&&(ne.accounts.shopID=ne.shop.shopUuid);ne.i18n.isoCode&&(ne.isoCode=ne.i18n.isoCode);ne.controllersLinks&&(ne.links.faq=ne.controllersLinks.faq,ne.links.settings=ne.controllersLinks.settings);const Er={namespaced:!0,state:ne,mutations:$r,actions:vr,getters:br},Tr={menu:[{icon:"",pageName:"tab_overview",title:"menu.overview",isDisabledOnToday:!1},{icon:"DollarSgnIcon",pageName:"tab_business",title:"menu.business",isDisabledOnToday:!0},{icon:"",pageName:"tab_acquisition",title:"menu.acquisition",isDisabledOnToday:!0},{icon:"",pageName:"tab_customer_knowledge",title:"menu.customerKnowledge",isDisabledOnToday:!0}]},Cr={menu:e=>e.menu},kr={namespaced:!0,state:Tr,getters:Cr},Tt=Fs({modules:{main:Er,topMenu:kr}});function G(){return Tt}const Dr=G(),wr=dt({uri:Dr.state.main.controllersLinks.graphql}),Ar=new ut,Rr=new pt({link:wr,cache:Ar}),Ie=sessionStorage.getItem("metricsToken"),Nr=new qs({uri:"wss://analytics-api.psessentials.net/graphql",options:{reconnect:!0,connectionParams:{authorization:Ie?`Bearer ${Ie}`:""}}}),Ir=dt({uri:"https://analytics-api.psessentials.net/graphql",credentials:"same-origin",headers:{"Access-Control-Allow-Origin":"*"}}),Mr=Ks((e,{headers:s})=>({headers:J(N({},s),{authorization:Ie?`Bearer ${Ie}`:""})})),Or=Mr.concat(Ir),Pr=Hs(({query:e})=>{const s=zs(e);return s.kind==="OperationDefinition"&&s.operation==="subscription"},Nr,Or),Br=new ut,xr=new pt({link:Pr,cache:Br});var Ct=k({setup(){var p,f,y;const e=G(),s=!1,r=(y=(f=(p=window.storePsMetrics)==null?void 0:p.context)==null?void 0:f.shop)==null?void 0:y.shopUuid,i=g(()=>e.getters["main/GET_IS_ADVANCED"]),c=M(0);return{appMode:s,shopId:r,copyUuid:()=>{navigator.clipboard.writeText(r)},clearLocalStorage:()=>{localStorage.clear()},clearSessionStorage:()=>{sessionStorage.clear()},clearAllCookies:()=>{document.cookie.split(";").forEach(b=>{const v=b.indexOf("="),D=v>-1?b.substr(0,v):b;document.cookie=D+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"})},switchAdvancedMode:()=>{const b={plan:i.value?"metrics-free":"metrics-advanced",shopID:"",url_shop:"",first_sync_asked_at:"",start_sync_at:"",last_sync_at:"",email_account:"",next_sync_at:""};e.dispatch("main/SET_PLAN",b)},shopUuidInput:c,isAdvanced:i}}});const Lr={key:0,class:"metrics-flex metrics-flex-row metrics-items-center metrics-justify-between"},Ur={class:"metrics-w-full metrics-inline-block"},Gr={class:"metrics-flex metrics-rounded-lg metrics-text-md metrics-my-5"},Vr=t("li",{class:"metrics-cursor-default metrics-button-date metrics-cursor metrics-border metrics-bg-red-500 metrics-text-white metrics-border-gray-400 metrics-rounded-l-lg"}," DEV MODE ROUTE ",-1),Yr=t("a",null,"preview page",-1),Fr=t("a",null,"metrics page",-1),qr={class:"metrics-w-full metrics-flex metrics-flex-row metrics-items-center metrics-justify-center"},Kr={class:"metrics-w-full metrics-flex metrics-flex-row metrics-items-center metrics-ml-auto"},Hr=t("label",{for:"shop-uuid",class:"metrics-uppercase metrics-font-bold"},"Your shopId:",-1);function zr(e,s,r,i,c,m){const n=_("router-link");return e.appMode?(a(),o("div",Lr,[t("div",Ur,[t("ul",Gr,[Vr,t(n,{tag:"li",to:"/preview",class:" metrics-button-date metrics-border metrics-bg-white metrics-border-gray-400 metrics-text-gray-700 metrics-zoom-in-no-shadow"},{default:S(()=>[Yr]),_:1}),t(n,{tag:"li",to:"/",class:" metrics-button-date metrics-border metrics-bg-white metrics-border-gray-400 metrics-text-gray-700 metrics-zoom-in-no-shadow metrics-rounded-r-lg"},{default:S(()=>[Fr]),_:1})])]),t("div",qr,[t("input",{type:"button",id:"clear-cookies-button",value:"clear cookies",class:"metrics-bg-red-500 metrics-text-white metrics-mx-1 metrics-p-1 metrics-rounded",onClick:s[1]||(s[1]=(...l)=>e.clearAllCookies&&e.clearAllCookies(...l))}),t("input",{type:"button",id:"clear-local-storage-button",value:"clear local storage",class:"metrics-bg-red-500 metrics-text-white metrics-mx-1 metrics-p-1 metrics-rounded",onClick:s[2]||(s[2]=(...l)=>e.clearLocalStorage&&e.clearLocalStorage(...l))}),t("input",{type:"button",id:"clear-session-storage-button",value:"clear session storage",class:"metrics-bg-red-500 metrics-text-white metrics-mx-1 metrics-p-1 metrics-rounded",onClick:s[3]||(s[3]=(...l)=>e.clearSessionStorage&&e.clearSessionStorage(...l))})]),t("div",Kr,[Hr,t("input",{id:"shop-uuid",type:"text",ref:"shopUuidInput",class:"metrics-w-64 metrics-py-1 metrics-rounded metrics-mx-1 metrics-text-center",value:e.shopId,readonly:""},null,8,["value"]),t("input",{type:"button",value:"copy",class:"metrics-bg-blue-500 metrics-text-white metrics-mx-1 metrics-p-1 metrics-rounded",onClick:s[4]||(s[4]=(...l)=>e.copyUuid&&e.copyUuid(...l))}),t("input",{type:"button",id:"advance-switch-button",value:`switch advance mode (${e.isAdvanced})`,class:"metrics-bg-green-500 metrics-text-white metrics-mx-1 metrics-p-1 metrics-rounded",onClick:s[5]||(s[5]=(...l)=>e.switchAdvancedMode&&e.switchAdvancedMode(...l))},null,8,["value"])])])):R("",!0)}Ct.render=zr;var kt=k({components:{debugBar:Ct},setup(){const e=G(),s=e.state.main.shop.shopUuid;return e.dispatch("main/RETRIEVE_TOKEN",e.state.main.controllersLinks.accounts),be(js,{default:Rr,paidClient:xr}),{shopId:s}}});const jr={id:"metrics"},Qr={id:"shop-id",class:"metrics-absolute metrics-z-50 metrics-right-5 metrics-mt-1 metrics-text-gray-400"};function Wr(e,s,r,i,c,m){const n=_("debug-bar"),l=_("router-view");return a(),o("div",jr,[t("span",Qr,u(e.shopId),1),t(n),t(l)])}kt.render=Wr;C.extend(Qs);const Ee={cutText(e,s){if(e.split(" ").length>1){const i=e.substring(0,s).split(" ");return i.pop(),i.join(" ")+"..."}else return e},formatDate(e,s){return C(e).format(s)},capitalizeFirstLetter(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""},onlyNumber(e){return e?e.replace(/\D/g,""):""},formatCurrency(e){if(e){const s=e.toString().replace(/\D/g,""),r=s.length%3;let i=s.substr(0,r);const c=s.substr(r).match(/\d{3}/g);let m;return c&&(m=r?".":"",i+=m+c.join(".")),i}else return""},timeAgo(e){const s=new Date((e||"").replace(/-/g,"/").replace(/[TZ]/g," ")),r=(new Date().getTime()-s.getTime())/1e3,i=Math.floor(r/86400);return isNaN(i)||i<0||i>=31?C(e).format("MMMM DD, YYYY"):i===0&&(r<60&&"just now"||r<120&&"1 minute ago"||r<3600&&Math.floor(r/60)+" minutes ago"||r<7200&&"1 hour ago"||r<86400&&Math.floor(r/3600)+" hours ago")||i===1&&"Yesterday"||i<7&&i+" days ago"||i<31&&Math.ceil(i/7)+" weeks ago"},diffTimeByNow(e){const s=C(C().format("YYYY-MM-DD HH:mm:ss").toString()),r=C(C(e).format("YYYY-MM-DD HH:mm:ss").toString()),i=C.duration(r.diff(s)),c=Math.floor(i.asMilliseconds()),m=Math.round(c/864e5),n=Math.round(c%864e5/36e5);let l=Math.round(c%864e5%36e5/6e4);const h=Math.round(c%864e5%36e5%6e4/1e3);return h<30&&h>=0&&(l+=1),{days:m.toString().length<2?"0"+m:m,hours:n.toString().length<2?"0"+n:n,minutes:l.toString().length<2?"0"+l:l,seconds:h.toString().length<2?"0"+h:h}},isset(e){return e!=null?typeof e=="object"||Array.isArray(e)?Object.keys(e).length:e.toString().length:!1},toRaw(e){return JSON.parse(JSON.stringify(e))},randomNumbers(e,s,r){const i=[0];for(let c=1;c<r;c++)i.push(Math.ceil(Math.random()*(e-s)+s));return i}},Jr=e=>{e.config.globalProperties.$h=Ee};var Dt=k({name:"GlobalChart",props:{type:{type:String,required:!0,default:"line",validator:e=>["line","pie","doughnut","bar"].indexOf(e)!==-1},data:{type:Object,required:!0,default:()=>({})},options:{type:Object,default:()=>({})},width:{type:Number,default:0},height:{type:Number,default:0}},setup(e){const s=M(),r=()=>{var n;const c=(n=s.value)==null?void 0:n.getContext("2d"),m=new Ws.exports.Chart(c,{plugins:[Js],type:e.type,data:Ee.toRaw(e.data),options:e.options});ee(e,()=>{m.data=Ee.toRaw(e.data),m.options=e.options,m.update()})},i=()=>{e.width&&X(s.value).attr({width:e.width}),e.height&&X(s.value).attr({height:e.height})};return me(()=>{i(),r()}),{chartRef:s}}});const Xr={ref:"chartRef"};function Zr(e,s,r,i,c,m){return a(),o("canvas",Xr,null,512)}Dt.render=Zr;var wt=k({name:"GlobalLoadingIcon",props:{icon:{type:String,default:""},color:{type:String,default:"#2d3748"}}});const ei=t("g",{transform:"matrix(1 0 0 -1 0 80)"},[t("rect",{width:"10",height:"20",rx:"3"},[t("animate",{attributeName:"height",begin:"0s",dur:"4.3s",values:"20;45;57;80;64;32;66;45;64;23;66;13;64;56;34;34;2;23;76;79;20",calcMode:"linear",repeatCount:"indefinite"})]),t("rect",{x:"15",width:"10",height:"80",rx:"3"},[t("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"80;55;33;5;75;23;73;33;12;14;60;80",calcMode:"linear",repeatCount:"indefinite"})]),t("rect",{x:"30",width:"10",height:"50",rx:"3"},[t("animate",{attributeName:"height",begin:"0s",dur:"1.4s",values:"50;34;78;23;56;23;34;76;80;54;21;50",calcMode:"linear",repeatCount:"indefinite"})]),t("rect",{x:"45",width:"10",height:"30",rx:"3"},[t("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"30;45;13;80;56;72;45;76;34;23;67;30",calcMode:"linear",repeatCount:"indefinite"})])],-1),ti={key:1,width:"20",viewBox:"0 0 57 57",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},si={fill:"none","fill-rule":"evenodd"},ri={transform:"translate(1 1)"},ii=t("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;5;50;50",calcMode:"linear",repeatCount:"indefinite"},null,-1),ni=t("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",values:"5;27;49;5",calcMode:"linear",repeatCount:"indefinite"},null,-1),oi=t("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",from:"5",to:"5",values:"5;50;50;5",calcMode:"linear",repeatCount:"indefinite"},null,-1),ai=t("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",from:"27",to:"27",values:"27;49;5;27",calcMode:"linear",repeatCount:"indefinite"},null,-1),ci=t("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;50;5;50",calcMode:"linear",repeatCount:"indefinite"},null,-1),li=t("animate",{attributeName:"cx",from:"49",to:"49",begin:"0s",dur:"2.2s",values:"49;5;27;49",calcMode:"linear",repeatCount:"indefinite"},null,-1),mi=t("rect",{y:"10",width:"15",height:"120",rx:"6"},[t("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})],-1),di=t("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},[t("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})],-1),ui=t("rect",{x:"60",width:"15",height:"140",rx:"6"},[t("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})],-1),pi=t("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},[t("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})],-1),gi=t("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},[t("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})],-1),hi=t("path",{d:"M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z"},[t("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"-360 67 67",dur:"2.5s",repeatCount:"indefinite"})],-1),_i=t("path",{d:"M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z"},[t("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"360 67 67",dur:"8s",repeatCount:"indefinite"})],-1),fi=t("circle",{cx:"12.5",cy:"12.5",r:"12.5"},[t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),yi=t("circle",{cx:"12.5",cy:"52.5",r:"12.5","fill-opacity":".5"},[t("animate",{attributeName:"fill-opacity",begin:"100ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),vi=t("circle",{cx:"52.5",cy:"12.5",r:"12.5"},[t("animate",{attributeName:"fill-opacity",begin:"300ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),bi=t("circle",{cx:"52.5",cy:"52.5",r:"12.5"},[t("animate",{attributeName:"fill-opacity",begin:"600ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),$i=t("circle",{cx:"92.5",cy:"12.5",r:"12.5"},[t("animate",{attributeName:"fill-opacity",begin:"800ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Si=t("circle",{cx:"92.5",cy:"52.5",r:"12.5"},[t("animate",{attributeName:"fill-opacity",begin:"400ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Ei=t("circle",{cx:"12.5",cy:"92.5",r:"12.5"},[t("animate",{attributeName:"fill-opacity",begin:"700ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Ti=t("circle",{cx:"52.5",cy:"92.5",r:"12.5"},[t("animate",{attributeName:"fill-opacity",begin:"500ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Ci=t("circle",{cx:"92.5",cy:"92.5",r:"12.5"},[t("animate",{attributeName:"fill-opacity",begin:"200ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),ki=t("path",{d:"M30.262 57.02L7.195 40.723c-5.84-3.976-7.56-12.06-3.842-18.063 3.715-6 11.467-7.65 17.306-3.68l4.52 3.76 2.6-5.274c3.717-6.002 11.47-7.65 17.305-3.68 5.84 3.97 7.56 12.054 3.842 18.062L34.49 56.118c-.897 1.512-2.793 1.915-4.228.9z","fill-opacity":".5"},[t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.4s",values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"})],-1),Di=t("path",{d:"M105.512 56.12l-14.44-24.272c-3.716-6.008-1.996-14.093 3.843-18.062 5.835-3.97 13.588-2.322 17.306 3.68l2.6 5.274 4.52-3.76c5.84-3.97 13.592-2.32 17.307 3.68 3.718 6.003 1.998 14.088-3.842 18.064L109.74 57.02c-1.434 1.014-3.33.61-4.228-.9z","fill-opacity":".5"},[t("animate",{attributeName:"fill-opacity",begin:"0.7s",dur:"1.4s",values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"})],-1),wi=t("path",{d:"M67.408 57.834l-23.01-24.98c-5.864-6.15-5.864-16.108 0-22.248 5.86-6.14 15.37-6.14 21.234 0L70 16.168l4.368-5.562c5.863-6.14 15.375-6.14 21.235 0 5.863 6.14 5.863 16.098 0 22.247l-23.007 24.98c-1.43 1.556-3.757 1.556-5.188 0z"},null,-1),Ai=t("g",{fill:"none","fill-rule":"evenodd"},[t("g",{transform:"translate(1 1)","stroke-width":"4"},[t("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),t("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[t("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})])])],-1),Ri=t("g",{fill:"none","fill-rule":"evenodd","stroke-width":"4"},[t("circle",{cx:"22",cy:"22",r:"1"},[t("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),t("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})]),t("circle",{cx:"22",cy:"22",r:"1"},[t("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),t("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})])],-1),Ni=t("g",{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)","stroke-width":"3"},[t("circle",{cx:"22",cy:"22",r:"6","stroke-opacity":"0"},[t("animate",{attributeName:"r",begin:"1.5s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"stroke-opacity",begin:"1.5s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"stroke-width",begin:"1.5s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})]),t("circle",{cx:"22",cy:"22",r:"6","stroke-opacity":"0"},[t("animate",{attributeName:"r",begin:"3s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"stroke-opacity",begin:"3s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"stroke-width",begin:"3s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})]),t("circle",{cx:"22",cy:"22",r:"8"},[t("animate",{attributeName:"r",begin:"0s",dur:"1.5s",values:"6;1;2;3;4;5;6",calcMode:"linear",repeatCount:"indefinite"})])],-1),Ii={key:9,width:"20",viewBox:"0 0 58 58",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},Mi={fill:"none","fill-rule":"evenodd"},Oi=t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"1;0;0;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),Pi=t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;1;0;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),Bi=t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;1;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),xi=t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;1;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),Li=t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;1;0;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),Ui=t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;0;1;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),Gi=t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;0;0;1;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),Vi=t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;0;0;0;1",calcMode:"linear",repeatCount:"indefinite"},null,-1),Yi={key:10,width:"20",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},Fi={id:"a",x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%"},qi={fill:"none","fill-rule":"evenodd"},Ki={transform:"translate(1 1)"},Hi=t("path",{id:"Oval-2",d:"M36 18c0-9.94-8.06-18-18-18",stroke:"url(#a)","stroke-width":"3"},[t("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})],-1),zi=t("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"},null,-1),ji=t("circle",{cx:"15",cy:"15",r:"15"},[t("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Qi=t("circle",{cx:"60",cy:"15",r:"9","fill-opacity":"0.3"},[t("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})],-1),Wi=t("circle",{cx:"105",cy:"15",r:"15"},[t("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})],-1);function Ji(e,s,r,i,c,m){return a(),o("span",null,[e.icon=="audio"?(a(),o("svg",{key:0,width:"15",viewBox:"0 0 55 80",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[ei],8,["fill"])):e.icon=="ball-triangle"?(a(),o("svg",ti,[t("g",si,[t("g",ri,[t("circle",{cx:"5",cy:"50",r:"5",fill:e.color},[ii,ni],8,["fill"]),t("circle",{cx:"27",cy:"5",r:"5",fill:e.color},[oi,ai],8,["fill"]),t("circle",{cx:"49",cy:"50",r:"5",fill:e.color},[ci,li],8,["fill"])])])])):e.icon=="bars"?(a(),o("svg",{key:2,width:"20",viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[mi,di,ui,pi,gi],8,["fill"])):e.icon=="circles"?(a(),o("svg",{key:3,width:"20",viewBox:"0 0 135 135",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[hi,_i],8,["fill"])):e.icon=="grid"?(a(),o("svg",{key:4,width:"20",viewBox:"0 0 105 105",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[fi,yi,vi,bi,$i,Si,Ei,Ti,Ci],8,["fill"])):e.icon=="hearts"?(a(),o("svg",{key:5,width:"30",viewBox:"0 0 140 64",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[ki,Di,wi],8,["fill"])):e.icon=="oval"?(a(),o("svg",{key:6,width:"25",viewBox:"-2 -2 42 42",xmlns:"http://www.w3.org/2000/svg",stroke:e.color,class:"w-full h-full"},[Ai],8,["stroke"])):e.icon=="puff"?(a(),o("svg",{key:7,width:"25",viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg",stroke:e.color,class:"w-full h-full"},[Ri],8,["stroke"])):e.icon=="rings"?(a(),o("svg",{key:8,width:"30",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg",stroke:e.color,class:"w-full h-full"},[Ni],8,["stroke"])):e.icon=="spinning-circles"?(a(),o("svg",Ii,[t("g",Mi,[t("g",{transform:"translate(2 1)",stroke:e.color,"stroke-width":"1.5"},[t("circle",{cx:"42.601",cy:"11.462",r:"5","fill-opacity":"1",fill:e.color},[Oi],8,["fill"]),t("circle",{cx:"49.063",cy:"27.063",r:"5","fill-opacity":"0",fill:e.color},[Pi],8,["fill"]),t("circle",{cx:"42.601",cy:"42.663",r:"5","fill-opacity":"0",fill:e.color},[Bi],8,["fill"]),t("circle",{cx:"27",cy:"49.125",r:"5","fill-opacity":"0",fill:e.color},[xi],8,["fill"]),t("circle",{cx:"11.399",cy:"42.663",r:"5","fill-opacity":"0",fill:e.color},[Li],8,["fill"]),t("circle",{cx:"4.938",cy:"27.063",r:"5","fill-opacity":"0",fill:e.color},[Ui],8,["fill"]),t("circle",{cx:"11.399",cy:"11.462",r:"5","fill-opacity":"0",fill:e.color},[Gi],8,["fill"]),t("circle",{cx:"27",cy:"5",r:"5","fill-opacity":"0",fill:e.color},[Vi],8,["fill"])],8,["stroke"])])])):e.icon=="tail-spin"?(a(),o("svg",Yi,[t("defs",null,[t("linearGradient",Fi,[t("stop",{"stop-color":e.color,"stop-opacity":"0",offset:"0%"},null,8,["stop-color"]),t("stop",{"stop-color":e.color,offset:"100%"},null,8,["stop-color"]),t("stop",{"stop-color":e.color,"stop-opacity":".631",offset:"63.146%"},null,8,["stop-color"])])]),t("g",qi,[t("g",Ki,[Hi,t("circle",{fill:e.color,cx:"36",cy:"18",r:"1"},[zi],8,["fill"])])])])):e.icon=="three-dots"?(a(),o("svg",{key:11,width:"25",viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[ji,Qi,Wi],8,["fill"])):R("",!0)])}wt.render=Ji;const Xi=(e,s)=>{e.tns=Xs(N({container:e,slideBy:"page",mouseDrag:!0,touch:!1,autoplay:!0,controls:!0,nav:!1,speed:500},s.options))},Zi=e=>{e.tns.destroy(),e.tns.rebuild()};var At=k({name:"GlobalTinySlider",directives:{slider:{mounted(e,{value:s}){Xi(e,s.props)},updated(e){Zi(e)}}},props:{options:{type:Object,default:()=>({})},refKey:{type:String,default:null}},setup(e,s){const r=M(),i=()=>{if(e.refKey){const c=Ve(`bind[${e.refKey}]`);c&&c(r.value)}};return me(()=>{i()}),J(N({props:e},s),{sliderRef:r})}});const en={ref:"sliderRef",class:"tiny-slider"};function tn(e,s,r,i,c,m){const n=Zs("slider");return $e((a(),o("div",en,[de(e.$slots,"default")],512)),[[n,{props:e.props,emit:e.emit}]])}At.render=tn;var Rt=k({name:"GlobalTippyContent",props:{to:{type:String,default:"span"},options:{type:Object,default:()=>({})},refKey:{type:String,default:null}},setup(e){const s=M(),r=()=>{gt(`[name="${e.to}"]`,N({plugins:[ht],content:s.value,allowHTML:!0,arrow:_t,popperOptions:{modifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport"}}]},animateFill:!1,animation:"shift-away",theme:"light",trigger:"click"},e.options))},i=()=>{if(e.refKey){const c=Ve(`bind[${e.refKey}]`);c&&c(s.value)}};return me(()=>{r(),i()}),{tippyRef:s}}});const sn={ref:"tippyRef"};function rn(e,s,r,i,c,m){return a(),o("div",sn,[de(e.$slots,"default")],512)}Rt.render=rn;var Nt=k({name:"GlobalTippy",props:{show:{type:Boolean,default:!0},content:{type:String,required:!0},tag:{type:String,default:"span"},options:{type:Object,default:()=>({})},refKey:{type:String,default:null}},setup(e){const s=M(),r=()=>{gt(s.value,N({plugins:[ht],content:e.content,arrow:_t,popperOptions:{modifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport"}}]},animateFill:!1,animation:"shift-away"},e.options))},i=()=>{if(e.refKey){const c=Ve(`bind[${e.refKey}]`);c&&c(s.value)}};return ee(()=>e.show,c=>{c&&(r(),i())}),me(()=>{r(),i()}),{tippyRef:s}}});function nn(e,s,r,i,c,m){return e.show?(a(),o(ft(e.tag),{key:0,ref:"tippyRef"},{default:S(()=>[de(e.$slots,"default")]),_:3},512)):(a(),o(ft(e.tag),{key:1},{default:S(()=>[de(e.$slots,"default")]),_:3}))}Nt.render=nn;var on=e=>{e.component("Tippy",Nt),e.component("Chart",Dt),e.component("TippyContent",Rt),e.component("LoadingIcon",wt),e.component("TinySlider",At);for(const[s,r]of Object.entries(er))r.props.size.default="24",e.component(s,r)};(function(e){e("body").on("click",".copy-code",function(){const s=e(this).data("target");e(s).find("textarea")[0].select(),e(s).find("textarea")[0].setSelectionRange(0,99999),document.execCommand("copy")})})(X);(function(e){function s(){e(".metrics-dropdown-box").each(async function(){if(e(this).attr("id")!==void 0&&e(`[data-dropdown-replacer="${e(this).attr("id")}"]`).length&&e(this).data("dropdown-programmatically")===void 0){const m=e(this).attr("id");e(this).removeClass("show"),await setTimeout(()=>{e(`[data-dropdown-replacer="${m}"]`).replaceWith(this),e(this).removeAttr("style"),e(this).removeAttr("data-popper-placement")},200)}else e(this).attr("id")!==void 0&&!e(`[data-dropdown-replacer="${e(this).attr("id")}"]`).length&&e(this).hasClass("show")&&e(this).data("dropdown-programmatically")===void 0?e(this).remove():e(this).data("dropdown-programmatically")==="initiate"?e(this).attr("data-dropdown-programmatically","showed"):e(this).data("dropdown-programmatically")==="showed"&&e(this).removeAttr("data-dropdown-programmatically")})}function r(m){const n=e(m).find(".metrics-dropdown-box").first(),l=e(m).find(".metrics-dropdown-toggle"),h=e(m).data("placement")?e(m).data("placement"):"bottom-end",d=`_${Math.random().toString(36).substr(2,9)}`;s(),e(n).length&&(e(m).css("position")==="static"&&e(m).css("position","relative"),e(n).css("width",e(n).css("width")),e(`<div data-dropdown-replacer="${d}"></div>`).insertAfter(n),e(n).attr("id",d).appendTo("body"),tr(l[0],n[0],{placement:h}),e(n).addClass("show"))}function i(m){const n=e(m).find(".metrics-dropdown-box").first();e(n).length?c(m):s()}function c(m){if(e(m).find(".metrics-dropdown-box").length)e(m).find(".metrics-dropdown-box").attr("data-dropdown-programmatically","initiate");else{const n=e("[data-dropdown-replacer]").data("dropdown-replacer");e(`#${n}`).attr("data-dropdown-programmatically","initiate")}r(m)}e("body").on("click",function(m){const n=e(m.target).closest(".metrics-dropdown"),l=e(n).find(".metrics-dropdown-toggle"),h=e(n).find(".metrics-dropdown-box").first(),d=e(m.target).closest(".metrics-dropdown-box").first(),p=e(m.target).data("dismiss");!e(n).length&&!e(d).length||e(l).length&&!e(h).length||p==="dropdown"?s():e(d).length||r(n)}),e.fn.dropdown=function(m){m==="show"?c(this):m==="hide"?s():m==="toggle"&&i(this)}})(X);(function(e){const s=[];function r(){let d=52;return e(".modal").each(function(){e(this).css("z-index")!=="auto"&&e(this).css("z-index")>d&&(d=parseInt(e(this).css("z-index")))}),d}function i(d){if(e(d)[0]!==void 0)return window.innerWidth-e(d)[0].clientWidth}function c(d){e(`<div data-modal-replacer="${e(d).attr("id")}"></div>`).insertAfter(d),e(d).css({"margin-top":0,"margin-left":0}),e(d).appendTo("body"),setTimeout(()=>{e(d).addClass("show").css("z-index",r()+1)},200),e("body").css("padding-right",`${parseInt(e("body").css("padding-right"))+i("html")}px`).addClass("overflow-y-hidden"),e(".metrics-modal").removeClass("overflow-y-auto").css("padding-left","0px"),e(d).addClass("overflow-y-auto").css("padding-left",`${i(d)}px`).addClass(e(".metrics-modal.show").length?"metrics-modal__overlap":""),s.forEach(function(p,f){e(d).attr("id")===e(p.el).attr("id")&&p.event==="on.show"&&(s[f].triggerCallback=!0)})}function m(d){e(d).hasClass("metrics-modal")&&e(d).hasClass("show")&&(e(d).removeClass("show"),setTimeout(()=>{e(d).removeAttr("style").removeClass("metrics-modal__overlap").removeClass("metrics-overflow-y-auto"),e(".metrics-modal").each(function(){parseInt(e(this).css("z-index"))===r()&&e(this).addClass("metrics-overflow-y-auto").css("padding-left",`${i(this)}px`)}),r()===52&&e("body").removeClass("metrics-overflow-y-hidden").css("padding-right",""),e(`[data-modal-replacer="${e(d).attr("id")}"]`).replaceWith(d)},200),s.forEach(function(p,f){e(d).attr("id")===e(p.el).attr("id")&&p.event==="on.hide"&&(s[f].triggerCallback=!0)}))}function n(d){e(d).hasClass("metrics-modal")&&e(d).hasClass("show")?m(d):c(d)}function l(d,p){s[s.length]={el:d,event:"on.show",triggerCallback:!1,callback:p}}function h(d,p){s[s.length]={el:d,event:"on.hide",triggerCallback:!1,callback:p}}e("body").on("click",'a[data-toggle="modal"]',function(){c(e(this).attr("data-target"))}),e("body").on("click",function(d){m(d.target)}),e("body").on("click",'[data-dismiss="modal"]',function(){const d=e(this).closest(".modal")[0];m(d)}),setInterval(function(){s.forEach(function(d,p){(d.event==="on.show"&&d.triggerCallback||d.event==="on.hide"&&d.triggerCallback)&&(d.callback(),s[p].triggerCallback=!1)})},300),e.fn.modal=function(d,p){d==="show"?c(this):d==="hide"?m(this):d==="toggle"?n(this):d==="on.show"?l(this,p):d==="on.hide"&&h(this,p)}})(X);(function(e){e("body").on("click",'a[data-toggle="tab"]',function(){e(this).closest(".nav-tabs").find('a[data-toggle="tab"]').removeClass("active"),e(this).addClass("active");const s=e(this).attr("data-target");e(s).closest(".tab-content").find(".tab-content__pane").removeClass("active"),e(s).addClass("active")})})(X);const{storePsMetrics:ae}=window,It=ae.context.i18n.isoCode?ae.context.i18n.isoCode:"",an=Object.assign(ae.context.app==="settings"&&ae.settings.translations?ae.settings.translations:{},N({},(ae.context.app==="dashboard"||ae.context.app==="metrics")&&ae.dashboard.translations?ae.dashboard.translations:{})),Mt={};Mt[It]={currency:{style:"currency",currency:ae.context.i18n.currencyIsoCode}};const cn=sr({locale:It,messages:an,numberFormats:Mt,fallbackLocale:"en",globalInjection:!0});C.extend(rr);var Fe=k({name:"TopBarButtonDate",setup(){const e=G(),r=_e().name==="metrics_preview",{appContext:{config:{globalProperties:{$segment:i}}}}=Z(),{t:c}=ue(),m=g(()=>e.state.main.slugButtonDate),n=g(()=>e.state.main.todayIsAccessible),l=g(()=>e.state.main.accounts.plan),h=g(()=>e.getters["main/IS_FIRST_ACCESS"]),d=g(()=>e.getters["main/IS_FIRST_SYNC"]),p=g(()=>e.getters["main/GET_IS_ADVANCED"]),f=g(()=>{const w=new Date;return p.value||w.setDate(w.getDate()-1),w}),y=g(()=>{const w=new Date;return p.value?(w.setMonth(w.getMonth()-24),w):(w.setMonth(w.getMonth()-3),w)}),b=M(null),v=g(()=>{const w=e.state.main.dateRange;return m.value!=="custom"||!(w==null?void 0:w.startDate)?c("dates.custom"):`${C(w.startDate).locale(e.state.main.isoCode).format("LL")} - ${C(w.endDate).locale(e.state.main.isoCode).format("LL")}`}),D=[{slug:"today",label:c("dates.today"),lessAccessible:"metrics-advanced",disableOnRoute:!0,displayedOnDashboard:!1,onPress:()=>T("today")},{slug:"yesterday",label:c("dates.yesterday"),lessAccessible:"metrics-free",disableOnRoute:!1,displayedOnDashboard:!0,onPress:()=>T("yesterday")},{slug:"7d",label:c("dates.7days"),lessAccessible:"metrics-free",disableOnRoute:!1,displayedOnDashboard:!0,onPress:()=>T("7d")},{slug:"30d",label:c("dates.30days"),lessAccessible:"metrics-free",disableOnRoute:!1,displayedOnDashboard:!0,onPress:()=>T("30d")},{slug:"3m",label:c("dates.3months"),lessAccessible:"metrics-free",disableOnRoute:!1,displayedOnDashboard:!1,onPress:()=>T("3m")},{slug:"6m",label:c("dates.6months"),lessAccessible:"metrics-advanced",disableOnRoute:!1,displayedOnDashboard:!1,onPress:()=>T("6m")},{slug:"custom",label:v,lessAccessible:"metrics-free",disableOnRoute:!1,displayedOnDashboard:!1,onPress:()=>{e.dispatch("main/SET_SLUG_BUTTON_DATE","custom"),e.dispatch("main/SET_ERROR_ON_KPI",!1),b.value.show()}}];me(()=>{const w=document.getElementById("metrics");T(e.getters["main/GET_SLUG_BUTTON_DATE"]),b.value=new ir({element:document.getElementById("top-bar-datepicker"),autoApply:!0,singleMode:!1,numberOfColumns:2,numberOfMonths:2,showWeekNumbers:!0,parentEl:w,maxDate:f.value,minDate:y.value,mobileFriendly:!0,lang:e.state.main.isoCode,dropdowns:{minYear:2010,maxYear:null,months:!0,years:!0},setup:L=>{L.on("selected",(se,Y)=>{const W=C(se.dateInstance).locale(e.state.main.isoCode).format("YYYY-MM-DD"),Ae=C(Y.dateInstance).locale(e.state.main.isoCode).format("YYYY-MM-DD");e.dispatch("main/SET_DATE_RANGE",{startDate:W,endDate:Ae})})}})});const T=w=>{i().track("[MTR] Overview Select Date",J(N({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]}),{slug:w}));const L=C();return{today:()=>{const Y=L,W=L;e.dispatch("main/SET_SLUG_BUTTON_DATE",w),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:Y.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:W.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},yesterday:()=>{const Y=L.subtract(1,"day"),W=Y;e.dispatch("main/SET_SLUG_BUTTON_DATE",w),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:Y.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:W.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},"7d":()=>{const Y=L.subtract(7,"day"),W=L.subtract(1,"day");e.dispatch("main/SET_SLUG_BUTTON_DATE",w),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:Y.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:W.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},"30d":()=>{const Y=L.subtract(30,"day"),W=L.subtract(1,"day");e.dispatch("main/SET_SLUG_BUTTON_DATE",w),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:Y.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:W.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},"3m":()=>{const Y=L.subtract(3,"month"),W=L.subtract(1,"day");e.dispatch("main/SET_SLUG_BUTTON_DATE",w),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:Y.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:W.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},"6m":()=>{const Y=L.subtract(6,"month"),W=L.subtract(1,"day");e.dispatch("main/SET_SLUG_BUTTON_DATE",w),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:Y.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:W.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},custom:()=>{const Y=e.getters["main/GET_CURRENT_DATE_RANGE"];e.dispatch("main/SET_SLUG_BUTTON_DATE",w),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:Y.startDate,endDate:Y.endDate})}}[w].call()},E=w=>w.lessAccessible!=="metrics-free"&&(h.value||d.value),$=w=>w.lessAccessible!=="metrics-free"&&h.value,V=w=>w.lessAccessible!=="metrics-free"&&d.value,q=w=>w.lessAccessible==="metrics-free"||l.value===w.lessAccessible,U=w=>w.disableOnRoute&&!n.value,ge=g(()=>{if(e.state.main.app==="metrics")return D;let w=[];return D.forEach(L=>{(!r||r&&L.displayedOnDashboard===!0)&&w.push(L)}),w});return{setDateRangeBySlugButton:T,slugButtonDate:m,plan:l,isAccessible:q,isFirst:E,isFirstAccess:h,isFirstSync:d,isAdvanded:p,isFirstAccessFn:$,isFirstSyncFn:V,isDisableOnRoute:U,getDisplayedButtons:ge,changeSelectDate:function(w){for(var L in D){const se=D[L];se.slug===w.target.value&&(b.value.hide(),se.onPress())}},clickSelectDate:function(w){if(w.target.value==="custom")for(var L in D){const se=D[L];se.slug===w.target.value&&se.onPress()}}}}});const ln={class:"metrics-hidden md:metrics-flex metrics-rounded-lg metrics-text-md",role:"group"},mn={class:"metrics-flex metrics-items-center metrics-justify-center metrics-truncate"},dn=t("div",{id:"top-bar-datepicker",class:"metrics-w-0 metrics-p-0 metrics-border-none"},null,-1);function un(e,s,r,i,c,m){const n=_("clock-icon"),l=_("tippy"),h=_("refresh-cw-icon"),d=_("lock-icon");return a(),o("div",null,[t("div",ln,[(a(!0),o(Q,null,oe(e.getDisplayedButtons,(p,f)=>(a(),o("button",{disabled:!e.isAccessible(p)||e.isFirst(p)||e.isDisableOnRoute(p),key:p.slug,type:"button",class:["metrics-button-date metrics-border metrics-text-white",{"active  metrics-text-white metrics-border-theme-43 metrics-bg-theme-43 metrics-cursor-default":e.slugButtonDate===p.slug,"metrics-bg-white metrics-border-gray-400 metrics-text-gray-700 metrics-zoom-in-no-shadow ":e.slugButtonDate!==p.slug,"metrics-rounded-l-lg":f===0,"metrics-rounded-r-lg":f===e.getDisplayedButtons.length-1,"metrics-cursor-not-allowed":!e.isAccessible(p)||e.isFirst(p)||e.isDisableOnRoute(p)}],onClick:te(y=>p.onPress(),["prevent"])},[t("span",mn,[e.isFirstAccessFn(p)?(a(),o(l,{key:0,tag:"div",content:e.$t("advancedPlan.menuTooltipWait")},{default:S(()=>[t(n,{class:"metrics-w-4 metrics-h-4 metrics-mr-1"})]),_:1},8,["content"])):e.isFirstSyncFn(p)?(a(),o(l,{key:1,tag:"div",content:e.$t("advancedPlan.menuTooltipWait")},{default:S(()=>[t(h,{class:"metrics-w-4 metrics-h-4 metrics-mr-1"})]),_:1},8,["content"])):e.isAccessible(p)?e.isDisableOnRoute(p)?(a(),o(l,{key:3,tag:"div",content:e.$t("advancedPlan.menuTooltipTodayNotAccessible")},{default:S(()=>[t(d,{class:"metrics-w-4 metrics-h-4 metrics-mr-1"})]),_:1},8,["content"])):R("",!0):(a(),o(l,{key:2,tag:"div",content:e.$t("advancedPlan.menuTooltipLock")},{default:S(()=>[t(d,{class:"metrics-w-4 metrics-h-4 metrics-mr-1"})]),_:1},8,["content"])),A(" "+u(typeof p.label=="string"?p.label:p.label.value),1)])],10,["disabled","onClick"]))),128)),dn]),t("select",{onChange:s[1]||(s[1]=p=>e.changeSelectDate(p)),onClick:s[2]||(s[2]=p=>e.clickSelectDate(p)),class:"metrics-appearance-none metrics-block md:metrics-hidden metrics-mb-0 metrics-py-2 metrics-px-4 metrics-pr-12 metrics-border-gray-400 metrics-border metrics-box metrics-text-base metrics-select-custom"},[(a(!0),o(Q,null,oe(e.getDisplayedButtons,(p,f)=>(a(),o("option",{key:f,disabled:!e.isAccessible(p)||e.isFirst(p)||e.isDisableOnRoute(p),class:"metrics-button-date metrics-border metrics-text-black metrics-ml-auto",selected:e.slugButtonDate===p.slug,value:p.slug},u(typeof p.label=="string"?p.label:p.label.value),9,["disabled","selected","value"]))),128))],32)])}Fe.render=un;var Ot=k({name:"CompareModeSwitcher",setup(){const e=G(),s=g(()=>e.getters["main/PREVIOUS_PERIOD_IS_AVAILABLE"]),r=g(()=>e.getters["main/LAST_YEAR_IS_AVAILABLE"]),i=g(()=>e.getters["main/GET_IS_ADVANCED"]),c=g({get(){return e.getters["main/GET_COMPARE_MODE_TYPE"]},set(l){n(),e.dispatch("main/SET_COMPARE_MODE_TYPE",l)}}),{appContext:{config:{globalProperties:{$segment:m}}}}=Z(),n=()=>{m().track("[MTR] Overview Compare Mode",J(N({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]}),{value:!c.value}))};return{CompareModeTypeEnum:he,compareModeType:c,previousPeriodAvailable:s,lastYearAvailable:r,isAdvanced:i,setCompareMode:n}}});const pn={class:"metrics-relative metrics-z-10 metrics-mt-8 metrics-mb-8 sm:metrics-mb-0"},gn={class:"metrics-flex metrics-items-center"},hn={id:"metrics-tour-compare-mode",class:"metrics-w-auto metrics-flex metrics-items-center metrics-m-auto sm:metrics-mr-0 sm:metrics-ml-auto metrics-mt-0"},_n={class:"metrics-mr-2 metrics-inline-flex"};function fn(e,s,r,i,c,m){const n=_("InfoIcon"),l=_("Tippy"),h=_("tippy");return a(),o("div",pn,[t("div",gn,[t("div",hn,[t("div",_n,u(e.$t("compareMode.title")),1),$e(t("select",{id:"metrics-tour-compare-mode",name:"compare-mode",class:"metrics-appearance-none metrics-block metrics-mb-0 metrics-py-2 metrics-px-4 metrics-pr-12 metrics-border-gray-400 metrics-border metrics-box metrics-text-base metrics-select-custom","onUpdate:modelValue":s[1]||(s[1]=d=>e.compareModeType=d),disabled:!e.previousPeriodAvailable},[t("option",{value:e.CompareModeTypeEnum.PREVIOUS_PERIOD},u(e.$t("compareMode.type.previousPeriod")),9,["value"]),t("option",{value:e.CompareModeTypeEnum.LAST_YEAR,disabled:!e.lastYearAvailable},u(e.$t("compareMode.type.lastYear")),9,["value","disabled"])],8,["disabled"]),[[nr,e.compareModeType]]),e.previousPeriodAvailable?e.isAdvanced&&!e.lastYearAvailable?(a(),o(h,{key:1,tag:"div",content:e.$t("compareMode.dateRangeTooLarge.lastYear"),class:"metrics-ml-3"},{default:S(()=>[t(n,{class:"metrics-w-5 lg:metrics-w-3 metrics-h-auto"})]),_:1},8,["content"])):e.isAdvanced?R("",!0):(a(),o(h,{key:2,tag:"div",content:e.$t("compareMode.dateRangeTooLarge.freeVersion"),class:"metrics-ml-3"},{default:S(()=>[t(n,{class:"metrics-w-5 lg:metrics-w-3 metrics-h-auto"})]),_:1},8,["content"])):(a(),o(l,{key:0,tag:"div",content:e.$t("compareMode.dateRangeTooLarge.previousPeriod"),class:"metrics-ml-3"},{default:S(()=>[t(n,{class:"metrics-w-5 lg:metrics-w-3 metrics-h-auto"})]),_:1},8,["content"]))])])])}Ot.render=fn;var Pt=k({name:"AlertConfigurationProblem",setup(){const e=G(),s=g(()=>e.getters["main/GET_IS_ADVANCED"]),r=g(()=>e.state.main.maxUserConnections<50&&!s.value),i=g(()=>e.state.main.links.faq),c=g(()=>e.state.main.errorOnKpi),m=()=>{window.location.href=`${i.value}`};return{errorConfiguration:g(()=>r).value,maxUserConnections:r,goToHelp:m,errorOnKpi:c}}});const yn={key:0,class:"metrics-relative metrics-pt-5 metrics-z-10"},vn={class:"metrics-bg-indigo-100 metrics-border-l-4 metrics-border-theme-43 metrics-text-theme-43 metrics-p-4",role:"alert"},bn={class:"metrics-font-bold"};function $n(e,s,r,i,c,m){const n=_("i18n-t");return e.errorConfiguration&&e.errorOnKpi?(a(),o("div",yn,[t("div",vn,[t("p",bn,u(e.$t("boxalert.title")),1),t(n,{keypath:"boxalert.text"},or({linktext:S(()=>[t("span",{class:"metrics-text-theme-43 metrics-cursor-pointer metrics-underline",onClick:s[1]||(s[1]=te((...l)=>e.goToHelp&&e.goToHelp(...l),["prevent"]))},u(e.$t("boxalert.link")),1)]),_:2},[e.maxUserConnections?{name:"typeerror",fn:S(()=>[A(u(e.$t("boxalert.maxUserConnections")),1)])}:void 0]),1024)])])):R("",!0)}Pt.render=$n;const Sn=e=>{const s={compareMode:{element:"#metrics-tour-compare-mode",popover:{title:e("tour.compareMode.title"),description:e("tour.compareMode.description")}},options:{element:"#metrics-tour-options",popover:{title:e("tour.options.title"),description:e("tour.options.description"),position:"left"}},panel:{element:".metrics-top-nav>ul",stageBackground:"white",popover:{title:e("tour.panels.title"),description:e("tour.panels.description")}},feedback:{element:"#metrics-tour-feedback",popover:{title:e("tour.feedback.title"),description:e("tour.feedback.description"),position:"top"}},tooltip:{element:"#metrics-tour-tips-card",popover:{title:e("tour.tips.title"),description:e("tour.tips.description"),position:"top"}}},r=[{element:"#subtab-AdminStats",popover:{title:e("tour.start.title"),description:e("tour.start.description"),position:"right"},stageBackground:"#202226"},{element:".metrics-search",popover:{title:e("tour.daterange.title"),description:e("tour.daterange.description")}},s.options,s.panel,s.compareMode,{element:"#metrics-tour-box-upgrade",popover:{title:e("tour.advanced.title"),description:e("tour.advanced.description")}},s.feedback,J(N({},s.tooltip),{beforeSelect:()=>{setTimeout(()=>{X(".driver-next-btn").addClass("metrics-bg-theme-44 metrics-border-theme-44")},500)}})],i=[{element:"#metrics-tour-start",popover:{title:e("tour.advanced_start.title"),description:e("tour.advanced_start.description")}},{element:".metrics-search",popover:{title:e("tour.advanced_daterange.title"),description:e("tour.advanced_daterange.description")}},s.panel,{element:"#metrics-tour-sync",popover:{title:e("tour.advanced_sync.title"),description:e("tour.advanced_sync.description")}},J(N(N({},s.feedback),s.compareMode),{beforeSelect:()=>{setTimeout(()=>{X(".driver-next-btn").addClass("metrics-bg-theme-44 metrics-border-theme-44")},500)}})];return{tourFree:r,tourAdvanced:i}},qe=(e,s)=>{let r=!1;return e.forEach(i=>{i.pageName===s.name&&!i.ignore?r=!0:!r&&i.subMenu&&(r=qe(i.subMenu,s))}),r},Bt=(e,s)=>(e.forEach((r,i)=>{if(typeof r!="string"){let c=e[i];c.active=(r.pageName===s.name||r.subMenu&&qe(r.subMenu,s))&&!r.ignore,r.subMenu&&(c.activeDropdown=qe(r.subMenu,s),c=N(N({},r),Bt(r.subMenu,s)))}}),e),xt=(e,s,r=!1)=>{e.subMenu?e.activeDropdown=!e.activeDropdown:r||s.push({name:e.pageName})};M(!1);const Ke=P`query getRevenue($inputData: InputData!) {
  revenueGross(InputData: $inputData) {
    currentValue
    previousValue
  } 
}`,He=P`query getOrders($inputData: InputData!) {
  orderSum(InputData: $inputData) {
    currentValue
    previousValue
  }
}`,Lt=P`query getAbandonedCart($inputData: InputData!) {
  cartAbandonedAverage(InputData: $inputData) {
    currentValue
    previousValue
  } 
}`,Ut=P`query getAvgCartValue($inputData: InputData!) {
  orderAverage(InputData: $inputData) {
    currentValue
    previousValue
  } 
}`,ze=P`query getSessions($inputData: InputData!) {
  sessions(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`,je=P`query getUniqueUsers($inputData: InputData!) {
  uniqueUsers(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`,Gt=P`query getBounceRate($inputData: InputData!) {
  bounceRate(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`,Vt=P`query getAvgSessions($inputData: InputData!) {
  avgSessions(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`,Yt=P`query getRevenue($inputData: InputData!) {
  revenueGrossGroupByDate(InputData: $inputData) {
    currentPeriod {
      currentValue
      date
    }
    previousPeriod {
      currentValue
      date
    }
  } 
}`,Qe=P`
  query getSessions(
    $inputData: InputData!
    $granularity: String!
  ) {
    sessionsGroupByDate(
      InputData: $inputData,
      Granularity: $granularity
    ) {
      currentPeriod {
        currentValue
        date
      }
      previousPeriod {
        currentValue
        date
      }
    }
  }
`,En=P`
  # Your GraphQL query or mutation goes here
  query sessionsByCategories(
    $inputData: InputData!
    $limit: Float!
    $isoCode: String!
  ) {
    sessionsGroupByCategory(
      InputData: $inputData
      Limit: $limit
      IsoCode: $isoCode
    ) {
      categories {
        previousValue
        currentValue
        category
      }
      total {
        totalCurrent
        totalPrevious
      }
    }
  }
`,Ft=P`query getOrderAverage($inputData: InputData!) {
  orderAverage(InputData: $inputData) {
    currentValue
    previousValue
  }
}`,Tn=P`query getOrderAverageGroupByDate($inputData: InputData!) {
  orderAverageGroupByDate(InputData: $inputData) {
    currentPeriod {
      currentValue
      date
    }
    previousPeriod {
      currentValue
      date
    }
  }
}`,Cn=P`query getOrderSumGroupBySource($inputData: InputData!) {
  orderSumGroupBySource(InputData: $inputData) {
    currentPeriod {
      currentValue
      source
    }
    previousPeriod {
      currentValue
      source
    }
  }
}`,qt=P`
  query getTopProduct(
    $inputData: InputData!
    $limit: Float!
    $isoCode: String!
  ) {
    productTopSeller(InputData: $inputData, Limit: $limit, IsoCode: $isoCode) {
      currentPeriod {
        id
        name
        quantity
        amount
        stock
      }
      previousPeriod {
        id
        name
        quantity
        amount
        stock
      }
    }
  }
`,kn=P`
  query getTopOneProduct(
    $inputData: InputData!
    $limit: Float!
    $isoCode: String!
  ) {
    productTopSeller(InputData: $inputData, Limit: $limit, IsoCode: $isoCode) {
      currentPeriod {
        name
        quantity
        amount
      }
      previousPeriod {
        name
        quantity
        amount
      }
    }
  }
`,Dn=P`query getOrderSumGroupByDate($inputData: InputData!) {
    orderSumGroupByDate(InputData: $inputData) {
        currentPeriod {
            currentValue
            date
        }
        previousPeriod {
            currentValue
            date
        }
    }
}`,wn=P`
  query revenueByCategory($inputData: InputData!, $isoCode: String!) {
    revenueGrossByCategories(InputData: $inputData, IsoCode: $isoCode) {
      currentValue
      previousValue
      categoryId
      category
    }
  }
`,An=P`
  # Your GraphQL query or mutation goes here
  query revenueDistribution($inputData: InputData!) {
    revenueDistribution(InputData: $inputData) {
      currentValue
      previousValue
      category
    }
  }
`,Rn=P`subscription getAccount($shopId: String!) {
  accountUpgraded(shopId: $shopId) {
    shop_id,
    plan
  } 
}`,Nn=P`
  subscription getAccount($shopId: String!) {
    accountFirstSync(shopId: $shopId) {
      shop_id
      first_sync_asked_at
    }
  }
`,In=P`
  subscription getAccount($shopId: String!) {
    accountLastSync(shopId: $shopId) {
      shop_id
      last_sync_at
    }
  }
`,Mn=P`
  subscription getAccount($shopId: String!) {
    accountStartSync(shopId: $shopId) {
      shop_id
      start_sync_at
    }
  }
`,Kt=P`
  query getAccount($shopId: String!) {
    account(shopId: $shopId) {
      shop_id
      plan
      shop_url
      email_account
      last_sync_at
      first_sync_asked_at
      start_sync_at
    }
  }
`,Ht=P`query getConversionRate($inputData: InputData!) {
  conversionRate(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`,On=P`query getTipsCards($category: String, $language: String) {
  tipscards(category: $category, language: $language) {
    uuid
    default_language
    title
    description
    language
    label
    redirect_url
  }
}`,Pn=P`
  mutation setProductTourFreeDone($done: Boolean!) {
    setProductTourFreeDone(done: $done)
  }
`,Bn=P`
  mutation setProductTourAdvancedDone($done: Boolean!) {
    setProductTourAdvancedDone(done: $done)
  }
`,xn=P`
  query getOrders($inputData: InputData!) {
    orderCountPartNewCustomer(InputData: $inputData) {
      currentValue
      previousValue
    }
  }
`,Ln=P`
  query getOrders($inputData: InputData!) {
    orderCountPartReturningCustomer(InputData: $inputData) {
      currentValue
      previousValue
    }
  }
`,Un=P`
  query getOrders($inputData: InputData!) {
    orderCountPartByCustomerCategory(InputData: $inputData) {
      currentValue
      previousValue
      category
    }
  }
`,Gn=P`
    query revenueGrossGroupByPaymentsMethods($inputData: InputData!) {
    revenueGrossGroupByPaymentsMethods(InputData: $inputData) {
      currentValue,
      paymentMethod
    }
  }
`,zt=P`query getEngagementRate($inputData: InputData!) {
  engagementRate(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`,Vn=P`query getDeviceCategories($inputData: InputData!) {
  deviceCategories(InputData: $inputData) {
    deviceCategory
    currentValue
    previousValue
  } 
}`;var jt=k({components:{TopBarButtonDate:Fe,CompareModeSwitcher:Ot,AlertConfigurationProblem:Pt},setup(){const{t:e}=ue(),s=_e(),r=ar(),i=G(),{appContext:{config:{globalProperties:{$segment:c}}}}=Z(),m=M([]),n=g(()=>Bt(i.state.topMenu.menu,s)),l=M({shopId:i.state.main.accounts.shopID}),h=M({title:"",description:""}),d=g(()=>i.state.main.fullscreen),p=g(()=>i.getters["main/GET_IS_ADVANCED"]),f=g(()=>i.state.main.controllersLinks.metrics),y=g(()=>i.getters["main/PRODUCT_TOUR_DONE"]),{tourAdvanced:b,tourFree:v}=Sn(e),D=M(!1),T=X("#metrics")[0],E=M(0),$=g(()=>{const I="metrics-bg-gray-248 metrics-z-40 metrics-shadow-md metrics--mx-3 sm:metrics--mx-8 metrics-px-3 sm:metrics-px-8 metrics-pt-0 sm:metrics-pt-0 metrics-pt-0",O=D.value?"metrics-relative metrics-mt-0":"metrics-sticky",K=d.value?"metrics-top-0":"metrics-top-1";return`${I} ${O} ${K}`}),V=function(){for(var I="metrics_visits=",O=document.cookie.split(";"),K=0;K<O.length;K++){for(var H=O[K];H.charAt(0)===" ";)H=H.substring(1);if(H.indexOf(I)===0)return H.substring(I.length,H.length)}return""},q=function(I){var O=new Date;O.setTime(O.getTime()+60*24*60*60*1e3);var K="expires="+O.toUTCString();document.cookie="metrics_visits="+I+";"+K+";path=/"};let U=parseInt(V());U||(U=0),U=U+1,c().identify(i.state.main.accounts.shopID,{domain:i.state.main.shop.domain,name:i.state.main.user.email?i.state.main.user.email.split("@")[0]:"",email:i.state.main.user.email,language:i.state.main.isoCode,version_ps:i.state.main.prestashopVersion,mtr_module_version:i.state.main.moduleVersion,mtr_plan:i.state.main.accounts.plan,mtr_nb_visits:U,mtr_last_activity_date:C().format("YYYY-MM-DD"),mtr_connected:i.getters["main/PSX_IS_CONNECTED"],mtr_ga_connected:i.getters["main/GA_IS_CONNECTED"],mtr_product_tour_free:i.state.main.productTourFreeDone,mtr_product_tour_advanced:i.state.main.productTourAdvancedDone,mtr_product_tour_free_date:i.state.main.productTourFreeDoneDate,mtr_product_tour_advanced_date:i.state.main.productTourAdvancedDoneDate}),q(U);const{mutate:ge,error:le}=yt(Pn),{mutate:ye,error:w}=yt(Bn);ee(()=>[le.value,w.value],([I,O])=>{if(E.value<3)I&&ge({done:!0}),O&&ye({done:!0}),E.value++;else throw I||O}),ee(()=>D.value,I=>{I?T.classList.add("noscroll"):T.classList.remove("noscroll")});const L=I=>{let O;I!==void 0?O=I:O=p.value?"metrics-advanced":"metrics-free",c().track("[MTR] Overview Metrics Start Tour",J(N({module:"ps_metrics"},i.getters["main/GET_USER_EMAIL"]&&{email:i.getters["main/GET_USER_EMAIL"]}),{tour:O}));const K={"metrics-free":v,"metrics-advanced":b},H=new cr({className:"metrics-box",stageBackground:"#f1f5f8",keyboardControl:!0,closeBtnText:e("tour.closeButton"),prevBtnText:e("tour.previousButton"),nextBtnText:e("tour.nextButton"),doneBtnText:e("tour.doneButton"),onHighlighted:ve=>{var Re=vt(K[O],Ue=>X(Ue.element)[0]===ve.getNode());Re&&Re.beforeSelect&&Re.beforeSelect()},onNext:ve=>{vt(K[O],Ue=>X(Ue.element)[0]===ve.getNode())&&c().track("[MTR] Overview Next Product Tour",J(N({module:"ps_metrics"},i.getters["main/GET_USER_EMAIL"]&&{email:i.getters["main/GET_USER_EMAIL"]}),{tour:O}))},onReset:()=>{D.value=!1,window.scrollTo(0,0),O==="metrics-advanced"?ye({done:!0}):ge({done:!0})}});if(D.value=!0,T.scroll(0,0),K[O])H.defineSteps(K[O]);else{D.value=!1;const ve=e("tour.noTourForPlanAvailable",O);throw new Error(ve)}setTimeout(()=>{H.start()},0)};me(()=>{const I=y.value;(!I||I==="metrics-free"&&p.value===!0)&&setTimeout(()=>{L(p.value?"metrics-advanced":"metrics-free")},2e3)});const se=g(()=>i.state.main.todayIsAccessible),Y=g(()=>i.getters["main/GET_SLUG_BUTTON_DATE"]),{result:W}=Ne(Rn,l,{fetchPolicy:"network-only",clientId:"paidClient"}),{result:Ae}=Ne(Nn,l,{fetchPolicy:"network-only",clientId:"paidClient"}),{result:j}=Ne(In,l,{fetchPolicy:"network-only",clientId:"paidClient"}),{result:Le}=Ne(Mn,l,{fetchPolicy:"network-only",clientId:"paidClient"}),Rs=g(()=>i.state.main.links.faq),Ns=g(()=>i.state.main.links.settings),Is=function(){for(var I="1f7f8a936d0bf02d1a36ae49bb4f010c=",O=document.cookie.split(";"),K=0;K<O.length;K++){for(var H=O[K];H.charAt(0)===" ";)H=H.substring(1);if(H.indexOf(I)===0)return H.substring(I.length,H.length)}return""},Ms=function(I){var O=new Date;O.setTime(O.getTime()+1*24*60*60*1e3);var K="expires="+O.toUTCString();document.cookie="1f7f8a936d0bf02d1a36ae49bb4f010c="+JSON.stringify(I)+";"+K+";path=/"},ot=Is();if(ot){const I=JSON.parse(ot);i.dispatch("main/SET_ACCOUNT",I)}else{localStorage.clear();const{result:I}=pe(Kt,l,{fetchPolicy:"network-only",clientId:"paidClient"});ee(I,O=>{O.account&&(i.dispatch("main/SET_ACCOUNT",O.account),Ms(O.account))})}const Os=function(I,O){for(var K in m.value){const H=m.value[K];H.title===I.target.value&&xt(H,O,ct(H))}};ee(W,I=>{i.dispatch("main/SET_PLAN",I.accountUpgraded)}),ee(Ae,I=>{i.dispatch("main/SET_FIRST_SYNC",I.accountFirstSync.first_sync_asked_at)}),ee(j,I=>{i.dispatch("main/SET_LAST_SYNC",I.accountLastSync.last_sync_at)}),ee(Le,I=>{i.dispatch("main/SET_START_SYNC",I.accountStartSync.start_sync_at)}),ee(g(()=>s.path),()=>{m.value=Ee.toRaw(n.value)}),me(()=>{m.value=Ee.toRaw(n.value)});const at=M(!1),Ps=()=>{c().track("[MTR] Overview Full Screen",J(N({module:"ps_metrics"},i.getters["main/GET_USER_EMAIL"]&&{email:i.getters["main/GET_USER_EMAIL"]}),{fullScreen:!d.value})),at.value||(at.value=!0,i.dispatch("main/TOGGLE_FULLSCREEN",!d.value),window.location.href=`${f.value}&fullscreen=${d.value}`)},Bs=()=>{c().track("[MTR] Overview Go To Settings",N({module:"ps_metrics"},i.getters["main/GET_USER_EMAIL"]&&{email:i.getters["main/GET_USER_EMAIL"]})),window.location.href=`${Ns.value}`},xs=()=>{window.location.href=`${Rs.value}`},ct=I=>se.value&&I.isDisabledOnToday&&Y.value==="today";return{formattedMenu:m,router:r,linkTo:xt,goToHelp:xs,goToSettings:Bs,toggleFullscreen:Ps,fullscreen:d,startTour:L,showTourText:h,topBarClasses:$,isDisabled:ct,changeSelectNav:Os}}}),Qt="/modules/ps_metrics/views/img/logo-ps-metrics.png",We="/modules/ps_metrics/views/img/icon-ps-metrics.png";const Yn={class:"metrics-h-screen"},Fn={class:"metrics-top-bar-boxed metrics-flex metrics-items-center"},qn=t("span",{id:"metrics-tour-start"},[t("img",{alt:"Prestashop Metrics",class:"metrics-h-7 metrics-hidden xl:metrics-flex",src:Qt}),t("img",{alt:"Prestashop Metrics",class:"metrics-h-7 metrics-flex xl:metrics-hidden",src:We})],-1),Kn={class:`
            metrics-intro-x metrics-relative metrics-ml-auto metrics-mr-auto
          `},Hn={class:"metrics-search metrics-block"},zn={class:`
                sm:metrics-ml-auto
                metrics-mt-0 metrics-relative metrics-text-gray-700
                dark:metrics-text-gray-300
              `},jn={id:"metrics-tour-options",class:"metrics-flex metrics-items-center"},Qn={class:`
              metrics-intro-x metrics-relative metrics-mr-2 metrics-ml-2
              lg:metrics-mr-1
              xl:metrics-mr-2
              lg:metrics-ml-1
              xl:metrics-ml-2
              metrics-cursor-pointer metrics-hidden
              lg:metrics-block
            `},Wn={class:`
              metrics-intro-x metrics-relative metrics-mr-2 metrics-ml-2
              lg:metrics-mr-1
              xl:metrics-mr-2
              lg:metrics-ml-1
              xl:metrics-ml-2
              metrics-cursor-pointer metrics-hidden
              lg:metrics-block
            `},Jn={class:`
              metrics-intro-x metrics-relative metrics-mr-2 metrics-ml-2
              lg:metrics-mr-1
              xl:metrics-mr-2
              lg:metrics-ml-1
              xl:metrics-ml-2
              metrics-cursor-pointer
            `},Xn={class:"metrics-pt-0 metrics-top-nav metrics-z-0"},Zn={class:"metrics-hidden md:metrics-flex"},eo={class:"metrics-top-menu__title"},to={class:"metrics-top-menu__title"},so={class:"metrics-content metrics-z-0"};function ro(e,s,r,i,c,m){const n=_("router-link"),l=_("top-bar-button-date"),h=_("maximize-icon"),d=_("minimize-icon"),p=_("tippy"),f=_("help-circle-icon"),y=_("settings-icon"),b=_("alert-configuration-problem"),v=_("compare-mode-switcher"),D=_("chevron-down-icon"),T=_("router-view");return a(),o("div",Yn,[t("div",{id:"metrics-tour-topbar",class:e.topBarClasses},[t("div",Fn,[t(n,{tag:"a",to:"/",class:"metrics--intro-x metrics-flex metrics-mr-0 xl:metrics-mr-5"},{default:S(()=>[qn]),_:1}),t("div",Kn,[t("div",Hn,[t("div",zn,[t(l)])])]),t("span",jn,[t("div",Qn,[t(p,{tag:"span",content:e.$t("menuDropdown.fullscreen")},{default:S(()=>[e.fullscreen?(a(),o(d,{key:1,onClick:s[2]||(s[2]=te(E=>e.toggleFullscreen(),["prevent"]))})):(a(),o(h,{key:0,onClick:s[1]||(s[1]=te(E=>e.toggleFullscreen(),["prevent"]))}))]),_:1},8,["content"])]),t("div",Wn,[t(p,{tag:"span",content:e.$t("menuDropdown.faq")},{default:S(()=>[t(f,{onClick:s[3]||(s[3]=te(E=>e.startTour(),["prevent"]))})]),_:1},8,["content"])]),t("div",Jn,[t(p,{tag:"span",content:e.$t("menuDropdown.settings")},{default:S(()=>[t(y,{onClick:s[4]||(s[4]=te(E=>e.goToSettings(),["prevent"]))})]),_:1},8,["content"])])])])],2),t(b),t(v),t("nav",Xn,[t("ul",Zn,[(a(!0),o(Q,null,oe(e.formattedMenu,(E,$)=>(a(),o("li",{key:$},[e.isDisabled(E)?(a(),o(p,{key:0,tag:"span",content:e.$t("advancedPlan.menuTooltipMenuOnTodayNotAccessible"),refKey:E.pageName},{default:S(()=>[t("a",{href:"javascript:;",class:["metrics-top-menu",{"metrics-top-menu--active":E.active,"metrics-cursor-not-allowed":e.isDisabled(E)}],onClick:V=>e.linkTo(E,e.router,e.isDisabled(E))},[t("div",eo,[A(u(e.$t(E.title))+" ",1),E.subMenu?(a(),o(D,{key:0,class:"metrics-top-menu__sub-icon"})):R("",!0)])],10,["onClick"])]),_:2},1032,["content","refKey"])):(a(),o("a",{key:1,href:"javascript:;",class:["metrics-top-menu",{"metrics-top-menu--active":E.active,"metrics-cursor-not-allowed":e.isDisabled(E)}],onClick:V=>e.linkTo(E,e.router,e.isDisabled(E))},[t("div",to,[A(u(e.$t(E.title))+" ",1),E.subMenu?(a(),o(D,{key:0,class:"metrics-top-menu__sub-icon"})):R("",!0)])],10,["onClick"]))]))),128))]),t("select",{onChange:s[5]||(s[5]=E=>e.changeSelectNav(E,e.router)),class:"metrics-appearance-none metrics-bg-gray-248 metrics-block md:metrics-hidden metrics-py-2 metrics-px-4 metrics-pr-12 metrics-box metrics-border-none metrics-shadow-none metrics-rounded-b-none metrics-text-sm metrics-select-custom"},[(a(!0),o(Q,null,oe(e.formattedMenu,(E,$)=>(a(),o("option",{key:$,disabled:e.isDisabled(E),selected:E.active,value:E.title},u(e.$t(E.title)),9,["disabled","selected","value"]))),128))],32)]),t("div",so,[t(T)])])}jt.render=ro;var Wt=k({components:{},setup(){me(()=>{X("body").removeClass("app").removeClass("login").addClass("error-page")})}});const io={class:"container"},no={class:`
        error-page
        flex flex-col
        lg:flex-row
        items-center
        justify-center
        h-screen
        text-center
        lg:text-left
      `},oo={class:"-intro-x lg:mr-20"},ao=fe(`<div class="text-white mt-10 lg:mt-0"><div class="intro-x text-8xl font-medium">404</div><div class="intro-x text-xl lg:text-3xl font-medium mt-5"> Oops. This page has gone missing. </div><div class="intro-x text-lg mt-3"> You may have mistyped the address or the page may have moved. </div><button class="
            intro-x
            button button--lg
            border border-white
            dark:border-dark-5 dark:text-gray-300
            mt-10
          "> Back to Home </button></div>`,1);function co(e,s,r,i,c,m){return a(),o("div",io,[t("div",no,[t("div",oo,[t("img",{alt:"RxD Tailwind HTML Admin Template",class:"h-48 lg:h-auto",src:require("@/assets/images/error-illustration.svg")},null,8,["src"])]),ao])])}Wt.render=co;var Jt=k({name:"LoaderBoxNumber"});const lo={class:"metrics-grid metrics-grid-cols-4 metrics-gap-1 metrics-h-full"},mo=fe('<div class="metrics-col-span-1 metrics-h-8 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-col-span-2 metrics-h-3"></div><div class="metrics-h-3 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse metrics-items-start"></div><div class="metrics-h-6 metrics-col-span-2 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse metrics-mt-3"></div><div class="metrics-col-span-3 metrics-h-1"></div><div class="metrics-col-span-3 metrics-h-3 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div>',6);function uo(e,s,r,i,c,m){return a(),o("div",lo,[mo])}Jt.render=uo;var Te=k({name:"BoxAnalyticsMustBeLinked",props:{horizontal:{type:Boolean,default:!1},largeIcon:{type:Boolean,default:!1}},setup(){const e=re();return{linkToSettings:()=>{window.location=e.state.main.configurationLink}}}}),Je="/modules/ps_metrics/views/img/oh.svg";const po={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-center metrics-justify-center"},go={class:"metrics-w-full"},ho={class:"metrics-justify-center metrics-flex metrics-mb-5"},_o={class:"metrics-mt-3 metrics-intro-x"},fo={class:"metrics-text-center metrics-text-gray-777 metrics-text-xs"};function yo(e,s,r,i,c,m){const n=_("i18n-t");return a(),o("div",null,[t("div",po,[t("div",go,[t("div",{class:["metrics-intro-x",{"metrics-float-left metrics-pl-6":e.horizontal}]},[t("div",ho,[t("img",{alt:"Prestashop Metrics",class:e.largeIcon?"metrics-w-20":"metrics-w-10",src:Je},null,2)])],2),t("div",_o,[t("div",fo,[t(n,{keypath:"error.analyticsSentence"},{linktext:S(()=>[t("span",{class:"metrics-text-theme-43 metrics-cursor-pointer metrics-underline",onClick:s[1]||(s[1]=(...l)=>e.linkToSettings&&e.linkToSettings(...l))},u(e.$t("error.analyticsSentenceLink")),1)]),_:1})])])])])])}Te.render=yo;var Xt=k({name:"ReportNumber",props:{result:{type:Object,default:()=>({})},isCurrency:{type:Boolean,default:!1},isPercent:{type:Boolean,default:!1},isTime:{type:Boolean,default:!1},tippyContentKey:{type:String,default:"boxNumber.revenueGross"},icon:{type:String,default:"ShoppingCartIcon"},title:{type:String,default:""},positiveIsLower:{type:Boolean,default:!1}},setup:function(e){const s=G(),r=g(()=>s.getters["main/IS_COMPARE_MODE_ENABLED"]),i=v=>{const D=~~(v/3600),T=~~(v%3600/60),E=~~v%60;let $="";return D>0&&($+=""+D+":"+(T<10?"0":"")),$+=""+T+"'"+(E<10?"0":""),$+=""+E+"''",$},c=g(()=>e.result.currentValue),m=g(()=>e.result.previousValue),n=g(()=>Math.round((parseFloat(c.value)+Number.EPSILON)*100)/100),l=g(()=>c.value-m.value),h=g(()=>Math.round((l.value+Number.EPSILON)*100)/100),d=g(()=>{let v;return m.value>=1?e.isPercent?v=Number(c.value-m.value):v=Number((c.value-m.value)/m.value*100):v=Number(c.value*100),Math.round((v+Number.EPSILON)*100)/100}),p=g(()=>{const v=d.value;return(v<0?v*-1:v).toFixed(0)}),f=g(()=>{const v=Math.sign(d.value);return e.positiveIsLower?v<=0:v>=0}),{t:y}=ue(),b=g(()=>{let v=p.value+"% ";return v+=f.value?y("boxNumber.higher"):y("boxNumber.lower"),v+=" "+y("boxNumber.thanLastPeriod"),v});return{formatTime:i,currentValue:c,previousValue:m,percentCompare:d,isPositive:f,compareModeEnabled:r,diffValue:l,diffValueClean:h,percentCompareAbsolute:p,currentValueClean:n,tippyContent:b}}}),Zt="/modules/ps_metrics/views/img/google-analytics.png";const vo={class:"metrics-flex"},bo={key:0,class:"metrics-report-box__icon",src:Zt,alt:"logo google analytics"},$o={key:1,class:"metrics-ml-auto metrics-flex metrics-items-center"},So={class:"metrics-text-2xl metrics-font-bold dark:metrics-text-theme-white metrics-mt-3"},Eo={class:"metrics-text-gray-777 metrics-flex metrics-justify-between metrics-items-center metrics-relative metrics-h-5"},To={class:"metrics-truncate metrics-ellipsis metrics-bg-white metrics-top-0 metrics-pr-1.5 hover:metrics-overflow-visible hover:metrics-absolute"},Co={class:"metrics-flex metrics-justify-self-end metrics-ml-auto "};function ko(e,s,r,i,c,m){const n=_("ArrowUpRightIcon"),l=_("ArrowDownRightIcon"),h=_("Tippy"),d=_("InfoIcon");return a(),o("div",null,[t("div",vo,[e.icon==="AnalyticsIcon"?(a(),o("img",bo)):R("",!0),e.compareModeEnabled?(a(),o("div",$o,[t(h,{tag:"div",class:[" metrics-report-box__indicator metrics-cursor-pointer metrics-m-0 metrics-p-0 sm:metrics-text-xs metrics-text-lg",e.isPositive?"metrics-text-theme-44":"metrics-text-theme-45"],content:e.tippyContent},{default:S(()=>[e.isTime?R("",!0):(a(),o(Q,{key:0},[A(u(e.diffValue>0?"+":" ")+" "+u(e.isCurrency?e.$n(e.diffValueClean,"currency"):e.isPercent?`${e.diffValueClean.toFixed(0)} pt`:e.diffValueClean),1)],64)),e.isPositive?(a(),o(n,{key:1,class:"metrics-w-4 metrics-h-4 metrics-ml-2"})):(a(),o(l,{key:2,class:"metrics-w-4 metrics-h-4 metrics-ml-2"})),e.isPercent?R("",!0):(a(),o(Q,{key:3},[A(u(e.percentCompareAbsolute)+"% ",1)],64))]),_:1},8,["class","content"])])):R("",!0)]),t("div",So,u(e.isCurrency?e.$n(e.currentValue,"currency"):e.isPercent?`${e.currentValueClean} %`:e.isTime?e.formatTime(e.currentValue):e.currentValueClean),1),t("div",Eo,[t("span",To,u(e.title),1),t("div",Co,[t(h,{tag:"div",content:e.$t(e.tippyContentKey)},{default:S(()=>[t(d,{class:"metrics-h-auto metrics-w-5 lg:metrics-w-3 "})]),_:1},8,["content"])])])])}Xt.render=ko;var es=k({name:"ReportNumber",props:{isCurrency:{type:Boolean,default:!1},isPercent:{type:Boolean,default:!1},isTime:{type:Boolean,default:!1},tippyContentKey:{type:String,default:"boxNumber.revenueGross"},icon:{type:String,default:"ShoppingCartIcon"},title:{type:String,default:""},positiveIsLower:{type:Boolean,default:!1}},setup:function(e){const s=G(),r=g(()=>s.getters["main/IS_COMPARE_MODE_ENABLED"]),i=v=>{const D=~~(v/3600),T=~~(v%3600/60),E=~~v%60;let $="";return D>0&&($+=""+D+":"+(T<10?"0":"")),$+=""+T+"''"+(E<10?"0":""),$+=""+E+"'",$},c=g(()=>F.datatype.number(1e4)),m=g(()=>F.datatype.number(5e3)),n=g(()=>Math.round((parseFloat(c.value)+Number.EPSILON)*100)/100),l=g(()=>c.value-m.value),h=g(()=>Math.round((l.value+Number.EPSILON)*100)/100),d=g(()=>{let v;return m.value>=1?e.isPercent?v=Number(c.value-m.value):v=Number((c.value-m.value)/m.value*100):v=Number(c.value*100),Math.round((v+Number.EPSILON)*100)/100}),p=g(()=>{const v=d.value;return(v<0?v*-1:v).toFixed(0)}),f=g(()=>{const v=Math.sign(d.value);return e.positiveIsLower?v<=0:v>=0}),{t:y}=ue(),b=g(()=>{let v=p.value+"% ";return v+=f.value?y("boxNumber.higher"):y("boxNumber.lower"),v+=" "+y("boxNumber.thanLastPeriod"),v});return{formatTime:i,currentValue:c,previousValue:m,percentCompare:d,isPositive:f,compareModeEnabled:r,diffValue:l,diffValueClean:h,percentCompareAbsolute:p,currentValueClean:n,tippyContent:b}}});const Do={class:"metrics-flex"},wo={key:0,class:"metrics-report-box__icon",src:Zt,alt:"logo google analytics"},Ao={key:1,class:"metrics-ml-auto metrics-flex metrics-items-center"},Ro={key:0,class:"metrics-blur-md"},No={key:3,class:"metrics-blur-md"},Io={class:"metrics-text-2xl metrics-font-bold dark:metrics-text-theme-white metrics-mt-3 metrics-blur-md"},Mo={class:"metrics-text-gray-777 metrics-flex metrics-justify-between metrics-items-center metrics-relative metrics-h-5"},Oo={class:"metrics-truncate metrics-ellipsis metrics-bg-white metrics-top-0 metrics-pr-1.5 hover:metrics-overflow-visible hover:metrics-absolute"},Po={class:"metrics-flex metrics-justify-self-end metrics-ml-auto "};function Bo(e,s,r,i,c,m){const n=_("ArrowUpRightIcon"),l=_("ArrowDownRightIcon"),h=_("InfoIcon"),d=_("Tippy");return a(),o("div",null,[t("div",Do,[e.icon==="AnalyticsIcon"?(a(),o("img",wo)):R("",!0),e.compareModeEnabled?(a(),o("div",Ao,[t("div",{class:["metrics-report-box__indicator metrics-cursor-pointer metrics-m-0 metrics-p-0",e.isPositive?"metrics-text-theme-44":"metrics-text-theme-45"]},[e.isTime?R("",!0):(a(),o("span",Ro,u(e.diffValue>0?"+":" ")+" "+u(e.isCurrency?e.$n(e.diffValueClean,"currency"):e.isPercent?`${e.diffValueClean.toFixed(0)} pt`:e.diffValueClean),1)),e.isPositive?(a(),o(n,{key:1,class:"metrics-w-4 metrics-h-4 metrics-ml-2"})):(a(),o(l,{key:2,class:"metrics-w-4 metrics-h-4 metrics-ml-2"})),e.isPercent?R("",!0):(a(),o("span",No,u(e.percentCompareAbsolute)+"%",1))],2)])):R("",!0)]),t("div",Io,u(e.isCurrency?e.$n(e.currentValue,"currency"):e.isPercent?`${e.currentValueClean} %`:e.isTime?e.formatTime(e.currentValue):e.currentValueClean),1),t("div",Mo,[t("span",Oo,u(e.title),1),t("div",Po,[t(d,{tag:"div",content:e.$t(e.tippyContentKey)},{default:S(()=>[t(h,{class:"metrics-w-3 metrics-h-auto"})]),_:1},8,["content"])])])])}es.render=Bo;var ce=k({name:"BoxMessage",props:{showPuffin:{type:Boolean,default:!1},message:{type:String,default:""},largeIcon:{type:Boolean,default:!1},isError:{type:Boolean,default:!1},isHorizontal:{type:Boolean,default:!1}},setup(e){const s=G();return e.isError&&s.dispatch("main/SET_ERROR_ON_KPI",!0),{}}});const xo={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-center metrics-justify-center"},Lo={class:"metrics-w-full"},Uo={key:0,class:"metrics-intro-x"},Go={class:"metrics-mt-3 metrics-intro-x"},Vo={class:"metrics-text-center metrics-text-gray-777"},Yo={class:"metrics-text-xs metrics-h-4"},Fo={class:"metrics-text-xs metrics-mt-1 metrics-h-4"};function qo(e,s,r,i,c,m){return a(),o("div",null,[t("div",xo,[t("div",Lo,[e.isError||e.showPuffin?(a(),o("div",Uo,[t("div",{class:["metrics-justify-center metrics-flex metrics-mb-5",{"metrics-float-left":e.isHorizontal}]},[t("img",{alt:"Prestashop Metrics",class:e.largeIcon?"metrics-w-20":"metrics-w-10",src:Je},null,2)],2)])):R("",!0),t("div",Go,[t("div",Vo,[t("div",Yo,[de(e.$slots,"message-line-1")]),t("div",Fo,[de(e.$slots,"message-line-2")])])])])])])}ce.render=qo;var Ce=k({name:"ReportBoxNumber",props:{title:{type:String,default:""},query:{type:Object,default:()=>({})},dimension:{type:String,default:"revenueGross"},isCurrency:{type:Boolean,default:!1},isPercent:{type:Boolean,default:!1},isTime:{type:Boolean,default:!1},faker:{type:Boolean,default:!1},tippyContentKey:{type:String,default:"boxNumber.revenueGross"},icon:{type:String,default:"ShoppingCartIcon"},mustBeGoogleLinked:{type:Boolean,default:!1},positiveIsLower:{type:Boolean,default:!1}},components:{LoaderBoxNumber:Jt,BoxAnalyticsMustBeLinked:Te,BoxMessage:ce,ReportNumber:Xt,FakerReportNumber:es},setup:function(e){const s=G(),r=g(()=>s.getters["main/GET_VARIABLES_QUERY"]),i=g(()=>s.getters["main/GET_OPTIONS_QUERY"]),c=g(()=>s.getters["main/IS_FIRST_SYNC"]);if(e.faker)return{faker:!0,result:[!0]};const{result:m,loading:n,error:l,refetch:h}=pe(e.query,r,i.value),d=g(()=>e.mustBeGoogleLinked&&!s.getters["main/HAS_GOOGLE_ACCOUNT"]);return{result:ie(m,0,f=>f[e.dimension]),loading:n,error:l,refetch:h,showAnalyticsLinkBox:d,isFirstSync:c}}});const Ko={key:0,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border metrics-h-36"},Ho={key:1,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},zo={key:2,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border metrics-h-36"},jo={key:3,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border metrics-h-36"},Qo={key:4,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border metrics-py-7"};function Wo(e,s,r,i,c,m){const n=_("BoxAnalyticsMustBeLinked"),l=_("LoaderBoxNumber"),h=_("BoxMessage"),d=_("FakerReportNumber"),p=_("ReportNumber");return a(),o("div",{key:e.title,class:"metrics-report-box metrics-h-full"},[e.showAnalyticsLinkBox?(a(),o("div",Ko,[t(n)])):e.loading?(a(),o("div",Ho,[t(l)])):e.error?(a(),o("div",zo,[t(h,{"is-error":""},{"message-line-1":S(()=>[A(u(e.$t("error.sentence")),1)]),"message-line-2":S(()=>[t("span",{class:"metrics-text-theme-43 metrics-cursor-pointer metrics-underline metrics-m-auto",onClick:s[1]||(s[1]=te((...f)=>e.refetch&&e.refetch(...f),["prevent"]))},u(e.$t("error.button")),1)]),_:1})])):e.isFirstSync?(a(),o("div",jo,[t(h,{"show-puffin":""},{"message-line-1":S(()=>[A(u(e.$t("error.awaitFirstSyncFirstLine")),1)]),"message-line-2":S(()=>[A(u(e.$t("error.awaitFirstSyncSecondLine")),1)]),_:1})])):e.result?(a(),o("div",Qo,[e.faker?(a(),o(d,{key:0,icon:e.icon,isCurrency:e.isCurrency,isPercent:e.isPercent,isTime:e.isTime,title:e.title,tippyContentKey:e.tippyContentKey,positiveIsLower:e.positiveIsLower},null,8,["icon","isCurrency","isPercent","isTime","title","tippyContentKey","positiveIsLower"])):(a(),o(p,{key:1,icon:e.icon,isCurrency:e.isCurrency,isPercent:e.isPercent,isTime:e.isTime,result:e.result,title:e.title,tippyContentKey:e.tippyContentKey,positiveIsLower:e.positiveIsLower},null,8,["icon","isCurrency","isPercent","isTime","result","title","tippyContentKey","positiveIsLower"]))])):R("",!0)])}Ce.render=Wo;var Me=k({name:"BoxUpgradePlanModal",props:{canBeClosed:{type:Boolean,default:!1}},setup(){const e=re(),s=g(()=>e.getters["main/IS_FIRST_ACCESS"]);return{isFirstSync:g(()=>e.getters["main/IS_FIRST_SYNC"]),isFirstAccess:s,closeModal:()=>{e.dispatch("main/SET_PLAN_MODAL_OPENED",!1)},registerAdvancedplan:()=>{window.location=e.state.main.configurationLink}}}});const Jo={class:"metrics-bg-blur-md metrics-top-0 metrics-bottom-0 metrics-left-0 metrics-right-0 metrics-z-50 metrics-absolute metrics-col-span-12 md:metrics-col-span-6 xl:metrics-col-span-12 xxl:metrics-col-span-12 xl:metrics-col-start-1 xl:metrics-row-start-1 xxl:metrics-col-start-auto xxl:metrics-row-start-auto metrics-mt-3"},Xo={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-start metrics-mt-20 metrics-justify-center"},Zo={class:"metrics-box metrics-grid metrics-box-border-gradient metrics-p-8"},ea={class:"metrics-intro-x"},ta={class:"metrics-justify-center metrics-flex metrics-mb-5"},sa={key:0,class:"metrics-flex metrics-items-center metrics-text-theme-43"},ra={class:"metrics-ml-3 metrics-font-bold metrics-text-center"},ia={key:1,class:"metrics-flex metrics-items-center metrics-text-theme-43"},na={class:"metrics-ml-3 metrics-font-bold metrics-text-center"},oa={class:"metrics-mt-2 metrics-intro-x metrics-px-8"},aa={class:"metrics-my-2 metrics-text-center metrics-text-gray-777"},ca={class:"metrics-text-xs metrics-truncate"},la={class:"metrics-text-xs metrics-truncate"};function ma(e,s,r,i,c,m){const n=_("xIcon"),l=_("ClockIcon"),h=_("RefreshCwIcon");return a(),o("div",Jo,[t("div",Xo,[t("div",Zo,[t("div",ea,[e.canBeClosed?(a(),o("span",{key:0,onClick:s[1]||(s[1]=d=>e.closeModal())},[t(n,{class:"metrics-w-6 metrics-h-6 metrics-w-1 metrics-float-right metrics-top-0  metrics-cursor-pointer"})])):R("",!0),t("div",ta,[e.isFirstAccess?(a(),o("div",sa,[t(l,{class:"metrics-w-5"}),t("h2",ra,u(e.$t("advancedPlan.sync.scheduled")),1)])):R("",!0),e.isFirstSync?(a(),o("div",ia,[t(h,{class:"metrics-w-5"}),t("h2",na,u(e.$t("advancedPlan.sync.syncing")),1)])):R("",!0)])]),t("div",oa,[t("div",aa,[t("div",ca,u(e.$t("advancedPlan.sync.sentence1")),1),t("div",la,u(e.$t("advancedPlan.sync.sentence2")),1)])])])])])}Me.render=ma;var Oe=k({name:"BoxUpgradePlanModal",props:{canBeClosed:{type:Boolean,default:!1}},setup(){const e=re(),{appContext:{config:{globalProperties:{$segment:s}}}}=Z();return{closeModal:()=>{e.dispatch("main/SET_PLAN_MODAL_OPENED",!1)},registerAdvancedplan:()=>{s().track("[MTR] Overview Upgrade Plan",N({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),window.location=e.state.main.controllersLinks.plans}}}});const da={class:"metrics-bg-blur-md metrics-top-0 metrics-bottom-0 metrics-left-0 metrics-right-0 metrics-z-50 metrics-absolute metrics-col-span-12 md:metrics-col-span-6 xl:metrics-col-span-12 xxl:metrics-col-span-12 xl:metrics-col-start-1 xl:metrics-row-start-1 xxl:metrics-col-start-auto xxl:metrics-row-start-auto metrics-mt-3"},ua={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-start metrics-mt-20 metrics-justify-center"},pa={class:"metrics-box metrics-grid metrics-box-border-gradient md:metrics-p-8 metrics-p-2"},ga={class:"metrics-intro-x"},ha={class:"metrics-justify-center metrics-flex metrics-mb-5 metrics-mx-5"},_a={key:1,class:"metrics-font-bold metrics-text-center"},fa={key:2,class:"metrics-font-bold metrics-text-center"},ya={class:"metrics-mt-2 metrics-intro-x metrics-px-8"},va={class:"metrics-my-2"},ba={class:"metrics-font-medium metrics-truncate"},$a={class:"metrics-text-justify metrics-mt-1"},Sa={class:"metrics-m-5 metrics-list-disc"},Ea={class:"metrics-font-medium metrics-flex metrics-mt-5"};function Ta(e,s,r,i,c,m){const n=_("xIcon"),l=_("lockIcon");return a(),o("div",da,[t("div",ua,[t("div",pa,[t("div",ga,[e.canBeClosed?(a(),o("span",{key:0,onClick:s[1]||(s[1]=h=>e.closeModal())},[t(n,{class:"metrics-w-6 metrics-h-6 metrics-w-1 metrics-float-right metrics-top-0 metrics-cursor-pointer"})])):R("",!0),t("div",ha,[t(l,{class:"metrics-w-10 metrics-h-10 metrics-w-1"})]),e.canBeClosed?(a(),o("h2",fa,u(e.$t("advancedPlan.upgradeModal.modalTitleUpgrade")),1)):(a(),o("h2",_a,u(e.$t("advancedPlan.upgradeModal.modalTitle")),1))]),t("div",ya,[t("div",va,[t("div",ba,u(e.$t("advancedPlan.upgradeModal.header")),1),t("div",$a,[t("ul",Sa,[t("li",null,u(e.$t("advancedPlan.upgradeModal.listitem.1")),1),t("li",null,u(e.$t("advancedPlan.upgradeModal.listitem.2")),1),t("li",null,u(e.$t("advancedPlan.upgradeModal.listitem.3")),1)]),A(" "+u(e.$t("advancedPlan.upgradeModal.footer")),1)]),t("div",Ea,[t("button",{type:"button",class:"metrics-button metrics-zoom-in metrics-button--lg metrics-border metrics-bg-theme-43 metrics-border-theme-43 dark:metrics-border-dark-5 metrics-text-white metrics-m-auto",onClick:s[2]||(s[2]=(...h)=>e.registerAdvancedplan&&e.registerAdvancedplan(...h))},u(e.$t("advancedPlan.upgradeModal.button")),1)])])])])])])}Oe.render=Ta;var Xe=k({name:"BoxUpgradePlan",setup(){const e=re(),r=_e().name==="metrics_preview",i=g(()=>e.state.main.newVersionAvailable),{appContext:{config:{globalProperties:{$segment:c}}}}=Z();return{isOnDashboard:r,openUpgradePlanModal:()=>{c().track("[MTR] Overview Upgrade Plan",N({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),window.location=e.state.main.controllersLinks.plans},newVersionAvailable:i}}});const Ca={key:0,class:"metrics-intro-x metrics-flex metrics-items-center metrics-h-10"},ka={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-auto"},Da={class:"metrics-mt-2 metrics-intro-x"},wa={class:"metrics-box metrics-bg-white metrics-box-border-gradient metrics-text-center"},Aa={class:"metrics-p-5"},Ra={class:"metrics-font-medium metrics-text-gray-777"},Na={class:"metrics-text-center metrics-mt-1 metrics-flex metrics-justify-center"},Ia={class:"metrics-m-auto metrics-mt-5 metrics-text-gray-777 metrics-w-42"},Ma={class:"metrics-mb-3"},Oa={class:"metrics-mb-3"},Pa={class:"metrics-font-medium metrics-flex metrics-mt-5"};function Ba(e,s,r,i,c,m){return a(),o("div",{id:"metrics-tour-box-upgrade",class:["metrics-col-span-12 sm:metrics-col-span-6 md:metrics-col-span-4 xxl:metrics-col-start-auto xxl:metrics-row-start-auto sm:metrics-mt-0",e.isOnDashboard?"md:metrics-col-span-6":"xxl:metrics-col-span-12"]},[e.isOnDashboard?R("",!0):(a(),o("div",Ca,[t("h2",ka,u(e.$t("advancedPlan.advancedPlan")),1)])),t("div",Da,[t("div",wa,[t("div",Aa,[t("div",Ra,u(e.$t("advancedPlan.upgrade.header")),1),t("div",Na,[t("ul",Ia,[t("li",Ma,u(e.$t("advancedPlan.upgrade.listitem.1")),1),t("li",Oa,u(e.$t("advancedPlan.upgrade.listitem.2")),1),t("li",null,u(e.$t("advancedPlan.upgrade.listitem.3")),1)])]),t("div",Pa,[t("button",{type:"button",onClick:s[1]||(s[1]=(...n)=>e.openUpgradePlanModal&&e.openUpgradePlanModal(...n)),class:"metrics-button metrics-zoom-in metrics-button--lg metrics-border metrics-bg-theme-43 metrics-border-theme-43 dark:metrics-border-dark-5 metrics-text-white metrics-m-auto"},u(e.$t("advancedPlan.upgrade.button")),1)])])])])],2)}Xe.render=Ba;var Ze=k({name:"BoxSynchronization",setup(){const e=G(),r=_e().name==="metrics_preview",{appContext:{config:{globalProperties:{$segment:i}}}}=Z(),{t:c}=ue(),m=()=>{e.dispatch("main/SET_PLAN_MODAL_OPENED",!0)},n=f=>({scheduled:()=>(i().track("[MTR] Overview Status Sync Scheduled",N({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),{class:"metrics-text-theme-43",text:c("advancedPlan.sync.scheduled")}),done:()=>(i().track("[MTR] Overview Status Sync Done",N({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),{class:"metrics-text-green-500",text:c("advancedPlan.sync.done")}),syncing:()=>(i().track("[MTR] Overview Status Sync Syncing",N({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),{class:"metrics-text-theme-43",text:c("advancedPlan.sync.syncing")})})[f].call(),l=g(()=>e.getters["main/GET_SYNC_STATUS"]),h=g(()=>n(l.value)),d=g(()=>{const f=e.state.main.accounts.last_sync_at;if(e.state.main.accounts.last_sync_at===-1)return!1;const y=C(f).locale(e.state.main.isoCode).format("LL");return(C().isAfter(C(f),"day")||C().isSame(C(f),"day"))&&e.dispatch("main/SET_LAST_SYNC",f),y}),p=g(()=>!e.state.main.accounts.next_sync_at&&e.state.main.accounts.next_sync_at!==-1?C(e.state.main.accounts.next_sync_at).add(1,"day").startOf("day").locale(e.state.main.isoCode).format("LLLL"):e.state.main.accounts.next_sync_at===1?C().add(1,"day").startOf("day").locale(e.state.main.isoCode).format("LLLL"):C(e.state.main.accounts.next_sync_at).locale(e.state.main.isoCode).format("LLLL"));return{isOnDashboard:r,openUpgradePlanModal:m,statusClass:h,syncStatus:l,lastSync:d,nextSync:p}}});const xa={key:0,class:"metrics-intro-x metrics-flex metrics-items-center metrics-h-10"},La=t("h2",{class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-auto metrics-flex"},[t("span",null,"Plan"),t("div",{class:"metrics-ml-4 metrics-font-normal metrics-text-sm metrics-text-white metrics-box metrics-pt-1 metrics-pb-1 metrics-pl-4 metrics-pr-4 metrics-bg-gradient-to-r metrics-from-yellow-400 metrics-to-pink-500"}," ADVANCED ")],-1),Ua={class:"metrics-mt-2 metrics-intro-x"},Ga={class:"metrics-box metrics-bg-white metrics-box-border-gradient metrics-text-center"},Va={class:"metrics-p-5"},Ya={class:"metrics-pb-10 metrics-text-sm metrics-text-gray-777 metrics-flex metrics-justify-center metrics-items-center"},Fa={class:"metrics-mt-1 metrics-pb-10"},qa={class:"metrics-flex metrics-items-center metrics-justify-center"},Ka={class:"metrics-text-sm metrics-text-gray-777"},Ha={class:"metrics-pb-5 metrics-font-semibold metrics-text-sm"},za={class:"metrics-text-xs metrics-text-gray-777"};function ja(e,s,r,i,c,m){const n=_("InfoIcon"),l=_("Tippy"),h=_("CheckCircleIcon"),d=_("ClockIcon"),p=_("RefreshCwIcon");return a(),o("div",{id:"metrics-tour-sync",class:["metrics-col-span-12 sm:metrics-col-span-6 md:metrics-col-span-4 xl:metrics-col-start-auto xl:metrics-row-start-auto xxl:metrics-col-start-auto xxl:metrics-row-start-auto sm:metrics-mt-0 xxl:metrics-mt-2",e.isOnDashboard?"md:metrics-col-span-6":"xxl:metrics-col-span-12"]},[e.isOnDashboard?R("",!0):(a(),o("div",xa,[La])),t("div",Ua,[t("div",Ga,[t("div",Va,[t("div",Ya,[t("span",null,u(e.$t("advancedPlan.sync.statusTitle")),1),t(l,{tag:"div",class:"metrics-text-sm",content:e.$t("advancedPlan.sync.statusTooltip")},{default:S(()=>[t(n,{class:"metrics-w-5 lg:metrics-w-3 metrics-ml-1"})]),_:1},8,["content"])]),t("div",Fa,[t("span",qa,[t("span",{class:["metrics-text-base metrics-font-medium",e.statusClass.class]},[$e(t(h,{key:"done",class:["metrics-m-auto metrics-mb-2 metrics-h-6",e.statusClass.class]},null,8,["class"]),[[Ye,e.syncStatus==="done"]]),$e(t(d,{key:"scheduled",class:["metrics-m-auto metrics-mb-2 metrics-h-6",e.statusClass.class]},null,8,["class"]),[[Ye,e.syncStatus==="scheduled"]]),$e(t(p,{key:"syncing",class:["metrics-m-auto metrics-mb-2 metrics-h-6",e.statusClass.class]},null,8,["class"]),[[Ye,e.syncStatus==="syncing"]]),A(" "+u(e.statusClass.text),1)],2)])]),e.lastSync?(a(),o(Q,{key:0},[t("div",Ka,u(e.$t("advancedPlan.sync.lastSync")),1),t("div",Ha,u(e.lastSync),1)],64)):R("",!0),t("div",za,u(e.$t("advancedPlan.sync.nextSync"))+" "+u(e.nextSync),1)])])])],2)}Ze.render=ja;var et=k({name:"BoxNextFeatures",setup(){const e=G(),r=_e().name==="metrics_preview",{appContext:{config:{globalProperties:{$segment:i}}}}=Z();return{isOnDashboard:r,goToFeedback:()=>{i().track("[MTR] Overview Open Next Features",N({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),window.open("https://portal.productboard.com/prestashop/1-prestashop-feedback-the-place-to-share-your-feedback-on-prestashop-s-next-features/tabs/11-prestashop-metrics","_blank")}}}});const Qa={key:0,class:"metrics-intro-x metrics-flex metrics-items-center metrics-h-10"},Wa={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-auto"},Ja={class:"metrics-mt-2 metrics-intro-x"},Xa={class:"metrics-box metrics-border-theme-5 metrics-border"},Za={class:"metrics-p-5"},ec={class:"metrics-flex metrics-justify-center metrics-text-sm metrics-m-0"},tc={class:"metrics-text-gray-777 metrics-flex"},sc={class:"metrics-m-auto metrics-mt-3 metrics-mb-0"},rc={class:"metrics-flex metrics-my-3 metrics-items-center"},ic={class:"metrics-flex metrics-my-3 metrics-items-center"},nc={class:"metrics-flex metrics-my-3 metrics-items-center"},oc={class:"metrics-font-medium metrics-flex metrics-mt-3"};function ac(e,s,r,i,c,m){const n=_("MailIcon"),l=_("UploadIcon"),h=_("ActivityIcon");return a(),o("div",{id:"metrics-tour-feedback",class:["metrics-col-span-12 sm:metrics-col-span-6 md:metrics-col-span-4 xxl:metrics-col-start-auto xxl:metrics-row-start-auto sm:metrics-mt-0",e.isOnDashboard?"md:metrics-col-span-6":"xxl:metrics-col-span-12"]},[e.isOnDashboard?R("",!0):(a(),o("div",Qa,[t("h2",Wa,u(e.$t("nextfeatures.title")),1)])),t("div",Ja,[t("div",Xa,[t("div",Za,[t("h2",ec,u(e.$t("nextfeatures.comingSoon")),1),t("div",tc,[t("ul",sc,[t("li",null,[t("span",rc,[t(n,{class:"metrics-mr-3 metrics-w-5"}),A(" "+u(e.$t("nextfeatures.weekly")),1)])]),t("li",null,[t("span",ic,[t(l,{class:"metrics-mr-3 metrics-w-5"}),A(u(e.$t("nextfeatures.export")),1)])]),t("li",null,[t("span",nc,[t(h,{name:"ActivityIcon",class:"metrics-mr-3 metrics-w-5"}),A(u(e.$t("nextfeatures.newKpi")),1)])])])]),t("div",oc,[t("button",{type:"button",class:"metrics-button metrics-button--md metrics-border metrics-bg-white hover:metrics-bg-theme-43 metrics-border-theme-43 dark:metrics-border-dark-5 metrics-text-theme-43 hover:metrics-text-white metrics-m-auto",onClick:s[1]||(s[1]=(...d)=>e.goToFeedback&&e.goToFeedback(...d))},u(e.$t("nextfeatures.feedbackButton")),1)])])])])],2)}et.render=ac;var ts=k({props:{canBeClosed:{type:Boolean,default:!0},canScrollBody:{type:Boolean,default:!0},name:{type:String,default:"modal-dialog"}},setup(e,{emit:s}){const r=M(null),i=()=>{s("ModalClose")};return lr(r,()=>{e.canBeClosed&&(i(),s("ModalClose"))}),{closeModal:i,modal:r}}});const cc={class:"metrics-flex metrics-h-full metrics-items-center metrics-justify-center metrics-shadow-xl metrics-overflow-auto"},lc={class:"metrics-box metrics-max-h-full lg:metrics-w-6/12 metrics-p-8 metrics-box-border metrics-overflow-auto metrics-w-11/12",ref:"modal"},mc={class:"metrics-intro-x"},dc={class:"metrics-justify-center metrics-flex metrics-mb-5 metrics-mx-5"},uc={class:"metrics-mt-2 metrics-intro-x lg:metrics-px-8 metrics-px-2"},pc={class:"metrics-my-2 metrics-text-center metrics-text-gray-777"},gc={class:"metrics-font-medium metrics-flex metrics-mt-5"};function hc(e,s,r,i,c,m){const n=_("xIcon");return a(),o("div",{id:e.name,class:"metrics-bg-blur-md metrics-modal metrics-top-0 metrics-bottom-0 metrics-left-0 metrics-right-0 metrics-z-50 metrics-fixed metrics-col-span-12 md:metrics-col-span-6 xl:metrics-col-span-12 xxl:metrics-col-span-12 xl:metrics-col-start-1 xl:metrics-row-start-1 xxl:metrics-col-start-auto xxl:metrics-row-start-auto metrics-mt-3"},[t("div",cc,[t("div",lc,[t("div",mc,[e.canBeClosed?(a(),o("span",{key:0,onClick:s[1]||(s[1]=l=>e.closeModal())},[t(n,{class:"metrics-w-6 metrics-h-6 metrics-w-1 metrics-float-right metrics-top-0 metrics-cursor-pointer"})])):R("",!0),t("div",dc,[de(e.$slots,"header")]),t("div",uc,[t("div",pc,[de(e.$slots,"default")]),t("div",gc,[de(e.$slots,"footer")])])])],512)])],8,["id"])}ts.render=hc;var ss=k({name:"LoaderBoxTipscards"});const _c={class:"metrics-grid metrics-grid-cols-4 metrics-gap-1 metrics-h-full metrics-p-5"},fc=fe('<div class="metrics-col-span-12 metrics-h-4 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-20 metrics-col-span-12 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse metrics-mt-4"></div><div class="metrics-col-span-1 metrics-h-4 metrics-bg-gray-400 metrics-animate-pulse metrics-mt-1"></div><div class="metrics-col-span-2 metrics-h-4 "></div><div class="metrics-col-span-9 metrics-h-4 metrics-bg-gray-400 metrics-animate-pulse metrics-mt-1"></div>',5);function yc(e,s,r,i,c,m){return a(),o("div",_c,[fc])}ss.render=yc;var rs=k({components:{ModalDialog:ts,LoaderBoxTipscards:ss,BoxMessage:ce},name:"BoxTipsCard",props:{query:{type:Object,default:()=>({})},dimension:{type:String,default:"tipscards"},label:{type:String,default:null},additionnalQueryParams:{type:Object,default:()=>({label:""})}},setup(e){const s=G(),r=g(()=>N({},e.additionnalQueryParams)),i=M(),c=M({title:"",description:"",label:"",redirect_url:""}),{appContext:{config:{globalProperties:{$segment:m}}}}=Z();be("bind[importantNotesRef]",E=>{i.value=E});const n=E=>{m().track("[MTR] Overview Tips Go To Addons",N(N({module:"ps_metrics"},s.getters["main/GET_USER_EMAIL"]&&{email:s.getters["main/GET_USER_EMAIL"]}),E))},l=E=>{m().track("[MTR] Overview Selected Tips Cards",N(N({module:"ps_metrics"},E),s.getters["main/GET_USER_EMAIL"]&&{email:s.getters["main/GET_USER_EMAIL"]})),X("#modal-tipscard").modal("show"),c.value=N({},E)},h=E=>E.substring(0,150)+"...",d=()=>{X("#modal-tipscard").modal("hide")},p={prevButton:"#tipscardsprev",nextButton:"#tipscardsnext",autoHeight:!0,autoplayTimeout:1e4},{result:f,loading:y,error:b,refetch:v}=pe(e.query,r,{fetchPolicy:"network-only",clientId:"paidClient"}),D=ie(f,[],E=>E[e.dimension]);return{result:f,loading:y,error:b,refetch:v,tipscards:D,sliderOptions:p,description:h,selectedTipscard:c,selectTipsCard:l,goToAddons:n,closeModal:d,formatTipsCardNumber:function(E,$){return parseFloat(E)+1+"/"+$}}}});const vc={id:"metrics-tour-tips-card",class:`
      metrics-col-span-12
      sm:metrics-col-span-6
      md:metrics-col-span-4
      xxl:metrics-col-span-12
      xxl:metrics-col-start-auto
      xxl:metrics-row-start-auto
      sm:metrics-mt-0
    `},bc={class:"metrics-intro-x metrics-flex metrics-items-center metrics-h-10"},$c={class:`
          metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-auto
        `},Sc={class:`
            metrics-slick-navigator
            metrics-button
            metrics-px-2
            metrics-border
            metrics-border-gray-400
            dark:metrics-border-dark-5
            metrics-flex metrics-items-center metrics-text-gray-700
            dark:metrics-text-gray-600
            metrics-mr-2
          `,id:"tipscardsprev"},Ec={class:`
            metrics-slick-navigator
            metrics-button
            metrics-px-2
            metrics-border
            metrics-border-gray-400
            dark:metrics-border-dark-5
            metrics-flex metrics-items-center metrics-text-gray-700
            dark:metrics-text-gray-600
          `,id:"tipscardsnext"},Tc={class:"metrics-mt-2 metrics-intro-x"},Cc={key:0,class:"metrics-box metrics-border-theme-5 metrics-border"},kc={key:1,class:"metrics-box metrics-border-theme-5 metrics-border"},Dc={class:"metrics-p-5"},wc={key:2,class:"metrics-box metrics-border-theme-5 metrics-border"},Ac={class:"metrics-p-5"},Rc={key:3,class:"metrics-box metrics-border-theme-5 metrics-border"},Nc={class:"metrics-text-small metrics-font-medium"},Ic={class:"metrics-font-medium metrics-flex metrics-mt-5"},Mc={class:"metrics-text-gray-777"},Oc={class:"metrics-text-lg metrics-font-medium metrics-mb-3"},Pc={class:`
            metrics-flex metrics-items-center metrics-justify-end metrics-w-full
          `};function Bc(e,s,r,i,c,m){const n=_("ChevronLeftIcon"),l=_("ChevronRightIcon"),h=_("LoaderBoxTipscards"),d=_("BoxMessage"),p=_("TinySlider"),f=_("ModalDialog");return a(),o("div",vc,[t("div",bc,[t("h2",$c,u(e.$t("tipscards.boxTitle")),1),!e.loading&&e.tipscards.length>0?(a(),o(Q,{key:0},[t("button",Sc,[t(n,{class:"metrics-w-4 metrics-h-4"})]),t("button",Ec,[t(l,{class:"metrics-w-4 metrics-h-4"})])],64)):R("",!0)]),t("div",Tc,[e.loading?(a(),o("div",Cc,[t(h)])):e.error?(a(),o("div",kc,[t("div",Dc,[t(d,{"show-puffin":""},{"message-line-1":S(()=>[A(u(e.$t("error.sentence")),1)]),"message-line-2":S(()=>[t("span",{class:"metrics-text-theme-43 metrics-cursor-pointer metrics-underline metrics-m-auto",onClick:s[1]||(s[1]=te((...y)=>e.refetch&&e.refetch(...y),["prevent"]))},u(e.$t("error.button")),1)]),_:1})])])):e.tipscards.length==0?(a(),o("div",wc,[t("div",Ac,[t(d,{"show-puffin":"","large-icon":""},{"message-line-1":S(()=>[A(u(e.$t("nodata.noTipscard")),1)]),_:1})])])):!e.loading&&e.tipscards.length>0?(a(),o("div",Rc,[t(p,{refKey:"importantNotesRef",options:e.sliderOptions},{default:S(()=>[(a(!0),o(Q,null,oe(e.tipscards,(y,b,v)=>(a(),o("div",{class:"metrics-p-5",key:v},[t("div",Nc,u(y.title),1),t("div",{class:"metrics-text-gray-777 metrics-text-justify metrics-mt-4",innerHTML:e.description(y.description)},null,8,["innerHTML"]),t("div",Ic,[t("div",Mc,u(e.formatTipsCardNumber(b,e.tipscards.length)),1),t("button",{type:"button",onClick:D=>e.selectTipsCard(y),class:`
                  metrics-button metrics-button--sm
                  metrics-border metrics-border-gray-300
                  dark:metrics-border-dark-5
                  metrics-text-gray-777 metrics-ml-auto
                `},u(e.$t("tipscards.viewTip")),9,["onClick"])])]))),128))]),_:1},8,["options"])])):R("",!0)]),t(f,{onModalClose:e.closeModal,name:"modal-tipscard"},{header:S(()=>[t("h2",Oc,u(e.selectedTipscard.title),1)]),footer:S(()=>[t("div",Pc,[e.selectedTipscard.redirect_url?(a(),o("a",{key:0,href:e.selectedTipscard.redirect_url,onClick:s[2]||(s[2]=y=>e.goToAddons(e.selectedTipscard)),target:"_blank",class:`
              metrics-button
              metrics-zoom-in
              metrics-border
              metrics-bg-theme-43
              metrics-border-theme-43
              dark:metrics-border-dark-5
              metrics-text-white
            `},u(e.$t("tipscards.showModuleButton")),9,["href"])):R("",!0)])]),default:S(()=>[t("div",{class:"metrics-max-w-xl metrics-m-auto metrics-text-left",innerHTML:e.selectedTipscard.description},null,8,["innerHTML"])]),_:1},8,["onModalClose"])])}rs.render=Bc;var tt=k({name:"BoxNewVersion",setup(){const e=G(),r=_e().name==="metrics_preview",i=M(!1),c=g(()=>e.state.main.newVersionAvailable);return{isOnDashboard:r,loading:i,goToUpgrade:()=>{i.value=!0,localStorage.clear(),window.location.href=e.state.main.controllersLinks.upgrade},newVersionAvailable:c}}});const xc={key:0,class:"metrics-intro-x metrics-flex metrics-items-center metrics-h-10"},Lc={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-auto"},Uc={class:"metrics-mt-2 metrics-intro-x"},Gc={class:"metrics-box metrics-border-theme-5 metrics-border"},Vc={class:"metrics-p-5"},Yc={class:"metrics-text-dark metrics-text-center"},Fc={class:"metrics-relative metrics-h-9 metrics-w-9 metrics-m-auto metrics-mb-5 metrics-pt-2"},qc=t("div",{class:"metrics-bg-theme-45 metrics-rounded-full metrics-h-2.5 metrics-w-2.5 metrics-absolute metrics-top-3.5 metrics-right-2"},null,-1),Kc={class:"metrics-font-medium metrics-flex metrics-mt-5"};function Hc(e,s,r,i,c,m){const n=_("BellIcon"),l=_("LoaderIcon");return e.newVersionAvailable?(a(),o("div",{key:0,class:["metrics-col-span-12 sm:metrics-col-span-6 md:metrics-col-span-4 xxl:metrics-col-start-auto xxl:metrics-row-start-auto sm:metrics-mt-0 xxl:metrics-mt-5",e.isOnDashboard?"md:metrics-col-span-6":"xxl:metrics-col-span-12"]},[e.isOnDashboard?R("",!0):(a(),o("div",xc,[t("h2",Lc,u(e.$t("newversionavailable.title")),1)])),t("div",Uc,[t("div",Gc,[t("div",Vc,[t("div",Yc,[t("div",Fc,[qc,t(n,{class:" metrics-text-theme-43 metrics-shake metrics-h-7 metrics-w-7 metrics-m-auto metrics-mt-2"})]),A(" "+u(e.$t("newversionavailable.description")),1)]),t("div",Kc,[t("button",{type:"button",class:"metrics-m-auto metrics-button metrics-zoom-in metrics-border metrics-bg-theme-43 metrics-border-theme-43 dark:metrics-border-dark-5 metrics-text-white",onClick:s[1]||(s[1]=(...h)=>e.goToUpgrade&&e.goToUpgrade(...h))},[e.loading?(a(),o(l,{key:0,class:"metrics-w-5 metrics-spin-slow"})):(a(),o(Q,{key:1},[A(u(e.$t("newversionavailable.button")),1)],64))])])])])])],2)):R("",!0)}tt.render=Hc;var is=k({name:"BoxModuleUpgraded",setup(){const e=G(),s=g(()=>e.state.main.moduleUpgraded),r=g(()=>e.state.main.moduleVersion),i=M(!1);return{moduleUpgraded:s,currentVersion:r,CloseBox:()=>{i.value=!0},forceClose:i}}});const zc={key:0,class:"metrics-col-span-12 sm:metrics-col-span-6  md:metrics-col-span-4 xxl:metrics-col-span-12 sm:metrics-mt-0"},jc=t("div",{class:"metrics-intro-x metrics-flex metrics-items-center"},null,-1),Qc={class:"metrics-mt-5 metrics-intro-x"},Wc={class:"metrics-box metrics-border metrics-border-theme-44"},Jc={class:"metrics-p-5"},Xc={class:"metrics-text-dark metrics-text-center"},Zc={class:"metrics-relative metrics-h-9 metrics-w-9 metrics-m-auto metrics-mb-5 metrics-pt-2"},el={class:"metrics-font-bold metrics-mt-2"},tl=t("div",{class:"metrics-font-medium metrics-flex metrics-mt-5"},null,-1);function sl(e,s,r,i,c,m){const n=_("xIcon"),l=_("CheckCircleIcon");return e.moduleUpgraded&&!e.forceClose?(a(),o("div",zc,[jc,t("div",Qc,[t("div",Wc,[t("div",Jc,[t("div",Xc,[t(n,{class:"metrics-w-4 metrics-h-4 metrics-w-1 metrics-float-right metrics-top-0 metrics-cursor-pointer",onClick:e.CloseBox},null,8,["onClick"]),t("div",Zc,[t(l,{class:"metrics-text-theme-44 metrics-bell-shake metrics-h-7 metrics-w-7 metrics-m-auto metrics-mt-2"})]),t("div",null,[A(u(e.$t("moduleUpgraded.title"))+" ",1),t("div",el,u(e.currentVersion),1)])]),tl])])])])):R("",!0)}is.render=sl;var ke=k({name:"RightSection",props:{tipscardsLabel:{type:String,default:""}},components:{BoxUpgradePlan:Xe,BoxSynchronization:Ze,BoxNextFeatures:et,BoxTipsCard:rs,BoxNewVersionAvailable:tt,BoxModuleUpgraded:is},setup(e){const s=re(),r=g(()=>s.getters["main/GET_IS_ADVANCED"]),i=g(()=>s.getters["main/IS_FIRST_ACCESS"]),c=g(()=>s.getters["main/IS_FIRST_SYNC"]),m=g(()=>({category:e.tipscardsLabel,language:s.state.main.isoCode}));return{advancedPlan:r,tipsCards:On,additionnalQueryTipscards:m,isFirstAccess:i,isFirstSync:c}}});const rl={class:"xxl:metrics-pl-6 l:metrics-pl-3 metrics-grid metrics-grid-cols-12 metrics-gap-y-6 metrics-gap-x-6 xxl:metrics-gap-x-0 xxl:metrics-mt-5"};function il(e,s,r,i,c,m){const n=_("BoxModuleUpgraded"),l=_("BoxNewVersionAvailable"),h=_("BoxUpgradePlan"),d=_("BoxSynchronization"),p=_("BoxNextFeatures"),f=_("BoxTipsCard");return a(),o("div",rl,[t(n),t(l),e.advancedPlan?(a(),o(d,{key:1})):(a(),o(h,{key:0})),t(p),t(f,{query:e.tipsCards,additionnalQueryParams:e.additionnalQueryTipscards},null,8,["query","additionnalQueryParams"])])}ke.render=il;var ns=k({name:"LoaderBoxHighlight"});const nl={class:"metrics-grid metrics-grid-cols-4 metrics-gap-1 metrics-h-28"},ol=fe('<div class="metrics-col-span-3 metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-col-span-2 metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-col-span-2 metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-col-span-1 metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-col-span-2 metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div>',6);function al(e,s,r,i,c,m){return a(),o("div",nl,[ol])}ns.render=al;var os=k({name:"HighlightText",components:{BoxMessage:ce},props:{keyTranslate:{type:String,default:""},typeValue:{type:String,default:"percent"},typeKpi:{type:String,default:"evolution"},dimension:{type:String,default:"orderAverage"},result:{type:Object},isSession:{type:Boolean,default:!1},total:{type:Object,default:()=>({})}},setup:function(e){const s={percent_evolution:()=>{let n=e.result?e.result.currentValue:0,l=e.result?e.result.previousValue:0;if(e.isSession&&e.total&&e.total.totalCurrent&&(n=Number(n/e.total.totalCurrent*100).toFixed(0)),n===0&&l===0)return"NO_DATA";const h=g(()=>(l=l===0?1:l,((n-l)/l*100).toFixed(0))),d=g(()=>{const b=parseInt(h.value);return(b<0?b*-1:b).toFixed(0)}),p=g(()=>Math.sign(Number.parseFloat(h.value))>=0),f=g(()=>p.value?"highlight.increased":"highlight.decreased"),y=g(()=>({"metrics-text-theme-44 metrics-font-bold":p.value,"metrics-text-theme-45 metrics-font-bold":!p.value}));return{valueKpi:h.value,valueKpiAbsolute:d.value,suffixSymbol:"%",highlight:f.value,classHighlightColor:y.value}},percent_best:()=>{const n=e.result&&e.result[0],{t:l}=ue();if(!n)return"NO_DATA";const h=n.category;let d=0;if(e.isSession&&e.total&&e.total.totalCurrent){const p=parseInt(e.total.totalCurrent)||1;d=(parseInt(n.currentValue)/p*100).toFixed(0)}else d=n.currentValue;return{productKpi:l("graph.legend."+h.replace(" ","_")),valueKpi:d,valueKpiAbsolute:d,suffixSymbol:"%",highlight:"",classHighlightColor:""}},currency_best:()=>{var d;var n=(d=e==null?void 0:e.result)==null?void 0:d.currentPeriod[0];if(!n)return"NO_DATA";var l=n.name?n.name:n.category,h=n.amount?n.amount:n.currentValue;return{productKpi:l,valueKpi:h,suffixSymbol:"",highlight:"",classHighlightColor:""}},currency_top:()=>{var n=e.result&&e.result[0];if(!n)return"NO_DATA";var l=n.name?n.name:n.category,h=n.amount?n.amount:n.currentValue;return{productKpi:l,valueKpi:h,valueKpiAbsolute:h,suffixSymbol:"",highlight:"",classHighlightColor:""}}},r=`${e.typeValue}_${e.typeKpi}`;if(!s[r])throw new Error(`[HighlightText] Unable to calculate highlight strategy for ${e.typeValue}-${e.typeKpi} !`);let i;const c=M(""),m=M(!1);try{i=s[r](),i==="NO_DATA"&&(m.value=!0)}catch(n){c.value=n}return{finalResult:i,noData:m,errorDetected:c}}});const cl={class:"metrics-text-base metrics-m-auto metrics-w-full"},ll={key:0,class:"metrics-h-32"},ml={key:1},dl={key:0,class:"metrics-text-xl metrics-font-bold"},ul={key:1,class:"metrics-text-2xl metrics-font-bold"},pl={class:"metrics-font-bold"},gl={class:"metrics-font-bold"};function hl(e,s,r,i,c,m){const n=_("BoxMessage"),l=_("i18n-t");return a(),o("span",cl,[e.noData?(a(),o("div",ll,[t(n,{"show-puffin":"","large-icon":"","is-horizontal":""},{"message-line-1":S(()=>[A(u(e.$t("nodata.sentence")),1)]),_:1})])):e.errorDetected!==""?(a(),o("div",ml," Unable to compute data : "+u(e.errorDetected),1)):(a(),o(l,{key:2,keypath:e.keyTranslate,tag:"span"},{highlight:S(()=>[t("span",{class:e.finalResult.classHighlightColor},u(e.$t(e.finalResult.highlight)),3)]),value:S(()=>[e.typeValue=="currency"?(a(),o("span",dl,u(e.$n(e.finalResult.valueKpi,"currency")),1)):(a(),o("span",ul,u(e.finalResult.valueKpiAbsolute),1))]),product:S(()=>[t("span",pl,u(e.finalResult.productKpi),1)]),symbol:S(()=>[t("span",gl,u(e.finalResult.suffixSymbol),1)]),_:1},8,["keypath"]))])}os.render=hl;var as=k({name:"FakerHighlightText",props:{keyTranslate:{type:String,default:""},typeValue:{type:String,default:"percent"},typeKpi:{type:String,default:"evolution"},dimension:{type:String,default:"orderAverage"},isSession:{type:Boolean,default:!1}},setup:function(e){const s={percent_evolution:()=>{let n=F.datatype.number({min:1,max:2e3}),l=F.datatype.number({min:1,max:2e3});const h={totalCurrent:F.datatype.number({min:1,max:2e3}),totalPrevious:F.datatype.number({min:1,max:2e3})};e.isSession&&h&&h.totalCurrent&&(n=Number(n/h.totalCurrent*100).toFixed(0));const d=g(()=>(l=l===0?1:l,((n-l)/l*100).toFixed(0))),p=g(()=>{const v=parseInt(d.value);return(v<0?v*-1:v).toFixed(0)}),f=g(()=>Math.sign(Number.parseFloat(d.value))>=0),y=g(()=>f.value?"highlight.increased":"highlight.decreased"),b=g(()=>({"metrics-text-theme-44 metrics-font-bold":f.value,"metrics-text-theme-45 metrics-font-bold":!f.value}));return{valueKpi:d.value,valueKpiAbsolute:p.value,symbol:"%",highlight:y.value,classHighlightColor:b.value}},percent_best:()=>{const n=F.commerce.productName(),l=Math.floor(Math.random()*Math.floor(2e3));return{productKpi:n,valueKpi:l,valueKpiAbsolute:l,symbol:"%",highlight:"",classHighlightColor:""}},currency_best:()=>{const n=F.commerce.productName(),l=Math.floor(Math.random()*Math.floor(2e3));return{productKpi:n,valueKpi:l,symbol:"",highlight:"",classHighlightColor:""}},currency_top:()=>{var n=F.commerce.productName(),l=Math.floor(Math.random()*Math.floor(2e3));return{productKpi:n,valueKpi:l,valueKpiAbsolute:l,symbol:"",highlight:"",classHighlightColor:""}}},r=`${e.typeValue}_${e.typeKpi}`;if(!s[r])throw new Error(`[HighlightText] Unable to calculate highlight strategy for ${e.typeValue}-${e.typeKpi} !`);let i;const c=M(null),m=M(!1);try{i=s[r](),i==="NO_DATA"&&(m.value=!0)}catch(n){c.value=n}return{datas:i,noData:m,error:c}}});const _l={class:"metrics-text-base metrics-m-auto metrics-w-full"},fl={key:0,class:"metrics-text-xl metrics-font-bold metrics-blur-md"},yl={key:1,class:"metrics-text-2xl metrics-font-bold metrics-blur-md"},vl={class:"metrics-font-bold metrics-blur-md"},bl={class:"metrics-font-bold"};function $l(e,s,r,i,c,m){const n=_("i18n-t");return a(),o("span",_l,[t(n,{keypath:e.keyTranslate,tag:"span"},{highlight:S(()=>[t("span",{class:e.datas.classHighlightColor},u(e.$t(e.datas.highlight)),3)]),value:S(()=>[e.datas.typeValue=="currency"?(a(),o("span",fl,u(e.$n(e.datas.valueKpi,"currency")),1)):(a(),o("span",yl,u(e.datas.valueKpiAbsolute),1))]),product:S(()=>[t("span",vl,u(e.datas.productKpi),1)]),symbol:S(()=>[t("span",bl,u(e.datas.symbol),1)]),_:1},8,["keypath"])])}as.render=$l;var Pe=k({name:"BoxHighlight",props:{keyTranslate:{type:String,default:""},isSession:{type:Boolean,default:!1},query:{type:Object,default:()=>({})},typeValue:{type:String,default:"percent"},typeKpi:{type:String,default:"evolution"},dimension:{type:String,default:"orderAverage"},additionnalQueryParams:{type:Object,default:()=>({})},faker:{type:Boolean,default:!1},tippyContentKey:{type:String,required:!1,default:""},mustBeGoogleLinked:{type:Boolean,default:!1},disabledNetworkRequest:{type:Boolean,default:!1}},components:{FakerHighlightText:as,HighlightText:os,LoaderBoxHighlight:ns,BoxMessage:ce,BoxAnalyticsMustBeLinked:Te},setup(e){const s=G(),r=g(()=>s.getters["main/IS_FIRST_SYNC"]);if(e.faker)return{faker:!0,result:[!0],showAnalyticsLinkBox:!1,loading:!1,error:!1,resultDimension:[!1],total:[!1]};const i=g(()=>N(N({},s.getters["main/GET_VARIABLES_QUERY"]),e.additionnalQueryParams)),c=g(()=>{const b=s.getters["main/GET_OPTIONS_QUERY"];return e.disabledNetworkRequest&&(b.fetchPolicy="no-cache"),b}),{result:m,loading:n,error:l,refetch:h}=pe(e.query,i,c.value);let d={};e.isSession&&(d=ie(m,0,b=>b[e.dimension].total));const p=ie(m,0,b=>e.isSession?b[e.dimension].categories:b[e.dimension]),f=g(()=>typeof m.value[e.dimension]=="undefined"),y=g(()=>e.mustBeGoogleLinked&&!s.getters["main/HAS_GOOGLE_ACCOUNT"]);return{total:d,result:m,loading:n,error:l,resultDimension:p,refetch:h,showAnalyticsLinkBox:y,noData:f,isFirstSync:r}}});const Sl={class:"metrics-report-box"},El={key:0,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},Tl={key:1,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},Cl={key:2,class:"metrics-box metrics-p-5 metrics-h-full metrics-w-full metrics-border-theme-5 metrics-border"},kl={key:3,class:"metrics-box metrics-p-5 metrics-h-full metrics-w-full metrics-border-theme-5 metrics-border"},Dl={key:4,class:"metrics-box metrics-p-5 metrics-h-full metrics-w-full metrics-border-theme-5 metrics-border"},wl={key:5,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},Al={class:"metrics-text-xl metrics-flex dark:metrics-text-theme-white metrics-leading-8 sm:metrics-h-20 metrics-h-auto metrics-text-center"};function Rl(e,s,r,i,c,m){const n=_("BoxAnalyticsMustBeLinked"),l=_("LoaderBoxHighlight"),h=_("BoxMessage"),d=_("FakerHighlightText"),p=_("HighlightText");return a(),o("div",Sl,[e.showAnalyticsLinkBox?(a(),o("div",El,[t(n)])):e.loading?(a(),o("div",Tl,[t(l)])):e.error?(a(),o("div",Cl,[t(h,{"is-error":"","large-icon":""},{"message-line-1":S(()=>[A(u(e.$t("error.sentence")),1)]),"message-line-2":S(()=>[t("span",{class:"metrics-text-theme-43 metrics-cursor-pointer metrics-underline metrics-m-auto",onClick:s[1]||(s[1]=te((...f)=>e.refetch&&e.refetch(...f),["prevent"]))},u(e.$t("error.button")),1)]),_:1})])):e.isFirstSync?(a(),o("div",kl,[t(h,{"show-puffin":"","large-icon":""},{"message-line-1":S(()=>[A(u(e.$t("error.awaitFirstSyncFirstLine")),1)]),"message-line-2":S(()=>[A(u(e.$t("error.awaitFirstSyncSecondLine")),1)]),_:1})])):e.noData?(a(),o("div",Dl,[t(h,{"show-puffin":"","large-icon":""},{"message-line-1":S(()=>[A(u(e.$t("nodata.sentence")),1)]),_:1})])):e.result?(a(),o("div",wl,[t("div",Al,[e.faker?(a(),o(d,{key:0,result:e.resultDimension,typeValue:e.typeValue,typeKpi:e.typeKpi,dimension:e.dimension,keyTranslate:e.keyTranslate,total:e.total,isSession:e.isSession},null,8,["result","typeValue","typeKpi","dimension","keyTranslate","total","isSession"])):(a(),o(p,{key:1,result:e.resultDimension,typeValue:e.typeValue,typeKpi:e.typeKpi,dimension:e.dimension,keyTranslate:e.keyTranslate,total:e.total,isSession:e.isSession},null,8,["result","typeValue","typeKpi","dimension","keyTranslate","total","isSession"]))])])):R("",!0)])}Pe.render=Rl;C.extend(bt);C.extend($t);C.extend(mr);var st=k({name:"ReportLineChart",props:{width:{type:Number,default:0},height:{type:Number,default:0},data:{type:Object,default:()=>({})},isCurrency:{type:Boolean,default:!1},isSession:{type:Boolean,default:!1},granularity:{type:String,default:"day"}},setup(e){const s=G(),{n:r,t:i}=ue(),c=g(()=>s.getters["main/GET_PREVIOUS_DATE_RANGE"]),m=Z(),n=g(()=>e.data.currentPeriod),l=g(()=>e.data.previousPeriod),h=g(()=>s.state.main.darkMode),d=g(()=>s.getters["main/GET_COMPARE_MODE_TYPE"]),p=$=>({day:()=>C($).format("YYYY-MM-DD"),week:()=>`${C($).locale(s.state.main.isoCode).format("ww")}`,month:()=>`${C($).year()}-${C($).format("MM")}`,hour:()=>C($).format("YYYY-MM-DD HH:00:00")})[b.granularity].call(),f=$=>({day:()=>C($).locale(s.state.main.isoCode).format("dd D MM "),week:()=>`${i("graph.legend.week")} ${$}`,month:()=>C($).locale(s.state.main.isoCode).format("MMM YY"),hour:()=>C($).locale(s.state.main.isoCode).format("dd D HH")})[b.granularity].call(),y=($,V)=>{const q=[];for(let U=0;U<V.length;U++)q[U]=0;return $.map(U=>{const ge=p(U.date),le=V.indexOf(ge);q[le]!==0?q[le]=parseInt(q[le])+parseInt(U.currentValue):q[le]=parseInt(U.currentValue)}),q},b=St({granularity:e.granularity,dateCurrentLabels:m.appContext.config.globalProperties.$dr(s.state.main.dateRange.startDate,s.state.main.dateRange.endDate,e.granularity,s.state.main.isoCode),datePreviousLabels:m.appContext.config.globalProperties.$dr(c.value.startDate,c.value.endDate,e.granularity,s.state.main.isoCode)}),v={dataChartCurrentPeriod:y(n.value,b.dateCurrentLabels),dataChartPreviousPeriod:d.value?y(l.value,b.datePreviousLabels):null},D=St(v);ee(()=>e.granularity,$=>{b.granularity=$,b.dateCurrentLabels=m.appContext.config.globalProperties.$dr(s.state.main.dateRange.startDate,s.state.main.dateRange.endDate,$,s.state.main.isoCode),b.datePreviousLabels=m.appContext.config.globalProperties.$dr(c.value.startDate,c.value.endDate,$,s.state.main.isoCode),D.dataChartCurrentPeriod=y(n.value,b.dateCurrentLabels),D.dataChartPreviousPeriod=y(l.value,b.datePreviousLabels)});const T=g(()=>({labels:b.dateCurrentLabels,datasets:[{label:"Current period",borderColor:"#34219E",backgroundColor:"#34219E",fill:!1,labels:b.dateCurrentLabels,data:D.dataChartCurrentPeriod,borderWidth:2,pointRadius:0},{label:"Previous period",borderColor:"#525760",backgroundColor:"#525760",fill:!1,labels:b.datePreviousLabels,data:D.dataChartPreviousPeriod,borderWidth:2,borderDash:[2,2],pointRadius:0}]})),E=g(()=>({legend:{display:!1},hover:{mode:"index",intersect:!1},tooltips:!1,plugins:{datalabels:{formatter:function($,V){const q=e.isCurrency?r($,"currency"):$;return V.datasetIndex===1?V.active?q+`
`+f(V.dataset.labels[V.dataIndex]):"":V.active?q:""},display:function($){return $.active},align:function($){return $.datasetIndex===1?$.active&&$.dataIndex>=$.dataset.labels.length-5?"left":$.active&&$.dataIndex<=$.dataset.labels.length-5?"right":"center":$.active&&$.dataIndex<=1?"top":$.active&&$.dataIndex>=1?"left":"center"},backgroundColor($){return $.active?$.dataset.backgroundColor:"white"},borderColor($){return $.dataset.borderColor},borderRadius($){return $.active?0:32},borderWidth:1,color($){return $.active?"white":$.dataset.backgroundColor},font:{weight:"bold"},offset($){return $.dataIndex>=$.dataset.labels.length-3&&$.datasetIndex===1,15},textAlign:"center"}},scales:{xAxes:[{ticks:{autoSkip:!0,maxTicksLimit:15,fontSize:"12",fontColor:h.value?"#718096":"#777777",callback:function($){return f($)}},gridLines:{display:!1}}],yAxes:[{ticks:{min:0,fontSize:"12",fontColor:h.value?"#718096":"#777777",callback:function($){return e.isCurrency?r($,"currency"):$}},gridLines:{color:h.value?"#718096":"#D8D8D8",zeroLineColor:h.value?"#718096":"#D8D8D8",borderDash:[2,2],zeroLineBorderDash:[2,2],drawBorder:!1}}]}}));return{dataChart:T,options:E}}});function Nl(e,s,r,i,c,m){const n=_("Chart");return a(),o(n,{type:"line",width:e.width,height:e.height,data:e.dataChart,options:e.options},null,8,["width","height","data","options"])}st.render=Nl;var cs=k({name:"LineChart",components:{ReportLineChart:st},props:{isCurrency:{type:Boolean,default:!1},isSession:{type:Boolean,default:!1},granularity:{type:String,default:""},dataChart:{type:Array,default:()=>[]}}});function Il(e,s,r,i,c,m){const n=_("ReportLineChart");return a(),o("div",null,[t(n,{granularity:e.granularity,"is-session":e.isSession,"is-currency":e.isCurrency,height:169,class:"metrics-mt-6",data:e.dataChart},null,8,["granularity","is-session","is-currency","data"])])}cs.render=Il;var ls={name:"BarChartLoader",components:{}};const Ml={style:{width:"517px",height:"210px"}},Ol={class:"metrics-mt-2 metrics-flex metrics-h-full metrics-content-around metrics-justify-around metrics-items-end metrics-pl-5 metrics-pr-5 metrics-border-l-2 metrics-border-b-2 metrics-border-gray-300 metrics-animate-pulse"};function Pl(e,s,r,i,c,m){return a(),o("div",Ml,[t("div",Ol,[(a(),o(Q,null,oe([60,90,130,150,160,170,60,120,140,10],(n,l)=>t("div",{key:l,style:[`height: ${n}px`,{width:"35px"}],class:"metrics-bg-gray-300 metrics-rounded-sm metrics-rounded-b-none"},null,4)),64))])])}ls.render=Pl;var ms=k({name:"ReportEvolutionNumber",props:{isCurrency:{type:Boolean,default:!1},total:{type:Object,default:()=>({})},type:{type:String,default:"current"}},setup(e){return{value:e.type==="current"?e.total.currentValue:e.total.previousValue}}});function Bl(e,s,r,i,c,m){return a(),o("div",null,u(e.isCurrency?e.$n(e.value,"currency"):e.value),1)}ms.render=Bl;var ds=k({name:"FakerReportEvolutionNumber",props:{isCurrency:{type:Boolean,default:!1}},setup(){return{value:F.datatype.number({min:1,max:2e3})}}});const xl={class:"metrics-blur-md"};function Ll(e,s,r,i,c,m){return a(),o("div",xl,u(e.isCurrency?e.$n(e.value,"currency"):e.value),1)}ds.render=Ll;var us=k({name:"FakerLineChart",components:{ReportLineChart:st},props:{isCurrency:{type:Boolean,default:!1},isSession:{type:Boolean,default:!1},granularity:{type:String,default:""}},setup(e){const s=e.granularity==="month"||e.granularity==="week"?100:10,r=()=>({date:C(F.date.recent(s)).format("YYYY-MM-DD HH:MM:ss"),currentValue:F.datatype.number(2e3)}),i=()=>({date:C(F.date.recent(s*3)).format("YYYY-MM-DD HH:MM:ss"),currentValue:F.datatype.number(2e3)}),c=new Array(24).fill(null).map(r),m=new Array(24).fill(null).map(i);return{dataChart:{currentPeriod:c,previousPeriod:m}}}});const Ul={class:"metrics-blur-md"};function Gl(e,s,r,i,c,m){const n=_("ReportLineChart");return a(),o("div",Ul,[t(n,{granularity:e.granularity,"is-session":e.isSession,"is-currency":e.isCurrency,height:169,class:"metrics-mt-6",data:e.dataChart},null,8,["granularity","is-session","is-currency","data"])])}us.render=Gl;var De=k({name:"BoxEvolution",components:{BarChartLoader:ls,BoxMessage:ce,BoxAnalyticsMustBeLinked:Te,ReportEvolutionNumber:ms,FakerReportEvolutionNumber:ds,LineChart:cs,FakerLineChart:us},props:{isCurrency:{type:Boolean,default:!1},title:{type:String,default:"Evolution"},queries:{type:Object,default:()=>({})},dimensions:{type:Object,default:()=>({})},isSession:{type:Boolean,default:!1},faker:{type:Boolean,default:!1},showAllGranularity:{type:Boolean,default:!1},tippyContentKey:{type:String,default:"graph.sessionsEvolution"},mustBeGoogleLinked:{type:Boolean,default:!1}},setup(e){const s=G(),r=g(()=>s.getters["main/IS_FIRST_SYNC"]),{appContext:{config:{globalProperties:{$segment:i}}}}=Z(),c=g(()=>{const j=e.isSession&&v?{granularity:v.value}:{};return N(N({},s.getters["main/GET_VARIABLES_QUERY"]),j)}),m=g(()=>s.getters["main/GET_OPTIONS_QUERY"]),n=g(()=>s.getters["main/IS_COMPARE_MODE_ENABLED"]),l=M(e.queries),h=M(e.dimensions),{t:d}=ue(),p=g(()=>s.getters["main/GET_PREVIOUS_DATE_RANGE"]),f=g(()=>C(p.value.endDate).diff(C(p.value.startDate),"days")),y=[{slug:"hour",label:d("tabsBody.dates.hour"),onPress:()=>D("hour"),dateRangeMinMax:{min:0,max:2}},{slug:"day",label:d("tabsBody.dates.day"),onPress:()=>D("day"),dateRangeMinMax:{min:2,max:60}},{slug:"week",label:d("tabsBody.dates.week"),onPress:()=>D("week"),dateRangeMinMax:{min:21,max:180}},{slug:"month",label:d("tabsBody.dates.month"),onPress:()=>D("month"),dateRangeMinMax:{min:60,max:1/0}}],b=g(()=>e.showAllGranularity?y:y.filter(j=>f.value>=j.dateRangeMinMax.min&&f.value<=j.dateRangeMinMax.max)),v=M(b.value[0].slug);ee(()=>s.getters["main/GET_PREVIOUS_DATE_RANGE"],()=>{dr(b.value,{slug:v.value})===-1&&D(b.value[0].slug)});const D=j=>{i().track("[MTR] Overview Select Granularity",J(N({module:"ps_metrics"},s.getters["main/GET_USER_EMAIL"]&&{email:s.getters["main/GET_USER_EMAIL"]}),{slug:j})),v.value=j};if(e.faker)return{faker:!0,TotalValues:[!0],resultTotal:[!0],resultEvolution:[!0],compareModeEnabled:n,granularity:v,buttonStateAvailable:b};const{result:T,loading:E,error:$,refetch:V}=pe(l.value[0],c,m.value),{result:q,loading:U,error:ge,refetch:le}=pe(l.value[1],c,m.value),ye=ie(T,0,j=>parseInt(Number(j[h.value[0]].currentValue).toFixed(0))),w=ie(T,0,j=>parseInt(Number(j[h.value[0]].previousValue).toFixed(0))),L=ie(T,0,j=>j[h.value[0]]),se=ie(q,[],j=>j[h.value[1]]),Y=g(()=>e.mustBeGoogleLinked&&!s.getters["main/HAS_GOOGLE_ACCOUNT"]),W=g(()=>{const j=ye.value,Le=w.value;return parseInt(j)===0&&parseInt(Le)===0});return{compareModeEnabled:n,granularity:v,buttonStateAvailable:b,resultTotal:T,resultEvolution:q,loadingTotal:E,loadingEvolution:U,TotalValues:L,dataChart:se,error:$||ge,refetch:()=>{V(),le()},noData:W,showAnalyticsLinkBox:Y,isFirstSync:r}}});const Vl={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},Yl={class:" metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5 hover:metrics-overflow-visible hover:metrics-absolute metrics-overflow-hidden metrics-z-10 metrics-bg-gray-248"},Fl={class:" metrics-ml-auto metrics-mt-0 metrics-flex metrics-text-gray-700 dark:metrics-text-gray-300"},ql={id:"metrics-evolution-datepickers",class:"metrics-flex metrics-rounded-lg metrics-text-md",role:"group"},Kl={class:"metrics-flex",style:{"align-items":"center","justify-content":"center"}},Hl={class:" metrics-intro-y metrics-box metrics-p-5 metrics-mt-2 metrics-border-theme-5 metrics-border"},zl={class:"metrics-flex metrics-flex-row xl:metrics-items-center"},jl={class:"metrics-flex"},Ql={key:0,class:"metrics-h-7 metrics-flex metrics-items-center"},Wl={key:1,class:`
                metrics-text-theme-43
                dark:metrics-text-gray-300
                metrics-text-lg
                xl:metrics-text-xl
                metrics-font-bold
              `},Jl={key:2,class:" metrics-text-theme-43 dark:metrics-text-gray-300 metrics-text-lg xl:metrics-text-xl metrics-font-bold"},Xl={class:"metrics-mt-0.5 metrics-text-theme-43"},Zl=t("div",{class:" metrics-w-px metrics-h-12 metrics-border metrics-border-r metrics-border-dashed metrics-border-gray-300 dark:metrics-border-dark-5 metrics-mx-4 xl:metrics-mx-6"},null,-1),em={key:0,class:"metrics-h-7 metrics-flex metrics-items-center"},tm={key:1,class:`
                metrics-text-theme-43
                dark:metrics-text-gray-300
                metrics-text-lg
                xl:metrics-text-xl
                metrics-font-bold
              `},sm={key:2,class:" metrics-text-gray-777 metrics-text-lg xl:metrics-text-xl metrics-font-medium"},rm={key:3,class:"metrics-mt-0.5 metrics-text-gray-777"},im={class:"metrics-self-start metrics-ml-auto"},nm={key:0,class:"metrics-p-5 metrics-mt-10"},om={key:1,class:"metrics-flex metrics-justify-center"},am={key:2,class:"metrics-h-full metrics-w-full metrics-py-24"},cm={key:3,class:"metrics-h-full metrics-w-full metrics-py-24"},lm={key:4,class:"metrics-h-full metrics-w-full metrics-py-24"},mm={key:5,class:"metrics-report-chart"};function dm(e,s,r,i,c,m){const n=_("LoadingIcon"),l=_("FakerReportEvolutionNumber"),h=_("ReportEvolutionNumber"),d=_("InfoIcon"),p=_("Tippy"),f=_("BoxAnalyticsMustBeLinked"),y=_("BarChartLoader"),b=_("BoxMessage"),v=_("FakerLineChart"),D=_("LineChart");return a(),o("div",null,[t("div",Vl,[t("h2",Yl,u(e.title),1),t("div",Fl,[t("div",ql,[(a(!0),o(Q,null,oe(e.buttonStateAvailable,(T,E)=>(a(),o("button",{key:T.slug,type:"button",class:[" metrics-button-date metrics-border metrics-text-white metrics-ml-auto",{" metrics-text-white metrics-border-theme-43 metrics-bg-theme-43 metrics-cursor-default":e.granularity===T.slug,"metrics-bg-white metrics-border-gray-400 metrics-text-gray-700 metrics-zoom-in-no-shadow":e.granularity!==T.slug,"metrics-rounded-l-lg":E===0,"metrics-rounded-r-lg":E===e.buttonStateAvailable.length-1}],onClick:te($=>T.onPress(),["prevent"])},[t("span",Kl,u(T.label),1)],10,["onClick"]))),128))])])]),t("div",Hl,[t("div",zl,[t("div",jl,[t("div",null,[e.loadingTotal?(a(),o("div",Ql,[t(n,{icon:"three-dots",class:"metrics-w-8"})])):e.isFirstSync||e.noData||e.error?(a(),o("div",Wl," - ")):e.TotalValues?(a(),o("div",Jl,[e.faker?(a(),o(l,{key:0,isCurrency:e.isCurrency},null,8,["isCurrency"])):(a(),o(h,{key:1,isCurrency:e.isCurrency,total:e.TotalValues},null,8,["isCurrency","total"]))])):R("",!0),t("div",Xl,u(e.$t("graph.currentPeriod")),1)]),Zl,t("div",null,[e.loadingTotal?(a(),o("div",em,[t(n,{icon:"three-dots",class:"metrics-w-8"})])):e.isFirstSync||e.noData||e.error?(a(),o("div",tm," - ")):e.TotalValues&&e.compareModeEnabled?(a(),o("div",sm,[e.faker?(a(),o(l,{key:0,isCurrency:e.isCurrency},null,8,["isCurrency"])):(a(),o(h,{key:1,isCurrency:e.isCurrency,total:e.TotalValues,type:"previous"},null,8,["isCurrency","total"]))])):R("",!0),e.compareModeEnabled?(a(),o("div",rm,u(e.$t("graph.lastPeriod")),1)):R("",!0)])]),t("div",im,[t(p,{tag:"div",content:e.$t(e.tippyContentKey)},{default:S(()=>[t(d,{class:" metrics-w-5 lg:metrics-w-3 metrics-h-auto metrics-text-gray-777"})]),_:1},8,["content"])])]),e.showAnalyticsLinkBox?(a(),o("div",nm,[t(f,{"large-icon":""})])):e.loadingEvolution?(a(),o("div",om,[t(y)])):e.error?(a(),o("div",am,[t(b,{"is-error":"","large-icon":""},{"message-line-1":S(()=>[A(u(e.$t("error.sentence")),1)]),"message-line-2":S(()=>[t("span",{class:"metrics-text-theme-43 metrics-cursor-pointer metrics-underline metrics-m-auto",onClick:s[1]||(s[1]=te((...T)=>e.refetch&&e.refetch(...T),["prevent"]))},u(e.$t("error.button")),1)]),_:1})])):e.isFirstSync?(a(),o("div",cm,[t(b,{"show-puffin":"","large-icon":""},{"message-line-1":S(()=>[A(u(e.$t("error.awaitFirstSyncFirstLine")),1)]),"message-line-2":S(()=>[A(u(e.$t("error.awaitFirstSyncSecondLine")),1)]),_:1})])):e.noData?(a(),o("div",lm,[t(b,{"show-puffin":"","large-icon":""},{"message-line-1":S(()=>[A(u(e.$t("nodata.sentence")),1)]),_:1})])):e.resultEvolution?(a(),o("div",mm,[e.faker?(a(),o(v,{key:0,granularity:e.granularity,"is-session":e.isSession,"is-currency":e.isCurrency,dataChart:e.dataChart},null,8,["granularity","is-session","is-currency","dataChart"])):(a(),o(D,{key:1,granularity:e.granularity,"is-session":e.isSession,"is-currency":e.isCurrency,dataChart:e.dataChart},null,8,["granularity","is-session","is-currency","dataChart"]))])):R("",!0)])])}De.render=dm;var rt=k({name:"ReportDonutChart",props:{width:{type:Number,default:0},height:{type:Number,default:0},data:{type:Object,default:()=>({})}},emits:["hover:chartElement"],setup(e,{emit:s}){const r=G(),i=g(()=>r.state.main.darkMode),c=g(()=>{const l={data:[],dataPrevious:[],labels:[],colors:[]};return e.data.map(h=>{l.labels.push(h.category),l.data.push(h.currentValue),l.colors.push(h.color)}),l}),m=g(()=>({labels:c.value.labels,datasets:[{data:c.value.data,backgroundColor:c.value.colors,hoverBackgroundColor:c.value.colors,borderWidth:5,borderColor:i.value?"#303953":"#fff"}]})),n=g(()=>({plugins:{datalabels:{display:!1}},legend:{display:!1},cutoutPercentage:80,tooltips:{enabled:!1},hover:{index:"index",intersect:!1,onHover:function(l,h){s("hover:chartElement",h[0])}}}));return{dataChart:m,options:n}}});function um(e,s,r,i,c,m){const n=_("Chart");return a(),o(n,{type:"doughnut",width:e.width,height:e.height,data:e.dataChart,options:e.options},null,8,["width","height","data","options"])}rt.render=um;var ps=k({name:"BoxDistribution",components:{ReportDonutChart:rt,BoxMessage:ce},props:{isSession:{type:Boolean,default:!1},total:{type:String,default:"0"},result:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]}},setup(e){const s=Z(),r=g(()=>s.appContext.config.globalProperties.$c(e.data.length)),i=g(()=>e.data.map((y,b)=>{const v=parseFloat(e.total)||1,D=parseFloat(y.currentValue)/v*100,T=parseFloat(y.currentValue).toFixed(2);return J(N({},y),{percentage:Math.round(D),currentValue:T,color:r.value[b]})})),c=M(0),{t:m,te:n}=ue(),l=g(()=>{var y;return(y=i.value[c.value])==null?void 0:y.percentage}),h=g(()=>{var b;const y=(b=i.value[c.value])==null?void 0:b.category;return y&&n("graph.legend."+y.replace(" ","_"))?m("graph.legend."+y.replace(" ","_")):y!=null?y:""}),d=y=>{if(!y){c.value=0;return}c.value=y._index},p=y=>{const b="graph.legend."+y.category.replace(" ","_"),v=m(b);return v===b?y.category:v},f=g(()=>parseInt(e.total)===0);return{dataChart:i,getHoveredChartIndex:d,hoveredDataName:h,hoveredDataPercentage:l,itemName:p,noData:f}}});const pm={key:0,class:"metrics-mt-16 metrics-pb-16"},gm={class:"metrics-relative"},hm={class:"metrics-absolute metrics-w-full metrics-h-full metrics-flex metrics-flex-col metrics-items-center metrics-justify-center metrics-top-0 metrics-left-0 metrics--z-10"},_m={class:"metrics-text-sm sm:metrics-text-base md:metrics-text-base lg:metrics-text-base xl:metrics-text-sm metrics-truncated metrics-w-9/12 metrics-text-center metrics-line-clamp-2"},fm={class:"metrics-text-xl sm:metrics-text-base md:metrics-text-base lg:metrics-text-base xl:metrics-text-xl metrics-font-medium"},ym={class:"metrics-mt-5"},vm={class:"metrics-truncate metrics-text-sm"},bm=t("div",{class:"metrics-h-px metrics-flex-1 metrics-border metrics-border-r metrics-border-dashed metrics-border-gray-300 metrics-mx-3 xl:metrics-hidden"},null,-1),$m={class:"metrics-font-medium xl:metrics-ml-auto"};function Sm(e,s,r,i,c,m){const n=_("BoxMessage"),l=_("ReportDonutChart"),h=_("Tippy");return a(),o("div",null,[e.noData?(a(),o("div",pm,[t(n,{"show-puffin":"","large-icon":"","is-horizontal":""},{"message-line-1":S(()=>[A(u(e.$t("nodata.sentence")),1)]),_:1})])):(a(),o(Q,{key:1},[t("div",gm,[t(l,{height:300,data:e.dataChart,class:"metrics-mt-3 metrics-z-50","onHover:chartElement":s[1]||(s[1]=d=>e.getHoveredChartIndex(d))},null,8,["data"]),t("div",hm,[t("div",_m,u(e.hoveredDataName),1),t("div",fm,u(e.hoveredDataPercentage)+"% ",1)])]),t("div",ym,[(a(!0),o(Q,null,oe(e.dataChart.slice(0,4),d=>(a(),o("div",{key:d.currentValue,class:"metrics-flex metrics-items-center metrics-mb-3"},[t("div",{class:"metrics-w-2 metrics-h-2 metrics-rounded-full metrics-mr-3",style:"background-color:"+d.color},null,4),t("span",vm,u(e.itemName(d)),1),bm,t("span",$m,[t(h,{tag:"div",content:`${d.currentValue}`},{default:S(()=>[A(u(d.percentage)+"% ",1)]),_:2},1032,["content"])])]))),128))])],64))])}ps.render=Sm;var gs=k({name:"FakerBoxDistribution",components:{ReportDonutChart:rt},props:{limit:{type:Number,default:4},category:{type:Array,default:()=>[]}},setup(e){const s=(f,y)=>({id:F.datatype.number({min:100,max:999}),currentValue:F.datatype.number({min:0,max:500}),previousValue:F.datatype.number({min:0,max:500}),category:e.category[y],percentage:25}),r=new Array(e.limit).fill(null).map(s),i=F.datatype.number({min:1,max:2e3}),c=Z(),m=g(()=>c.appContext.config.globalProperties.$c(r.length)),n=g(()=>r.map((f,y)=>{const b=f.currentValue/i*100,v=parseFloat(f.currentValue).toFixed(2);return J(N({},f),{percentage:b.toFixed(2),currentValue:v,color:m.value[y]})})),l=M(0),h=g(()=>{var f;return(f=n.value[l.value])==null?void 0:f.percentage}),d=g(()=>{var f;return(f=n.value[l.value])==null?void 0:f.category});return{dataChart:n,getHoveredChartIndex:f=>{if(!f){l.value=0;return}l.value=f._index},hoveredDataName:d,hoveredDataPercentage:h}}});const Em={class:"metrics-relative"},Tm={class:"metrics-absolute metrics-w-full metrics-h-full metrics-flex metrics-flex-col metrics-items-center metrics-justify-center metrics-top-0 metrics-left-0 metrics--z-10 "},Cm={class:"metrics-text-sm sm:metrics-text-base md:metrics-text-base lg:metrics-text-base xl:metrics-text-sm metrics-truncated metrics-w-9/12 metrics-text-center "},km={class:"metrics-text-xl sm:metrics-text-base md:metrics-text-base lg:metrics-text-base xl:metrics-text-xl metrics-font-medium metrics-blur-md"},Dm={class:"metrics-mt-5"},wm={class:"metrics-truncate metrics-text-sm"},Am=t("div",{class:"metrics-h-px metrics-flex-1 metrics-border metrics-border-r metrics-border-dashed metrics-border-gray-300 metrics-mx-3 xl:metrics-hidden"},null,-1),Rm={class:"metrics-font-medium xl:metrics-ml-auto metrics-blur-md"};function Nm(e,s,r,i,c,m){const n=_("ReportDonutChart");return a(),o("div",null,[t("div",Em,[t(n,{height:300,data:e.dataChart,class:"metrics-mt-3 metrics-z-50","onHover:chartElement":s[1]||(s[1]=l=>e.getHoveredChartIndex(l))},null,8,["data"]),t("div",Tm,[t("div",Cm,u(e.$t(`graph.legend.${e.hoveredDataName.replace(" ","_")}`)),1),t("div",km,u(e.hoveredDataPercentage)+"% ",1)])]),t("div",Dm,[(a(!0),o(Q,null,oe(e.dataChart.slice(0,4),l=>(a(),o("div",{key:l.currentValue,class:"metrics-flex metrics-items-center metrics-mb-3"},[t("div",{class:"metrics-w-2 metrics-h-2 metrics-rounded-full metrics-mr-3",style:"background-color:"+l.color},null,4),t("span",wm,u(e.$t(`graph.legend.${l.category.replace(" ","_")}`)),1),Am,t("span",Rm,u(l.percentage)+"% ",1)]))),128))])])}gs.render=Nm;var hs=k({name:"LoaderBoxHighlight"});const Im=fe('<div class="metrics-relative metrics-rounded-full metrics-h-36 metrics-w-36 metrics-animate-pulse metrics-m-auto"><div class="metrics-rounded-full metrics-w-full metrics-h-full metrics-bg-gray-400 metrics-mt-2"></div><div class="metrics-top-0 metrics-left-0 metrics-right-0 metrics-bottom-0 metrics-m-auto metrics-h-24 metrics-w-24 metrics-absolute metrics-bg-white metrics-rounded-full"><div class="metrics-w-full metrics-h-full metrics-m-auto"></div></div></div><div class="metrics-grid metrics-grid-cols-1 metrics-gap-1 metrics-mt-5"><div class="metrics-col-span-1 metrics-flex metrics-my-1.5"><div class="metrics-h-4 metrics-w-6 metrics-rounded-full metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-4 metrics-w-full metrics-ml-4 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div></div><div class="metrics-col-span-1 metrics-flex metrics-my-1.5"><div class="metrics-h-4 metrics-w-6 metrics-rounded-full metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-4 metrics-w-full metrics-ml-4 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div></div><div class="metrics-col-span-1 metrics-flex metrics-my-1.5"><div class="metrics-h-4 metrics-w-6 metrics-rounded-full metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-4 metrics-w-full metrics-ml-4 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div></div><div class="metrics-col-span-1 metrics-flex metrics-my-1.5"><div class="metrics-h-4 metrics-w-6 metrics-rounded-full metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-4 metrics-w-full metrics-ml-4 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div></div></div>',2);function Mm(e,s,r,i,c,m){return a(),o("div",null,[Im])}hs.render=Mm;var Be=k({name:"BoxDistribution",components:{BoxMessage:ce,FakerDonutChart:gs,DonutChart:ps,LoaderBoxDistribution:hs,BoxAnalyticsMustBeLinked:Te},props:{title:{type:String,default:"Distribution"},query:{type:Object,default:()=>({})},dimension:{type:String,default:"sessionsGroupByCategory"},additionnalQueryParams:{type:Object,default:()=>({limit:20,isoCode:"fr"})},faker:{type:Boolean,default:!1},fakerLimit:{type:Number,default:4},fakerLabels:{type:Array,default:()=>[]},isSession:{type:Boolean,default:!1},tippyContentKey:{type:String,default:""},mustBeGoogleLinked:{type:Boolean,default:!1}},setup(e){if(e.faker)return{faker:!0,result:[!0]};const s=G(),r=Z(),i=g(()=>s.getters["main/IS_FIRST_SYNC"]),c=g(()=>N(N({},s.getters["main/GET_VARIABLES_QUERY"]),e.additionnalQueryParams)),m=s.getters["main/GET_OPTIONS_QUERY"],{result:n,loading:l,error:h,refetch:d}=pe(e.query,c,m),p=ie(n,[],T=>e.isSession?T[e.dimension].categories:T[e.dimension]),f=g(()=>e.isSession?ie(n,[],T=>T[e.dimension].total.totalCurrent).value:p.value.reduce((T,E)=>parseFloat(T+=E.currentValue),0)),y=g(()=>f.value===0),b=g(()=>r.appContext.config.globalProperties.$c(p.value.length)),v=g(()=>p.value.map((T,E)=>{const $=T.currentValue/parseFloat(f.value)*100,V=parseFloat(T.currentValue).toFixed(2),q=T.category||T.deviceCategory||T.paymentMethod;return J(N({},T),{category:q,percentage:$.toFixed(2),currentValue:V,color:b.value[E]})}).filter(T=>T.currentValue>0)),D=g(()=>e.mustBeGoogleLinked&&!s.getters["main/HAS_GOOGLE_ACCOUNT"]);return{total:f,dataChart:v,result:n,loading:l,error:h,refetch:d,noData:y,showAnalyticsLinkBox:D,isFirstSync:i}}});const Om={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},Pm={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5 hover:metrics-overflow-visible metrics-overflow-hidden"},Bm=t("div",{class:"sm:ml-auto mt-3 sm:mt-0 relative text-gray-700 dark:text-gray-300"},null,-1),xm={class:"metrics-intro-y metrics-box metrics-p-5 metrics-pt-2 metrics-mt-2 metrics-border-theme-5 metrics-border"},Lm={class:"metrics-absolute metrics-top-5 metrics-right-5 metrics-z-50"},Um={key:0,class:"metrics-mt-16"},Gm={key:2,class:"metrics-my-40"},Vm={key:3,class:"metrics-my-20"},Ym={key:4,class:"metrics-my-20"};function Fm(e,s,r,i,c,m){const n=_("InfoIcon"),l=_("Tippy"),h=_("BoxAnalyticsMustBeLinked"),d=_("LoaderBoxDistribution"),p=_("BoxMessage"),f=_("FakerDonutChart"),y=_("DonutChart");return a(),o("div",null,[t("div",Om,[t("h2",Pm,u(e.title),1),Bm]),t("div",xm,[t("div",Lm,[t(l,{tag:"div",content:e.$t(e.tippyContentKey)},{default:S(()=>[t(n,{class:"metrics-w-5 lg:metrics-w-3 metrics-h-auto"})]),_:1},8,["content"])]),e.showAnalyticsLinkBox?(a(),o("div",Um,[t(h,{"large-icon":""})])):e.loading?(a(),o(d,{key:1})):e.error?(a(),o("div",Gm,[t(p,{"is-error":"","large-icon":""},{"message-line-1":S(()=>[A(u(e.$t("error.sentence")),1)]),"message-line-2":S(()=>[t("span",{class:"metrics-text-theme-43 metrics-cursor-pointer metrics-underline metrics-m-auto",onClick:s[1]||(s[1]=te((...b)=>e.refetch&&e.refetch(...b),["prevent"]))},u(e.$t("error.button")),1)]),_:1})])):e.isFirstSync?(a(),o("div",Vm,[t(p,{"show-puffin":"","large-icon":""},{"message-line-1":S(()=>[A(u(e.$t("error.awaitFirstSyncFirstLine")),1)]),"message-line-2":S(()=>[A(u(e.$t("error.awaitFirstSyncSecondLine")),1)]),_:1})])):e.noData?(a(),o("div",Ym,[t(p,{"show-puffin":"","large-icon":""},{"message-line-1":S(()=>[A(u(e.$t("nodata.sentence")),1)]),_:1})])):e.result?(a(),o(Q,{key:5},[e.faker?(a(),o(f,{key:0,category:e.fakerLabels,limit:e.fakerLimit},null,8,["category","limit"])):(a(),o(y,{key:1,data:e.dataChart,result:e.result,total:e.total},null,8,["data","result","total"]))],64)):R("",!0)])])}Be.render=Fm;var _s=k({name:"Acquisition",components:{BoxUpgradePlanModal:Oe,ReportBoxNumber:Ce,RightSection:ke,BoxHighlight:Pe,BoxEvolution:De,BoxDistribution:Be,BoxSyncStatusModal:Me},setup(){const e=M(""),s=M(),r=re(),i=g(()=>r.getters["main/GET_IS_ADVANCED"]),c=g(()=>r.getters["main/IS_FIRST_ACCESS"]),m=g(()=>r.getters["main/IS_FIRST_SYNC"]),n=g(()=>r.state.main.isoCode),l=["Direct","Social","Email","Affiliates"],h=[ze,Qe],d=["sessions","sessionsGroupByDate"];be("bind[importantNotesRef]",b=>{s.value=b});const p=g(()=>r.getters["main/GET_PLAN_MODAL_OPENED"]);return i.value||setTimeout(function(){r.dispatch("main/SET_PLAN_MODAL_OPENED",!0)},5e3),{advancedPlan:i,upgradePlanModalOpened:p,isFirstAccess:c,isFirstSync:m,sessions:ze,uniqueUsers:je,salesReportFilter:e,prevImportantNotes:()=>{s.value.tns.goTo("prev")},nextImportantNotes:()=>{s.value.tns.goTo("next")},sessionsByDate:Qe,arrayQuerySessions:h,sessionsByCategories:En,deviceCategories:Vn,arrayDimensionsSessions:d,isoCode:n,fakerLabels:l}}});const qm={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},Km={class:"metrics-relative metrics-col-span-12 xxl:metrics-col-span-9 metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-content-start"},Hm={class:"md:metrics-col-span-6 metrics-col-span-12 metrics-mt-5 metrics-z-0"},zm={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10 "},jm={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},Qm={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},Wm={class:"metrics-col-span-12 sm:metrics-col-span-12 xl:metrics-col-span-12 metrics-intro-y metrics-mt-2"},Jm={class:"md:metrics-col-span-6 metrics-col-span-12 metrics-z-0 md:metrics-mt-5  metrics-mt-2"},Xm={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},Zm={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},ed={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2 "},td={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},sd={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},rd={class:"metrics-col-span-12 lg:metrics-col-span-6 lg:metrics-mt-8 sm:metrics-mt-0"},id={class:"metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3  lg:metrics-mt-8 sm:metrics-mt-0"},nd={class:"metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3  lg:metrics-mt-8 sm:metrics-mt-0"},od={class:"metrics-z-0 metrics-col-span-12 xxl:metrics-col-span-3 xxl:metrics-border-l metrics-border-theme-5 metrics--mb-10 metrics-pb-10"};function ad(e,s,r,i,c,m){const n=_("BoxSyncStatusModal"),l=_("BoxUpgradePlanModal"),h=_("BoxHighlight"),d=_("ReportBoxNumber"),p=_("BoxEvolution"),f=_("BoxDistribution"),y=_("RightSection");return a(),o("div",qm,[t("div",Km,[e.isFirstAccess||e.isFirstSync?(a(),o(n,{key:0})):e.upgradePlanModalOpened?(a(),o(l,{key:1,canBeClosed:""})):R("",!0),t("div",Hm,[t("div",zm,[t("h2",jm,u(e.$t("tabs.highlights")),1)]),t("div",Qm,[t("div",Wm,[t(h,{"key-translate":"highlight.topSourceTraffic",query:e.sessionsByCategories,typeValue:"percent",typeKpi:"best",isSession:"",dimension:"sessionsGroupByCategory",additionnalQueryParams:{isoCode:e.isoCode,limit:1},faker:!e.advancedPlan,"must-be-google-linked":!0,tippyContentKey:"highlight.topSourceTrafficTooltip"},null,8,["query","additionnalQueryParams","faker"])])])]),t("div",Jm,[t("div",Xm,[t("h2",Zm,u(e.$t("tabs.report")),1)]),t("div",ed,[t("div",td,[t(d,{title:e.$t("boxNumber.sessions"),query:e.sessions,dimension:"sessions",faker:!e.advancedPlan,"tippy-content-key":e.$t("boxNumber.sessionsTooltip"),"must-be-google-linked":!0,icon:"AnalyticsIcon"},null,8,["title","query","faker","tippy-content-key"])]),t("div",sd,[t(d,{title:e.$t("boxNumber.uniqueVisits"),query:e.uniqueUsers,dimension:"uniqueUsers",faker:!e.advancedPlan,"tippy-content-key":e.$t("boxNumber.uniqueVisitsTooltip"),"must-be-google-linked":!0,icon:"AnalyticsIcon"},null,8,["title","query","faker","tippy-content-key"])])])]),t("div",rd,[t(p,{title:e.$t("graph.sessionsEvolution"),queries:e.arrayQuerySessions,dimensions:e.arrayDimensionsSessions,"is-session":!0,faker:!e.advancedPlan,tippyContentKey:"graph.sessionsEvolutionTooltip","must-be-google-linked":!0},null,8,["title","queries","dimensions","faker"])]),t("div",id,[t(f,{title:e.$t("graph.trafficDistribution"),query:e.sessionsByCategories,dimension:"sessionsGroupByCategory",isSession:!0,faker:!e.advancedPlan,tippyContentKey:"graph.trafficDistributionTooltip","must-be-google-linked":!0,fakerLabels:e.fakerLabels},null,8,["title","query","faker","fakerLabels"])]),t("div",nd,[t(f,{title:e.$t("graph.deviceDistribution"),query:e.deviceCategories,dimension:"deviceCategories",isSession:!1,faker:!e.advancedPlan,tippyContentKey:"graph.deviceDistributionTooltip","must-be-google-linked":!0,fakerLabels:e.fakerLabels},null,8,["title","query","faker","fakerLabels"])])]),t("div",od,[t(y,{tipscardsLabel:""})])])}_s.render=ad;/**
 * 2007-2021 PrestaShop and Contributors
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License 3.0 (AFL-3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/AFL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2021 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License 3.0 (AFL-3.0)
 * International Registered Trademark & Property of PrestaShop SA
 */class cd{constructor(){mt(this,"api");this.api=this.createApi()}createApi(){const s=ur.create({baseURL:"/",timeout:3e4});return s.interceptors.response.use(r=>{const i=r.data;return i.status>=400?Promise.reject(i.message):i},r=>{Promise.reject(r)}),s}}const ld=new cd;/**
 * 2007-2021 PrestaShop and Contributors
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License 3.0 (AFL-3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/AFL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2021 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License 3.0 (AFL-3.0)
 * International Registered Trademark & Property of PrestaShop SA
 */function md(e){const s=new FormData;return s.append("ajax","true"),s.append("action",e.action),s.append("controller",e.controller),pr.exports.forEach(e.data,(r,i)=>{s.append(i,r)}),e.products&&s.append("products",e.products),s}function dd(e,s){const r={action:"RetrieveProductsLinksFromList",controller:"AdminAjaxMetrics",products:JSON.stringify(s)},i=md(r);return ld.api.post(e,i)}var fs=k({name:"ReportTable",components:{BoxMessage:ce},props:{products:{type:Array,default:()=>[]},previousProducts:{type:Array,default:()=>[]}},setup(e){const s=M(e.products),r=M(e.previousProducts),i=G(),c=g(()=>i.getters["main/IS_COMPARE_MODE_ENABLED"]),m=M(),n=async function(h){m.value=await dd(i.state.main.controllersLinks.metricsAjax,h.map(d=>d.id))};return{topProductsWithPerf:g(()=>{let h=[];for(const d in s.value){let p="up";if(r.value.length){for(const y in r.value)if(r.value[y].id===s.value[d].id){if(d===y){p="equal";break}else if(d<y){p="down";break}}}const f=JSON.parse(JSON.stringify(s.value[d]));f.progress=p,h.push(f)}return n(h),h}),compareModeEnabled:c,productsUrls:m}}});const ud={key:0,class:"metrics-table metrics-table-fixed metrics-w-full"},pd={key:0,class:`
              metrics-w-6 metrics-border-b-2
              dark:metrics-border-dark-5
              whitespace-nowrap
              metrics-bg-white metrics-p-1
            `},gd={class:`
              metrics-w-3/5 metrics-border-b-2
              dark:metrics-border-dark-5
              whitespace-nowrap
              metrics-bg-white metrics-p-1
            `},hd={class:`
              metrics-w-1/5 metrics-border-b-2
              dark:metrics-border-dark-5
              whitespace-nowrap
              metrics-bg-white metrics-p-1 metrics-text-right
            `},_d={class:`
              metrics-w-1/5 metrics-border-b-2
              dark:metrics-border-dark-5
              whitespace-nowrap
              metrics-bg-white metrics-p-1 metrics-text-right
            `},fd={class:`
              metrics-w-1/5 metrics-border-b-2
              dark:metrics-border-dark-5
              whitespace-nowrap
              metrics-bg-white metrics-p-1 metrics-text-right
            `},yd={key:0,class:"metrics-relative"},vd={key:2,class:`
                metrics-w-4
                metrics-text-theme-43
                metrics-absolute
                metrics-top-1
                metrics-left-0
                metrics-text-center
              `},bd={class:"metrics-w-3/5 metrics-p-1.5 metrics-relative"},$d={class:`
                metrics-bg-white metrics-truncate
                hover:metrics-absolute
                metrics-top-1.5 metrics-pr-1
              `},Sd={key:1},Ed={class:"metrics-w-1/5 metrics-p-1.5 metrics-text-right"},Td={class:"metrics-w-1/5 metrics-p-1.5 metrics-text-right"},Cd={class:"metrics-w-1/5 metrics-p-1.5 metrics-text-right"},kd={key:1};function Dd(e,s,r,i,c,m){const n=_("Tippy"),l=_("arrowUpIcon"),h=_("arrowDownIcon"),d=_("BoxMessage");return a(),o("div",null,[e.topProductsWithPerf.length>0?(a(),o("table",ud,[t("thead",null,[t("tr",null,[e.compareModeEnabled?(a(),o("th",pd)):R("",!0),t("th",gd,[t(n,{tag:"div",content:e.$t("business.top10.tippy.product")},{default:S(()=>[A(u(e.$t("business.top10.product")),1)]),_:1},8,["content"])]),t("th",hd,[t(n,{tag:"div",content:e.$t("business.top10.tippy.quantity")},{default:S(()=>[A(u(e.$t("business.top10.quantity")),1)]),_:1},8,["content"])]),t("th",_d,u(e.$t("business.top10.amount")),1),t("th",fd,[t(n,{tag:"div",content:e.$t("business.top10.tippy.stock")},{default:S(()=>[A(u(e.$t("business.top10.stock")),1)]),_:1},8,["content"])])])]),t("tbody",null,[(a(!0),o(Q,null,oe(e.topProductsWithPerf,(p,f,y)=>(a(),o("tr",{key:y,class:"metrics-border-b last:metrics-b-0 dark:metrics-border-dark-5"},[e.compareModeEnabled?(a(),o("td",yd,[p.progress==="up"?(a(),o(l,{key:0,class:`
                metrics-w-4
                metrics-text-theme-44
                metrics-absolute
                metrics-top-1
                metrics-left-0
              `})):p.progress==="down"?(a(),o(h,{key:1,class:`
                metrics-w-4
                metrics-text-theme-45
                metrics-absolute
                metrics-top-1
                metrics-left-0
              `})):(a(),o("div",vd," = "))])):R("",!0),t("td",bd,[t("div",$d,[e.productsUrls&&e.productsUrls[p.id]?(a(),o("a",{key:0,href:e.productsUrls[p.id],target:"_blank"},u(p.name),9,["href"])):(a(),o("span",Sd,u(p.name),1))])]),t("td",Ed,u(p.quantity),1),t("td",Td,u(e.$n(p.amount,"currency")),1),t("td",Cd,u(p.stock),1)]))),128))])])):(a(),o("div",kd,[t(d,{"show-puffin":"","large-icon":""},{"message-line-1":S(()=>[A(u(e.$t("nodata.sentence")),1)]),_:1})]))])}fs.render=Dd;var ys=k({name:"FakerReportTable",setup(){const e=(i,c)=>({id:c,name:F.commerce.productName(),quantity:F.datatype.number(2e3),amount:F.datatype.number(2e3)}),s=(i,c)=>i.amount-c.amount;return{products:new Array(10).fill(null).map(e).sort(s)}}});const wd={key:0,class:"metrics-table metrics-table-fixed metrics-w-full"},Ad={class:"metrics-w-3/5 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1"},Rd={class:"metrics-w-1/5 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1 metrics-text-right"},Nd={class:"metrics-w-1/5 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1 metrics-text-right"},Id={class:"metrics-w-3/5 metrics-p-1.5 metrics-relative"},Md={class:"metrics-bg-white metrics-truncate hover:metrics-absolute metrics-top-1.5 metrics-pr-1 metrics-blur-md"},Od={class:"metrics-w-1/5 metrics-p-1.5 metrics-text-right metrics-blur-md"},Pd={class:"metrics-w-1/5 metrics-p-1.5 metrics-text-right metrics-blur-md"};function Bd(e,s,r,i,c,m){const n=_("Tippy");return a(),o("div",null,[e.products.length>0?(a(),o("table",wd,[t("thead",null,[t("tr",null,[t("th",Ad,[t(n,{tag:"div",content:e.$t("business.top10.tippy.product")},{default:S(()=>[A(u(e.$t("business.top10.product")),1)]),_:1},8,["content"])]),t("th",Rd,[t(n,{tag:"div",content:e.$t("business.top10.tippy.orders")},{default:S(()=>[A(u(e.$t("business.top10.orders")),1)]),_:1},8,["content"])]),t("th",Nd,u(e.$t("business.top10.amount")),1)])]),t("tbody",null,[(a(!0),o(Q,null,oe(e.products,l=>(a(),o("tr",{key:l.id,class:"metrics-border-b last:metrics-b-0 dark:metrics-border-dark-5"},[t("td",Id,[t("div",Md,u(l.name),1)]),t("td",Od,u(l.quantity),1),t("td",Pd,u(e.$n(l.amount,"currency")),1)]))),128))])])):R("",!0)])}ys.render=Bd;var vs=k({name:"LoaderBoxTable"});const xd={class:"metrics-grid metrics-grid-cols-4 metrics-gap-2 metrics-h-full metrics-p-5"},Ld=fe('<div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div>',32);function Ud(e,s,r,i,c,m){return a(),o("div",xd,[Ld])}vs.render=Ud;var it=k({name:"BoxReportTable",props:{title:{type:String,default:""},query:{type:Object,default:()=>({})},dimension:{type:String,default:"productTopSeller"},faker:{type:Boolean,default:!1},additionnalQueryParams:{type:Object,default:()=>({})},tippyContentKey:{type:String,default:""},disabledNetworkRequest:{type:Boolean,default:!1}},components:{FakerReportTable:ys,ReportTable:fs,BoxMessage:ce,LoaderBoxTable:vs},setup(e){const s=g(()=>r.getters["main/IS_FIRST_SYNC"]);if(e.faker)return{faker:!0,resultTop10Product:!0};const r=G(),i=g(()=>N(N({},r.getters["main/GET_VARIABLES_QUERY"]),e.additionnalQueryParams)),c=g(()=>{const y=r.getters["main/GET_OPTIONS_QUERY"];return e.disabledNetworkRequest&&(y.fetchPolicy="no-cache"),y}),{result:m,loading:n,error:l,refetch:h}=pe(e.query,i,c.value),d=ie(m,[],y=>y[e.dimension].currentPeriod),p=g(()=>d.value.length===0),f=ie(m,[],y=>y[e.dimension].previousPeriod);return{resultTop10Product:m,loading:n,error:l,products:d,previousProducts:f,noData:p,refetch:h,isFirstSync:s}}});const Gd={class:"metrics-intro-y metrics-block sm:metrics-flex metrics-items-center metrics-h-10"},Vd={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},Yd={class:"metrics-intro-y metrics-box metrics-p-5 metrics-mt-2 metrics-border-theme-5 metrics-border"},Fd={key:0,class:"metrics-absolute metrics-top-5 metrics-right-5 metrics-z-50"},qd={key:2,class:"metrics-h-full metrics-w-full metrics-py-32"},Kd={key:3,class:"metrics-h-full metrics-w-full metrics-py-32"},Hd={key:4,class:"metrics-h-full metrics-w-full metrics-py-32"};function zd(e,s,r,i,c,m){const n=_("InfoIcon"),l=_("Tippy"),h=_("LoaderBoxTable"),d=_("BoxMessage"),p=_("FakerReportTable"),f=_("ReportTable");return a(),o("div",null,[t("div",Gd,[t("h2",Vd,u(e.title),1)]),t("div",Yd,[e.tippyContentKey?(a(),o("div",Fd,[t(l,{tag:"div",content:e.$t(e.tippyContentKey)},{default:S(()=>[t(n,{class:"metrics-w-5 lg:metrics-w-3 metrics-h-auto"})]),_:1},8,["content"])])):R("",!0),e.loading?(a(),o(h,{key:1})):e.error?(a(),o("div",qd,[t(d,{"is-error":"","large-icon":""},{"message-line-1":S(()=>[A(u(e.$t("error.sentence")),1)]),"message-line-2":S(()=>[t("span",{class:"metrics-text-theme-43 metrics-cursor-pointer metrics-underline metrics-m-auto",onClick:s[1]||(s[1]=te((...y)=>e.refetch&&e.refetch(...y),["prevent"]))},u(e.$t("error.button")),1)]),_:1})])):e.isFirstSync?(a(),o("div",Kd,[t(d,{"show-puffin":"","large-icon":""},{"message-line-1":S(()=>[A(u(e.$t("error.awaitFirstSyncFirstLine")),1)]),"message-line-2":S(()=>[A(u(e.$t("error.awaitFirstSyncSecondLine")),1)]),_:1})])):e.noData?(a(),o("div",Hd,[t(d,{"show-puffin":"","large-icon":""},{"message-line-1":S(()=>[A(u(e.$t("nodata.sentence")),1)]),_:1})])):e.resultTop10Product?(a(),o(Q,{key:5},[e.faker?(a(),o(p,{key:0})):(a(),o(f,{key:1,products:e.products,previousProducts:e.previousProducts},null,8,["products","previousProducts"]))],64)):R("",!0)])])}it.render=zd;var bs=k({name:"Business",components:{BoxUpgradePlanModal:Oe,BoxReportTable:it,BoxEvolution:De,BoxHighlight:Pe,BoxDistribution:Be,RightSection:ke,BoxSyncStatusModal:Me},setup(){const e=re(),s=g(()=>e.state.main.isoCode),r=g(()=>e.getters["main/GET_IS_ADVANCED"]),i=g(()=>e.getters["main/IS_FIRST_ACCESS"]),c=g(()=>e.getters["main/IS_FIRST_SYNC"]),m=[He,Dn],n=["orderSum","orderSumGroupByDate"],l=["revenuenet","refund","shipping","tax"],h=["Credit card","E-Transaction","Paypal","Bank transfer"],d=g(()=>e.getters["main/GET_PLAN_MODAL_OPENED"]);return r.value||setTimeout(function(){e.dispatch("main/SET_PLAN_MODAL_OPENED",!0)},5e3),{advancedPlan:r,upgradePlanModalOpened:d,getTopProduct:qt,getTopOneProduct:kn,arrayQueryOrder:m,revenueByCategory:wn,revenueGrossGroupByDistribution:An,revenueGrossGroupByPaymentsMethods:Gn,ArrayDimensionOrderAverage:n,isFirstSync:c,isFirstAccess:i,isoCode:s,fakerLabels:l,fakerLabelsPaymentsMethods:h}}});const jd={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},Qd={class:"metrics-relative metrics-col-span-12 xxl:metrics-col-span-9 metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-content-start"},Wd={class:"md:metrics-col-span-6 metrics-col-span-12 metrics-mt-5 metrics-z-0"},Jd={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},Xd={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},Zd={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},eu={class:"metrics-col-span-12 sm:metrics-col-span-12 metrics-intro-y metrics-mt-2"},tu={class:"metrics-col-span-12 sm:metrics-col-span-12 xl:metrics-col-span-12 metrics-intro-y"},su={class:"md:metrics-col-span-6 metrics-col-span-12 lg:metrics-mt-5  metrics-mt-2 metrics-z-0"},ru={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},iu={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},nu={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},ou={class:"metrics-col-span-12 lg:metrics-col-span-6 lg:metrics-mt-8 sm:metrics-mt-0"},au={class:"metrics-col-span-12 lg:metrics-col-span-6 lg:metrics-mt-8 metrics-mt-2"},cu={class:"metrics-z-0 metrics-col-span-12 xxl:metrics-col-span-3 xxl:metrics-border-l metrics-border-theme-5 metrics--mb-10 metrics-pb-10"};function lu(e,s,r,i,c,m){const n=_("BoxSyncStatusModal"),l=_("BoxUpgradePlanModal"),h=_("BoxHighlight"),d=_("BoxDistribution"),p=_("BoxEvolution"),f=_("BoxReportTable"),y=_("RightSection");return a(),o("div",jd,[t("div",Qd,[e.isFirstAccess||e.isFirstSync?(a(),o(n,{key:0})):e.upgradePlanModalOpened?(a(),o(l,{key:1,canBeClosed:""})):R("",!0),t("div",Wd,[t("div",Jd,[t("h2",Xd,u(e.$t("tabs.highlights")),1)]),t("div",Zd,[t("div",eu,[t(h,{"key-translate":"highlight.topCategory",query:e.revenueByCategory,typeValue:"currency",typeKpi:"top",dimension:"revenueGrossByCategories",additionnalQueryParams:{isoCode:e.isoCode},faker:!e.advancedPlan},null,8,["query","additionnalQueryParams","faker"])]),t("div",tu,[t(h,{"key-translate":"highlight.topProduct",query:e.getTopOneProduct,typeValue:"currency",typeKpi:"best",dimension:"productTopSeller",additionnalQueryParams:{limit:1,isoCode:e.isoCode},"disabled-network-request":"",faker:!e.advancedPlan},null,8,["query","additionnalQueryParams","faker"])])])]),t("div",su,[t("div",ru,[t("div",iu,[t(d,{title:e.$t("graph.grossRevenueDistribution"),query:e.revenueGrossGroupByDistribution,dimension:"revenueDistribution",faker:!e.advancedPlan,fakerLabels:e.fakerLabels,tippyContentKey:e.$t("graph.grossRevenueDistributionTooltip")},null,8,["title","query","faker","fakerLabels","tippyContentKey"])]),t("div",nu,[t(d,{title:e.$t("graph.revenueGrossByPaymentsMethods"),query:e.revenueGrossGroupByPaymentsMethods,dimension:"revenueGrossGroupByPaymentsMethods",faker:!e.advancedPlan,"faker-labels":e.fakerLabelsPaymentsMethods,"tippy-content-key":e.$t("graph.revenueGrossByPaymentsMethodsTooltip")},null,8,["title","query","faker","faker-labels","tippy-content-key"])])])]),t("div",ou,[t(p,{title:e.$t("graph.ordersEvolution"),queries:e.arrayQueryOrder,dimensions:e.ArrayDimensionOrderAverage,faker:!e.advancedPlan,tippyContentKey:"graph.ordersEvolutionTooltip"},null,8,["title","queries","dimensions","faker"])]),t("div",au,[t(f,{title:e.$t("graph.top10Products"),query:e.getTopProduct,faker:!e.advancedPlan,dimension:"productTopSeller",additionnalQueryParams:{limit:10,isoCode:e.isoCode},"disabled-network-request":""},null,8,["title","query","faker","additionnalQueryParams"])])]),t("div",cu,[t(y)])])}bs.render=lu;var $s=k({name:"CustomerKnowledge",components:{ReportBoxNumber:Ce,BoxHighlight:Pe,BoxDistribution:Be,BoxEvolution:De,BoxUpgradePlanModal:Oe,RightSection:ke,BoxSyncStatusModal:Me},setup(){const e=M(""),s=M(),r=re(),i=g(()=>r.getters["main/GET_IS_ADVANCED"]),c=g(()=>r.getters["main/IS_FIRST_ACCESS"]),m=g(()=>r.getters["main/IS_FIRST_SYNC"]),n=["new_customer","returning_customer"],l=2,h=[Ft,Tn],d=["orderAverage","orderAverageGroupByDate"],p=g(()=>r.getters["main/GET_PLAN_MODAL_OPENED"]);i.value||setTimeout(function(){r.dispatch("main/SET_PLAN_MODAL_OPENED",!0)},5e3),be("bind[importantNotesRef]",v=>{s.value=v});const f=()=>{s.value.tns.goTo("prev")},y=()=>{s.value.tns.goTo("next")},b=g(()=>r.getters["main/IS_GA4_VERSION"]);return{orderSumGroupBySource:Cn,orderAverage:Ft,isFirstAccess:c,orderCountPartNewCustomer:xn,orderCountPartByCustomerCategory:Un,orderCountPartReturningCustomer:Ln,isFirstSync:m,ArrayQueryOrderAverage:h,ArrayDimensionOrderAverage:d,bounceRate:Gt,avgSessions:Vt,cartAbandonedAverage:Lt,avgCartValue:Ut,salesReportFilter:e,upgradePlanModalOpened:p,advancedPlan:i,prevImportantNotes:f,nextImportantNotes:y,fakerLimit:l,fakerLabels:n,isGa4Version:b,engagementRate:zt}}});const mu={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},du={class:"metrics-relative metrics-col-span-12 xxl:metrics-col-span-9 metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-content-start"},uu={class:"md:metrics-col-span-6 metrics-col-span-12 metrics-mt-5 metrics-z-0"},pu={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},gu={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},hu={class:"metrics-grid metrics-grid-cols-12"},_u={class:"metrics-col-span-12 sm:metrics-col-span-12 xl:metrics-col-span-12 metrics-intro-y metrics-mt-2 metrics-mb-5"},fu={class:"metrics-col-span-12 sm:metrics-col-span-12 xl:metrics-col-span-12 metrics-intro-y"},yu={class:"md:metrics-col-span-6 metrics-col-span-12 metrics-z-0 md:metrics-mt-5  metrics-mt-2"},vu={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},bu={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},$u={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2 metrics-mb-5"},Su={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},Eu={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},Tu={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2"},Cu={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},ku={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},Du={class:"metrics-col-span-12 lg:metrics-col-span-6 lg:metrics-mt-8 sm:metrics-mt-0"},wu={class:"metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3  lg:metrics-mt-8 sm:metrics-mt-0 "},Au={class:"metrics-z-0 metrics-col-span-12 xxl:metrics-col-span-3 xxl:metrics-border-l metrics-border-theme-5 metrics--mb-10 metrics-pb-10"};function Ru(e,s,r,i,c,m){const n=_("BoxSyncStatusModal"),l=_("BoxUpgradePlanModal"),h=_("BoxHighlight"),d=_("ReportBoxNumber"),p=_("BoxEvolution"),f=_("BoxDistribution"),y=_("RightSection");return a(),o("div",mu,[t("div",du,[e.isFirstAccess||e.isFirstSync?(a(),o(n,{key:0})):e.upgradePlanModalOpened?(a(),o(l,{key:1,canBeClosed:""})):R("",!0),t("div",uu,[t("div",pu,[t("h2",gu,u(e.$t("tabs.highlights")),1)]),t("div",hu,[t("div",_u,[t(h,{"key-translate":"highlight.averageCart",query:e.orderAverage,typeValue:"percent",typeKpi:"evolution",dimension:"orderAverage",faker:!e.advancedPlan},null,8,["query","faker"])]),t("div",fu,[t(h,{"key-translate":"highlight.repeatCustomer",query:e.orderCountPartReturningCustomer,typeValue:"percent",typeKpi:"evolution",dimension:"orderCountPartReturningCustomer",faker:!e.advancedPlan,tippyContentKey:"highlight.repeatCustomerTooltip"},null,8,["query","faker"])])])]),t("div",yu,[t("div",vu,[t("h2",bu,u(e.$t("tabs.report")),1)]),t("div",$u,[t("div",Su,[t(d,{title:e.$t("boxNumber.averageCartValue"),query:e.avgCartValue,dimension:"orderAverage","is-currency":!0,faker:!e.advancedPlan,"tippy-content-key":e.$t("boxNumber.averageCartValueTooltip")},null,8,["title","query","faker","tippy-content-key"])]),t("div",Eu,[t(d,{title:e.$t("boxNumber.cartAbandonedRate"),query:e.cartAbandonedAverage,dimension:"cartAbandonedAverage","is-percent":!0,faker:!e.advancedPlan,"tippy-content-key":e.$t("boxNumber.cartAbandonedRateTooltip"),"positive-is-lower":!0},null,8,["title","query","faker","tippy-content-key"])])]),t("div",Tu,[t("div",Cu,[e.isGa4Version?(a(),o(d,{key:0,title:e.$t("boxNumber.engagementRate"),query:e.engagementRate,dimension:"engagementRate","is-percent":!0,faker:!e.advancedPlan,icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.engagementRateTooltip"),"must-be-google-linked":!0,"positive-is-lower":!0},null,8,["title","query","faker","tippy-content-key"])):(a(),o(d,{key:1,title:e.$t("boxNumber.bounceRate"),query:e.bounceRate,dimension:"bounceRate","is-percent":!0,faker:!e.advancedPlan,icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.bounceRateTooltip"),"must-be-google-linked":!0,"positive-is-lower":!0},null,8,["title","query","faker","tippy-content-key"]))]),t("div",ku,[e.isGa4Version?R("",!0):(a(),o(d,{key:0,title:e.$t("boxNumber.averageSessionDuration"),query:e.avgSessions,dimension:"avgSessions","is-time":!0,faker:!e.advancedPlan,icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.averageSessionDurationTooltip"),"must-be-google-linked":!0},null,8,["title","query","faker","tippy-content-key"]))])])]),t("div",Du,[t(p,{title:e.$t("graph.averageCartEvolution"),queries:e.ArrayQueryOrderAverage,dimensions:e.ArrayDimensionOrderAverage,"is-currency":!0,faker:!e.advancedPlan,tippyContentKey:"graph.averageCartEvolutionTooltip"},null,8,["title","queries","dimensions","faker"])]),t("div",wu,[t(f,{title:e.$t("graph.customerDistribution"),query:e.orderCountPartByCustomerCategory,dimension:"orderCountPartByCustomerCategory",faker:!e.advancedPlan,tippyContentKey:"graph.customerDistributionTooltip",fakerLabels:e.fakerLabels,fakerLimit:e.fakerLimit},null,8,["title","query","faker","fakerLabels","fakerLimit"])])]),t("div",Au,[t(y)])])}$s.render=Ru;var Ss=k({name:"BoxAnalyticsMustBeLinked",props:{horizontal:{type:Boolean,default:!1}},setup(){const e=re();return{linkToSettings:()=>{window.location=e.state.main.configurationLink}}}});const Nu={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-center metrics-justify-center metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},Iu={class:"metrics-w-full "},Mu=t("div",{class:"metrics-intro-x"},[t("div",{class:"metrics-justify-center metrics-flex metrics-mb-2"},[t("img",{alt:"Prestashop Metrics",class:"metrics-w-10",src:Je})])],-1),Ou={class:"metrics-mt-3 metrics-intro-x"},Pu={class:"metrics-text-center metrics-text-gray-777 metrics-text-xs"};function Bu(e,s,r,i,c,m){const n=_("i18n-t");return a(),o("div",null,[t("div",Nu,[t("div",Iu,[Mu,t("div",Ou,[t("div",Pu,[t(n,{keypath:"error.analyticsSentence"},{linktext:S(()=>[t("span",{class:"metrics-text-theme-43 metrics-cursor-pointer metrics-underline",onClick:s[1]||(s[1]=(...l)=>e.linkToSettings&&e.linkToSettings(...l))},u(e.$t("error.analyticsSentenceLink")),1)]),_:1})])])])])])}Ss.render=Bu;var Es=k({name:"Dashboard",components:{BoxAnalyticsMustBeLinkedLarge:Ss,ReportBoxNumber:Ce,BoxEvolution:De,RightSection:ke,BoxReportTable:it},setup(){const e=M(""),s=M(),r=g(()=>m.state.main.isoCode),i=["revenueGross","revenueGrossGroupByDate"],c=[Ke,Yt],m=re();be("bind[importantNotesRef]",h=>{s.value=h});const n=g(()=>m.getters["main/HAS_GOOGLE_ACCOUNT"]),l=g(()=>m.getters["main/IS_GA4_VERSION"]);return{conversionRate:Ht,sessions:ze,uniqueUsers:je,bounceRate:Gt,avgSessions:Vt,revenueGross:Ke,orderSum:He,cartAbandonedAverage:Lt,avgCartValue:Ut,salesReportFilter:e,revenueByDate:Yt,sessionsByDate:Qe,arrayQueryRevenue:c,arrayDimensionsRevenue:i,showAnalyticsLinkBox:n,getTopProduct:qt,isoCode:r,isGa4Version:l,engagementRate:zt}}});const xu={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},Lu={class:" metrics-relative metrics-col-span-12 xxl:metrics-col-span-9 metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-content-start"},Uu={class:"metrics-col-span-12 metrics-mt-5 metrics-z-0"},Gu={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},Vu={class:" metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},Yu={class:" metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2 metrics-mb-5"},Fu={class:" metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3 metrics-intro-y"},qu={class:" metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3 metrics-intro-y"},Ku={class:" metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3 metrics-intro-y"},Hu={class:" metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3 metrics-intro-y"},zu={key:0,class:"metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2"},ju={class:" metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3 metrics-intro-y"},Qu={class:" metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3 metrics-intro-y"},Wu={class:" metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3 metrics-intro-y"},Ju={class:" metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3 metrics-intro-y"},Xu={key:1,class:"metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2"},Zu={class:"metrics-col-span-12 metrics-intro-y"},ep={class:" metrics-col-span-12 lg:metrics-col-span-6 lg:metrics-mt-8 sm:metrics-mt-0"},tp={class:" metrics-col-span-12 lg:metrics-col-span-6 lg:metrics-mt-8 sm:metrics-mt-0"},sp={class:" metrics-z-0 metrics-col-span-12 xxl:metrics-col-span-3 xxl:metrics-border-l metrics-border-theme-5 metrics--mb-10 metrics-pb-10"};function rp(e,s,r,i,c,m){const n=_("ReportBoxNumber"),l=_("BoxAnalyticsMustBeLinkedLarge"),h=_("BoxEvolution"),d=_("BoxReportTable"),p=_("RightSection");return a(),o("div",xu,[t("div",Lu,[t("div",Uu,[t("div",Gu,[t("h2",Vu,u(e.$t("tabs.overviewTitle")),1)]),t("div",Yu,[t("div",Fu,[t(n,{"is-currency":!0,title:e.$t("boxNumber.revenueGross"),query:e.revenueGross,dimension:"revenueGross","tippy-content-key":e.$t("boxNumber.revenueGrossTooltip")},null,8,["title","query","tippy-content-key"])]),t("div",qu,[t(n,{title:e.$t("boxNumber.orderSum"),query:e.orderSum,dimension:"orderSum","tippy-content-key":e.$t("boxNumber.orderSumTooltip")},null,8,["title","query","tippy-content-key"])]),t("div",Ku,[t(n,{"is-currency":!0,title:e.$t("boxNumber.orderAverage"),query:e.avgCartValue,dimension:"orderAverage","tippy-content-key":e.$t("boxNumber.orderAverageTooltip")},null,8,["title","query","tippy-content-key"])]),t("div",Hu,[t(n,{"is-percent":!0,title:e.$t("boxNumber.cartAbandonedRate"),query:e.cartAbandonedAverage,dimension:"cartAbandonedAverage","tippy-content-key":e.$t("boxNumber.cartAbandonedRateTooltip"),"positive-is-lower":!0},null,8,["title","query","tippy-content-key"])])]),e.showAnalyticsLinkBox?(a(),o("div",zu,[t("div",ju,[t(n,{"is-percent":!0,title:e.$t("boxNumber.conversionRate"),query:e.conversionRate,dimension:"conversionRate",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.conversionRateTooltip"),"must-be-google-linked":!0},null,8,["title","query","tippy-content-key"])]),t("div",Qu,[t(n,{title:e.$t("boxNumber.uniqueVisits"),query:e.uniqueUsers,dimension:"uniqueUsers",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.uniqueVisitsTooltip"),"must-be-google-linked":!0},null,8,["title","query","tippy-content-key"])]),t("div",Wu,[e.isGa4Version?(a(),o(n,{key:0,"is-percent":!0,title:e.$t("boxNumber.engagementRate"),query:e.engagementRate,dimension:"engagementRate",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.engagementRateTooltip"),"must-be-google-linked":!0,"positive-is-lower":!0},null,8,["title","query","tippy-content-key"])):(a(),o(n,{key:1,"is-percent":!0,title:e.$t("boxNumber.bounceRate"),query:e.bounceRate,dimension:"bounceRate",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.bounceRateTooltip"),"must-be-google-linked":!0,"positive-is-lower":!0},null,8,["title","query","tippy-content-key"]))]),t("div",Ju,[e.isGa4Version?R("",!0):(a(),o(n,{key:0,"is-time":!0,title:e.$t("boxNumber.averageSessionDuration"),query:e.avgSessions,dimension:"avgSessions",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.averageSessionDurationTooltip"),"must-be-google-linked":!0},null,8,["title","query","tippy-content-key"]))])])):(a(),o("div",Xu,[t("div",Zu,[t(l)])]))]),t("div",ep,[t(h,{"is-currency":!0,title:e.$t("graph.salesEvolution"),dimensions:e.arrayDimensionsRevenue,queries:e.arrayQueryRevenue,tippyContentKey:e.$t("graph.salesEvolutionTooltip")},null,8,["title","dimensions","queries","tippyContentKey"])]),t("div",tp,[t(d,{title:e.$t("graph.top10Products"),query:e.getTopProduct,faker:!1,dimension:"productTopSeller",additionnalQueryParams:{limit:10,isoCode:e.isoCode},"disabled-network-request":""},null,8,["title","query","additionnalQueryParams"])])]),t("div",sp,[t(p)])])}Es.render=rp;var Ts=k({setup(){return{}}});function ip(e,s,r,i,c,m){const n=_("router-view");return a(),o(n)}Ts.render=ip;var Cs=k({components:{TopBarButtonDate:Fe,ReportBoxNumber:Ce,BoxSynchronization:Ze,BoxNextFeatures:et,BoxNewVersionAvailable:tt,BoxUpgradePlan:Xe},setup(){const e=re(),s=e.state.main.canShowDashboard,r=g(()=>e.state.main.user.email),i=g(()=>e.state.main.metricsLink),c=g(()=>e.state.main.configurationLink);let m=M(!0),n=M(!1),l={},h="1f7f8a936d0bf02d1a36ae49bb4f010c";me(()=>{const v=C(),D=v.subtract(7,"day"),T=v.subtract(1,"day");e.dispatch("main/SET_SLUG_BUTTON_DATE","7d"),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:D.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:T.locale(e.state.main.isoCode).format("YYYY-MM-DD")}),e.dispatch("main/SET_COMPARE_MODE_TYPE",he.PREVIOUS_PERIOD);const E=f();let $;if(e.state.main.shop.shopUuid&&!E){const V={shopId:e.state.main.shop.shopUuid},{result:q}=pe(Kt,V,{fetchPolicy:"network-only",clientId:"paidClient"});ee(q,U=>{U.account&&(e.dispatch("main/SET_ACCOUNT",U.account),localStorage.clear(),b(U.account),n.value=U.account.plan==="metrics-advanced",$=U.account)})}else $=JSON.parse(E),n.value=$.plan==="metrics-advanced",e.dispatch("main/SET_ACCOUNT",$);m.value=!1});const{appContext:{config:{globalProperties:{$segment:d}}}}=Z(),p=()=>{d().track("[MTR] Dashboard Start Setup",J(N({},r.value!=""&&{email:r}),{module:"ps_metrics"})),window.location.href=c.value},f=()=>{const v=h+"=",D=document.cookie.split(";");for(let T=0;T<D.length;T++){let E=D[T];for(;E.charAt(0)===" ";)E=E.substring(1);if(E.indexOf(v)===0)return E.substring(v.length,E.length)}return""},y=()=>{d().track("[MTR] Dashboard Open Metrics",N({module:"ps_metrics"},e.state.main.user.email!==""&&{email:e.state.main.user.email})),window.location.href=i.value},b=v=>{const D=new Date;D.setTime(D.getTime()+1*24*60*60*1e3);const T="expires="+D.toUTCString();document.cookie=h+"="+JSON.stringify(v)+";"+T+";path=/"};return{metricsIsConfigured:s,account:l,loading:m,metricsAdvanced:n,redirectToSettings:p,getCookieAccount:f,setCookieAccount:b,redirectToMetrics:y,revenueGross:Ke,orderSum:He,conversionRate:Ht,uniqueUsers:je}}});const np={id:"psmetricsApp",class:"dashboard metrics-mb-5"},op={key:0},ap={id:"metrics-preview"},cp={class:"metrics-bg-white"},lp={class:"metrics-preview-header metrics-flex"},mp=t("img",{class:"metrics-h-6 metrics-w-6",src:We},null,-1),dp={class:"metrics-uppercase metrics-px-2.5"},up={class:"metrics-m-5"},pp={class:"metrics-flex metrics-justify-between"},gp={class:"metrics-mb-4 metrics-text-gray-600 metrics-italic"},hp={key:0,class:"metrics-grid metrics-grid-cols-12 metrics-gap-3"},_p={class:`
                  metrics-flex
                  metrics-col-span-12
                  metrics-justify-center
                  metrics-items-center
                  metrics-mt-2
                `},fp={class:"metrics-mr-3"},yp={key:1},vp={id:"metrics-preview"},bp={class:"metrics-preview-header metrics-flex"},$p=t("img",{class:"metrics-h-6 metrics-w-6",src:We},null,-1),Sp={class:"metrics-uppercase metrics-px-2.5"},Ep={class:"metrics-p-5 metrics-bg-white"},Tp={class:"metrics-flex metrics-justify-evenly metrics-items-center"},Cp=t("div",{class:"metrics-p-0 sm:metrics-col-span-3"},[t("img",{class:"metrics-w-48",src:Qt})],-1),kp={class:"sm:metrics-col-span-8"},Dp={class:"metrics-float-right metrics-py-5"};function wp(e,s,r,i,c,m){const n=_("TopBarButtonDate"),l=_("ReportBoxNumber"),h=_("BoxNewVersionAvailable"),d=_("BoxSynchronization"),p=_("BoxUpgradePlan"),f=_("BoxNextFeatures");return a(),o("div",np,[e.metricsIsConfigured?(a(),o("div",op,[t("div",ap,[t("div",cp,[t("div",lp,[mp,t("span",dp,u(e.$t("general.title")),1)]),t("div",up,[t("div",pp,[t(n,{class:"metrics-mb-4"}),t("span",gp,u(e.$t("dates.comparedWithPreviousPeriod")),1)]),e.loading?R("",!0):(a(),o("div",hp,[t(l,{class:`
                  metrics-col-span-12
                  xl:metrics-col-span-6
                  metrics-intro-y
                `,"is-currency":!0,title:e.$t("boxNumber.revenueGross"),query:e.revenueGross,dimension:"revenueGross","tippy-content-key":e.$t("boxNumber.revenueGrossTooltip")},null,8,["title","query","tippy-content-key"]),t(l,{class:`
                  metrics-col-span-12
                  xl:metrics-col-span-6
                  metrics-intro-y
                `,title:e.$t("boxNumber.orderSum"),query:e.orderSum,dimension:"orderSum","tippy-content-key":e.$t("boxNumber.orderSumTooltip")},null,8,["title","query","tippy-content-key"]),t(l,{class:`
                  metrics-col-span-12
                  xl:metrics-col-span-6
                  metrics-intro-y
                `,"is-percent":!0,title:e.$t("boxNumber.conversionRate"),query:e.conversionRate,dimension:"conversionRate",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.conversionRateTooltip"),"must-be-google-linked":!0},null,8,["title","query","tippy-content-key"]),t(l,{class:`
                  metrics-col-span-12
                  xl:metrics-col-span-6
                  metrics-intro-y
                `,title:e.$t("boxNumber.uniqueVisits"),query:e.uniqueUsers,dimension:"uniqueUsers",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.uniqueVisitsTooltip"),"must-be-google-linked":!0},null,8,["title","query","tippy-content-key"]),t("div",_p,[t("span",fp,u(e.$t("general.textBeforeOpenMetrics")),1),t("button",{type:"button",class:`
                    metrics-button metrics-button--md
                    metrics-zoom-in
                    metrics-border
                    metrics-bg-theme-43
                    metrics-border-theme-43
                    dark:metrics-border-dark-5
                    metrics-text-white
                  `,onClick:s[1]||(s[1]=y=>e.redirectToMetrics())},u(e.$t("general.openMetrics")),1)]),t(h,{"show-title":!1}),e.metricsAdvanced?(a(),o(d,{key:0,"show-title":!1,account:e.account},null,8,["account"])):(a(),o(p,{key:1,"show-title":!1})),t(f,{"show-title":!1})]))])])])])):(a(),o("div",yp,[t("div",vp,[t("div",bp,[$p,t("span",Sp,u(e.$t("general.title")),1)]),t("div",Ep,[t("div",Tp,[Cp,t("div",kp,[t("h1",null,u(e.$t("incentivePanel.title")),1),t("div",null,[t("ul",null,[t("li",null,u(e.$t("incentivePanel.gather")),1),t("li",null,u(e.$t("incentivePanel.monitor")),1),t("li",null,u(e.$t("incentivePanel.decisions")),1)]),t("div",Dp,[t("button",{type:"button",class:`
                      metrics-button metrics-button--md
                      metrics-border metrics-bg-theme-43 metrics-border-theme-43
                      dark:metrics-border-dark-5
                      metrics-text-white metrics-m-auto
                    `,onClick:s[2]||(s[2]=y=>e.redirectToSettings())},u(e.$t("incentivePanel.link")),1)])])])])])])]))])}Cs.render=wp;var ks=k({name:"Debug",setup(){const e=re(),s=e.state.main.accounts.shopID,r=e.state.main.prestashopVersion,i=e.state.main.moduleVersion,c=e.state.main.phpVersion,m=e.state.main.psAccountVersion,n=e.state.main.psEventBusVersion,l=M({requested:!1,loading:!1,error:!1}),h=g(()=>l.value.loading?"Waiting for an answer from Event Bus...":l.value.requested?"Synchronisation succesfully requested":l.value.error?"Synchronisation request failed":"waiting sync...");return{sync:l,shopId:s,prestashopVersion:r,moduleVersion:i,phpVersion:c,psAccountVersion:m,psEventBusVersion:n,syncTriggerStatus:h,triggerSync:async(p=!1)=>{l.value.loading=!0,l.value.error=!1;try{await e.dispatch("main/REQUEST_SYNCHRONISATION",p),l.value.requested=!0}catch(f){console.error(f),l.value.error=!0}finally{l.value.loading=!1}}}}});const Ap={class:"metrics-flex metrics-flex-col metrics-justify-start metrics-items-center metrics-h-screen"},Rp={class:"metrics-bg-white metrics-m-6 metrics-border-2 metrics-rounded-lg metrics-w-3/5"},Np=t("h3",{class:"metrics-font-black metrics-bg-gray-300 metrics-text-2xl metrics-p-3"}," Shop info ",-1),Ip={class:"metrics-p-3 metrics-ml-3"},Mp={class:"metrics-list-disc"},Op=t("span",{class:"metrics-font-bold"},"Shop ID",-1),Pp=t("span",{class:"metrics-font-bold"},"Prestashop version",-1),Bp=t("span",{class:"metrics-font-bold"},"PHP version",-1),xp=t("span",{class:"metrics-font-bold"},"Account version",-1),Lp=t("span",{class:"metrics-font-bold"},"EventBus version",-1),Up=t("span",{class:"metrics-font-bold"},"Metrics version",-1),Gp={class:"metrics-bg-white metrics-m-6 metrics-border-2 metrics-rounded-lg metrics-w-3/5"},Vp={class:"metrics-font-black metrics-bg-gray-300 metrics-p-3"},Yp=t("h3",{class:"metrics-text-2xl metrics-font-black"}," Synchronisation ",-1),Fp={class:"metrics-p-3 metrics-ml-3 metrics-flex metrics-justify-center"};function qp(e,s,r,i,c,m){return a(),o("div",Ap,[t("div",Rp,[Np,t("div",Ip,[t("ul",Mp,[t("li",null,[Op,A(" : "+u(e.shopId),1)]),t("li",null,[Pp,A(" : "+u(e.prestashopVersion),1)]),t("li",null,[Bp,A(" : "+u(e.phpVersion),1)]),t("li",null,[xp,A(" : "+u(e.psAccountVersion),1)]),t("li",null,[Lp,A(" : "+u(e.psEventBusVersion),1)]),t("li",null,[Up,A(" : "+u(e.moduleVersion),1)])])])]),t("div",Gp,[t("div",Vp,[Yp,t("span",null,u(e.syncTriggerStatus),1)]),t("div",Fp,[t("button",{onClick:s[1]||(s[1]=n=>e.triggerSync(!1)),disabled:e.sync.requested,class:`
            metrics-block
            metrics-bg-theme-24
            metrics-w-64
            metrics-text-white
            metrics-m-3
            metrics-p-3
            metrics-rounded-xl
            disabled:metrics-bg-gray-500
          `}," Trigger simple Synchronisation ",8,["disabled"]),t("button",{onClick:s[2]||(s[2]=n=>e.triggerSync(!0)),disabled:e.sync.requested,class:`
            metrics-block
            metrics-bg-theme-24
            metrics-w-64
            metrics-text-white
            metrics-m-3
            metrics-p-3
            metrics-rounded-xl
            disabled:metrics-bg-gray-500
          `}," Trigger full synchronisation ",8,["disabled"])])])])}ks.render=qp;const we=G(),Kp=[{path:"/",component:Ts,children:[{path:"",component:jt,children:[{path:"",name:"tab_overview",component:Es,meta:{todayIsAccessible:!0}},{path:"business",name:"tab_business",component:bs,meta:{todayIsAccessible:!1}},{path:"customer-knowledge",name:"tab_customer_knowledge",component:$s,meta:{todayIsAccessible:!1}},{path:"acquisition",name:"tab_acquisition",component:_s,meta:{todayIsAccessible:!1}}]}]},{path:"/preview",name:"metrics_preview",component:Cs,meta:{exclude:!0}},{path:"/debug",name:"metrics_debug",component:ks,meta:{exclude:!0}},{path:"/:pathMatch(.*)*",component:Wt,meta:{exclude:!0}}],Hp=(e,s,r)=>r||{left:0,top:0},nt=gr({history:hr(),routes:Kp,scrollBehavior:Hp});nt.beforeEach((e,s,r)=>{we.dispatch("main/SET_TODAY_ACCESSIBLE",e.meta.todayIsAccessible?e.meta.todayIsAccessible:!1),we.dispatch("main/SET_ERROR_ON_KPI",!1),we.getters["main/GET_PLAN_MODAL_OPENED"]&&we.dispatch("main/SET_PLAN_MODAL_OPENED",!1),e.name!=="metrics_preview"&&we.state.main.app==="dashboard"?r({name:"metrics_preview"}):r(),r()});const Ds=["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722"];function zp(e){const s=Ds.length;if(e>s)throw new Error("getRamdomColor: too much elements taken than available colors");return Ds.slice(0,e)}const jp=e=>{e.config.globalProperties.$c=s=>zp(s)};C.extend(bt);C.extend($t);C.extend(_r);function Qp(e,s,r,i="en"){const c=[];let m=C(e);const n=C(s);for(;m<=n;)c.push(C(m).format("YYYY-MM-DD")),m=C(m).add(1,"days");return r==="week"?Wp(c,i):r==="month"?Jp(c):r==="hour"?Xp(c):c}function Wp(e,s="en"){return e.map(r=>`${C(r).locale(s).format("ww")}`).filter(ws)}function Jp(e){return e.map(s=>`${C(s).year()}-${C(s).format("MM")}`).filter(ws)}function Xp(e){const s=[];for(let r=0;r<24;r++){let i="";r<=9?i=e[0]+" 0"+r+":00:00":i=e[0]+" "+r+":00:00",s.push(i)}return s}function ws(e,s,r){return r.indexOf(e)===s}const Zp=e=>{e.config.globalProperties.$dr=(s,r,i)=>Qp(s,r,i)};var eg=e=>{e.use(Jr),e.use(jp),e.use(Zp)};const xe=fr(kt).use(Tt).use(nt).use(cn);xe.use(yr,{router:nt,debug:!1,id:"iqrIKrNdu66IoCgzyHPeaaUweBKZmJmC",pageCategory:"[MTR]"});on(xe);eg(xe);xe.mount("#app");
